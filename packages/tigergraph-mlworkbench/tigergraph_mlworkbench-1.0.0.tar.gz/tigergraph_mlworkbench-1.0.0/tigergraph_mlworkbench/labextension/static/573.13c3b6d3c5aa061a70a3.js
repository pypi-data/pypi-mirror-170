"use strict";(self.webpackChunk_tigergraph_mlworkbench=self.webpackChunk_tigergraph_mlworkbench||[]).push([[573],{573:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E,tigerIcon:()=>S});var n=r(226),s=r(869),i=r(324),a=r(93),o=r(321),l=r(271),d=r.n(l),c=r(379),h=r.n(c),p=r(760);h()(p.Z,{insert:"head",singleton:!1}),p.Z.locals;class u extends d().Component{constructor(e){super(e),this.handleSubmit=this.handleSubmit.bind(this),this.handleCancel=this.handleCancel.bind(this)}handleSubmit(e){e.preventDefault();const t=e.target;this.props.submitServerDetail({serverName:t.serverName.value,serverAddress:t.serverAddress.value.replace(/\/+$/g,""),hostOS:t.hostOS.value,restPort:t.restPort.value,gsqlPort:t.gsqlPort.value}),this.props.setEditingState(!1)}handleCancel(){this.props.setEditingState(!1)}render(){return d().createElement("form",{onSubmit:this.handleSubmit},d().createElement("label",null,"Server Name ",d().createElement("br",null),d().createElement("input",{className:"bottom-margin",type:"text",name:"serverName",placeholder:"My First Server",defaultValue:this.props.serverName,required:!0})),d().createElement("br",null),d().createElement("label",null,"Server Address ",d().createElement("br",null),d().createElement("input",{className:"bottom-margin",type:"text",name:"serverAddress",placeholder:"http://127.0.0.1",defaultValue:this.props.serverAddress,required:!0})),d().createElement("br",null),d().createElement("label",null,"Host OS ",d().createElement("br",null),d().createElement("select",{name:"hostOS",defaultValue:this.props.hostOS,className:"bottom-margin"},d().createElement("option",{value:"linux"},"linux"),d().createElement("option",{value:"mac"},"mac"))),d().createElement("br",null),d().createElement("label",null,"REST Port ",d().createElement("br",null),d().createElement("input",{className:"bottom-margin",type:"text",name:"restPort",placeholder:"9000",defaultValue:this.props.restPort,required:!0})),d().createElement("br",null),d().createElement("label",null,"GSQL Port ",d().createElement("br",null),d().createElement("input",{className:"bottom-margin",type:"text",name:"gsqlPort",placeholder:"14240",defaultValue:this.props.gsqlPort,required:!0})),d().createElement("br",null),d().createElement("button",{type:"submit"},"Submit"),d().createElement("button",{type:"button",onClick:this.handleCancel},"Cancel"))}}class m extends d().Component{constructor(e){super(e),this.state={renderComponent:"testConnection"}}async fetchWithTimeout(e,t=3e3){const r=new AbortController,n=setTimeout((()=>r.abort()),t),s=await fetch(e,{mode:"no-cors",signal:r.signal});return clearTimeout(n),s}componentDidMount(){this.fetchWithTimeout(this.props.serverAddress+":"+this.props.restPort+"/echo",1e3).then((e=>{window.open(this.props.serverAddress+":"+this.props.gsqlPort),this.props.handleExit()}),(e=>{this.setState({renderComponent:"failedConnection"})}))}render(){return"testConnection"===this.state.renderComponent?d().createElement("div",null,"Pinging the database..."):"failedConnection"===this.state.renderComponent?"linux"===this.props.hostOS?d().createElement("div",null,d().createElement("p",null,"Failed to reach database. Would you like to (re)install it to the server?"),d().createElement("button",{onClick:()=>this.setState({renderComponent:"dbInstaller"})},"Yes"),d().createElement("button",{onClick:this.props.handleExit},"No")):d().createElement("div",null,d().createElement("p",null,"Failed to reach database. Please check its status manually. If you haven't installed the database, try deploying a docker container to the server following the"," ",d().createElement("a",{href:"https://docs.tigergraph.com/tigergraph-server/current/getting-started/docker",target:"_blank"},"official guide"),"."),d().createElement("button",{onClick:this.props.handleExit},"Back")):"dbInstaller"===this.state.renderComponent?d().createElement(g,{handleExit:this.props.handleExit,hostOS:this.props.hostOS,serverAddress:this.props.serverAddress,jupyterApp:this.props.jupyterApp}):d().createElement("div",null,"Something went wrong. Please reload.")}}class g extends d().Component{constructor(e){super(e);const t=!(!e.serverAddress.includes("127.0.0.1")&&!e.serverAddress.includes("localhost"));this.state={renderView:t?"toInstall":"ssh",isLocalInstall:t,sshUsername:"",sshKeyfile:""},this.handleInstall=this.handleInstall.bind(this),this.handleSSH=this.handleSSH.bind(this)}handleSSH(e){const t=e.target;this.setState({sshUsername:t.username.value,sshKeyfile:t.keyfile.value,renderView:"toInstall"})}handleInstall(){const e=this.state.sshUsername+"@"+this.props.serverAddress.replace("https://","").replace("http://",""),t=["ssh","-o StrictHostKeyChecking=no"];this.state.sshKeyfile&&t.push("-i",'"'+this.state.sshKeyfile+'"'),t.push(e);const r=["mkdir -p ~/tg_tmp;","cd ~/tg_tmp;","curl -O https://dl.tigergraph.com/enterprise-edition/tigergraph-3.7.0-offline.tar.gz;","tar xzf tigergraph-3.7.0-offline.tar.gz;","cd tigergraph-3.7.0-offline;","sudo ./install.sh -n ;","cd;","rm -rf tg_tmp;","echo; echo; echo; echo Installation finished."];this.setState({renderView:"installing"});const n=this.state.isLocalInstall?r.join(" ")+"\n":t.join(" ")+' "'+r.join(" ")+'"\n';this.props.jupyterApp.commands.execute("terminal:create-new").then((e=>{const t=e.content;try{t.session.send({type:"stdin",content:[n]})}catch(t){console.error(t),e.dispose()}}))}render(){return"ssh"===this.state.renderView?d().createElement("form",{onSubmit:this.handleSSH},d().createElement("p",null,"We will use SSH to install the database onto the server. Please provide your SSH credentials. `sudo` access is required. If using password for SSH, leave the private key blank and you will be prompted to enter password next on the terminal."),d().createElement("input",{type:"text",name:"username",placeholder:"username"}),d().createElement("input",{type:"text",name:"keyfile",placeholder:"path to key file"}),d().createElement("br",null),d().createElement("button",{type:"submit"},"Next")):"toInstall"===this.state.renderView?d().createElement("div",null,d().createElement("p",null,"A terminal will open on the right and install the database to the server. Continue?"),d().createElement("button",{onClick:this.handleInstall},"Yes!"),d().createElement("button",{onClick:this.props.handleExit},"hmm, maybe later")):"installing"===this.state.renderView?d().createElement("div",null,d().createElement("p",null,"Installing Tigergraph database. See the terminal on the right for progress."),d().createElement("button",{onClick:this.props.handleExit},"Close")):d().createElement("div",null,"Something went wrong. Please reload.")}}class v extends d().Component{constructor(e){super(e),this.state={renderView:"default"},this.setEditingState=this.setEditingState.bind(this),this.updateServer=this.updateServer.bind(this),this.handleExit=this.handleExit.bind(this),this.deleteServer=this.deleteServer.bind(this)}setEditingState(e){e?this.setState({renderView:"editing"}):this.setState({renderView:"default"})}updateServer(e){this.props.updateServer(this.props.id,e)}deleteServer(){this.props.deleteServer(this.props.id)}handleExit(){this.setState({renderView:"default"})}render(){return"editing"===this.state.renderView?d().createElement("fieldset",null,d().createElement(u,{serverName:this.props.serverName,serverAddress:this.props.serverAddress,hostOS:this.props.hostOS,restPort:this.props.restPort,gsqlPort:this.props.gsqlPort,setEditingState:this.setEditingState,submitServerDetail:this.updateServer})):"database"===this.state.renderView?d().createElement("fieldset",null,d().createElement(m,{handleExit:this.handleExit,serverAddress:this.props.serverAddress,restPort:this.props.restPort,gsqlPort:this.props.gsqlPort,hostOS:this.props.hostOS,jupyterApp:this.props.jupyterApp})):d().createElement("fieldset",null,d().createElement("legend",{style:{wordBreak:"break-all"}},this.props.serverName),d().createElement("p",{style:{wordBreak:"break-all"}},this.props.serverAddress,d().createElement("button",{className:"btn-invisible",onClick:()=>this.setState({renderView:"editing"})},d().createElement(a.editIcon.react,{height:"14px","margin-bottom":"-2px","margin-left":"2px",padding:"0px"})),d().createElement("button",{className:"btn-invisible",onClick:()=>this.deleteServer()},d().createElement(a.closeIcon.react,{height:"14px","margin-bottom":"-2px","margin-left":"2px",padding:"0px"}))),d().createElement("button",{onClick:()=>this.setState({renderView:"database"})},"GraphStudio"))}}class b extends d().Component{constructor(e){super(e);const t=e.settings.get("servers").composite;this.state={isAdding:!1,serverList:t||[]},this.handleAddServer=this.handleAddServer.bind(this),this.setEditingState=this.setEditingState.bind(this),this.pushServer=this.pushServer.bind(this),this.updateServer=this.updateServer.bind(this),this.deleteServer=this.deleteServer.bind(this)}handleAddServer(){this.setState({isAdding:!0})}setEditingState(e){this.setState({isAdding:e})}pushServer(e){const t=[...this.state.serverList,e];this.props.settings.set("servers",t).then((()=>{this.setState({serverList:t})})).catch((e=>{console.error(`Failed to update server list.\n${e}`)}))}updateServer(e,t){const r=[...this.state.serverList];r[e]=t,this.props.settings.set("servers",r).then((()=>{this.setState({serverList:r})})).catch((e=>{console.error(`Failed to update server list.\n${e}`)}))}deleteServer(e){const t=[...this.state.serverList];t.splice(e,1),this.props.settings.set("servers",t).then((()=>{this.setState({serverList:t})})).catch((e=>{console.error(`Failed to update server list.\n${e}`)}))}render(){return this.state.isAdding?d().createElement(u,{serverName:"My Server",serverAddress:"http://127.0.0.1",hostOS:"linux",restPort:"9000",gsqlPort:"14240",setEditingState:this.setEditingState,submitServerDetail:this.pushServer}):d().createElement("div",null,this.state.serverList.map(((e,t)=>d().createElement(v,{key:t,id:t,serverName:e.serverName,serverAddress:e.serverAddress,hostOS:e.hostOS,restPort:e.restPort,gsqlPort:e.gsqlPort,jupyterApp:this.props.jupyterApp,updateServer:this.updateServer,deleteServer:this.deleteServer}))),d().createElement("button",{onClick:this.handleAddServer},"Add Server"))}}class f extends o.ReactWidget{constructor(e,t){super(),this.addClass("jp-ReactWidget"),this._jupyterApp=e,this._jupyterSettings=t}render(){return d().createElement("div",null,d().createElement("h4",null,"TigerGraph Database Server"),d().createElement("p",null,d().createElement("a",{href:"https://docs.tigergraph.com/ml-workbench/current/intro/",target:"_blank"},"Help")),d().createElement(b,{jupyterApp:this._jupyterApp,settings:this._jupyterSettings}))}}const S=new a.LabIcon({name:"@tigergraph/mlworkbench",svgstr:'<svg id="svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="321.6"\n    viewBox="93, 57, 216, 210">\n    <g id="svgg">\n        <path id="path0"\n            d="M205.700 57.809 C 193.287 58.042,184.499 60.453,175.089 66.207 C 173.890 66.941,173.852 66.949,171.089 67.086 C 154.233 67.923,141.695 73.245,129.316 84.819 C 127.051 86.937,94.125 123.610,94.112 124.030 C 94.105 124.223,97.799 129.447,102.320 135.640 L 110.540 146.900 110.662 150.200 C 110.985 158.946,114.423 166.204,120.949 171.916 C 124.515 175.037,131.600 179.074,131.600 177.984 C 131.600 177.596,133.392 174.539,134.660 172.764 C 142.316 162.045,155.029 154.602,166.605 154.061 C 177.547 153.549,185.917 156.407,190.878 162.347 C 192.293 164.041,192.136 164.116,193.275 161.200 C 198.294 148.346,197.780 133.390,191.873 120.428 C 189.485 115.186,194.788 120.619,199.551 128.294 C 214.421 152.253,212.663 184.711,194.502 221.500 C 188.005 234.663,179.796 247.619,171.503 257.801 C 168.772 261.155,168.552 261.681,169.333 263.002 C 170.170 264.419,170.529 264.371,177.645 261.882 C 199.257 254.321,225.165 244.239,241.350 237.089 C 300.524 210.951,318.523 179.648,297.879 138.779 C 296.092 135.242,295.740 134.756,295.027 134.839 L 294.500 134.900 294.378 139.400 C 293.810 160.274,280.323 181.335,255.700 199.800 C 245.404 207.520,242.517 208.685,247.305 203.186 C 280.550 165.004,286.907 128.612,264.303 105.885 C 257.373 98.918,254.633 98.135,256.478 103.647 C 261.978 120.088,259.681 138.041,249.907 155.000 C 245.323 162.954,244.256 163.543,245.468 157.451 C 251.700 126.140,242.976 102.465,217.416 81.320 C 215.940 80.099,214.484 78.875,214.182 78.600 L 213.632 78.100 216.612 68.000 C 218.251 62.445,219.594 57.833,219.596 57.750 C 219.600 57.589,216.766 57.601,205.700 57.809 M164.897 91.371 C 164.015 92.225,152.563 102.675,145.700 108.890 C 143.280 111.081,141.060 113.092,140.766 113.359 C 139.712 114.316,139.815 113.624,141.244 110.147 C 142.023 108.251,143.580 104.439,144.703 101.675 C 148.383 92.621,148.593 92.466,158.700 91.310 C 161.890 90.945,164.769 90.636,165.097 90.623 L 165.694 90.600 164.897 91.371 "\n            class="jp-icon3" stroke="none" fill="#616161" fill-rule="evenodd"></path>\n    </g>\n</svg>'}),A="@tigergraph/mlworkbench:extension",E={id:A,autoStart:!0,requires:[n.ISettingRegistry,s.ILauncher,i.IFileBrowserFactory],activate:(e,t,r,n)=>{const{shell:s}=e;Promise.all([e.restored,t.load(A)]).then((([,t])=>{const r=new f(e,t);r.id="tigergraph-ml-workbench",r.title.caption="ML Workbench",r.title.icon=S,s.add(r,"left",{rank:100})})).catch((e=>{console.error(`Something went wrong when starting ml workbench.\n${e}`)}))}}},150:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(645),s=r.n(n)()((function(e){return e[1]}));s.push([e.id,'.jp-ReactWidget {\n    color: var(--jp-ui-font-color1);\n    background: var(--jp-layout-color1);\n    font-size: 14px;\n    font: sans-serif;\n    display: flex;\n    align-items: top;\n    justify-content: center;\n    text-align: center;\n    overflow-y: scroll;\n  }\n\nbutton{\n  display:inline-block;\n  margin:0 0.3em 0.3em 0;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  border: none;\n  text-align:center;\n  font-size: 13px;\n}\n\nbutton:hover {\n  background-color: #b9b9b9; \n}\n\n.btn-invisible {\n  background-color: transparent;\n  background-repeat: no-repeat;\n  border: none;\n  cursor: pointer;\n  overflow: hidden;\n  outline: none;\n  margin: 0px;\n  padding: 0px;\n}\n\nfieldset {\n  margin-bottom: 6px;\n}\n\np {\n  margin-bottom: 6px;\n  font-size: 13px;\n}\n\ninput:not([type=checkbox]):not([type=radio]):not([type=submit]),\nselect,\ntext {\n padding: 0;\n width: 100%;\n border-top: 0;\n border-right: 0;\n border-bottom: 1px solid #bdc3c7;\n border-left: 0;\n margin-bottom: 6px;\n transition: border-bottom-color .15s ease-in; \n}\n\nselect.focus {\n  outline: 0;\n  border-bottom-color: #3fc1c9;\n }\n\ntext.focus {\n  outline: 0;\n  border-bottom-color: #3fc1c9;\n }\n\n .jp-TemplateIcon {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAk1BMVEX/////bQD/aQD/YgD/ZQD/ZwD/YwD/XwD/bgD/+vb//fr/9O3/7eP/zrX/7+b/gDT/0rr/4dH/9vD/6Nz/3cz/18P/p3n/m2f/vZ3/i0v/dx//h0L/cxL/jU7/upj/ya//onH/k2H/xKb/mWP/q4L/lVz/s47/hD3/kVX/gC//tJH/dhv/oXP/fSn/qH7/WAD/SgC++NaWAAAJTElEQVR4nO2c53riOhCGQZItDKGHEiCBJSG9nPu/umO5ykbN3eaZ998uxNaHyhSN1OsBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAQw8n8/n7mcXQ5j5puUKncHb9/LBtjbPsQYv813aYSWa0PlFionwA9N92ssli+IGz1r7HHTbesHO4fqUgeU3gT03A+pUisr4/emm5cCSyepfr6ffLUdPPyM5qPt+vNv/0eScanB1023c58zLeXA8G2u3C6KPT1+4Omm5qH1QlhotYVYX033drMONuB0ChIsFdNNzgjw1eLmMtjfeg03eRsbDPq66OHppucifmPnU2fayvOTTc6C2uF1ZOBO+TQLHcZB6iH9dJ0u4055+hAhr0fNt10M044lz7Wi4e7phtvwPAh8xITg+z7ptuvxdllMPECcNsjxNEh3xSMoe22GU5hga7Ez6ZVqJhKh6gurOAltjhKfLwWiCxiY2of3jZv5hK3TQuRcbpaRRH++n0a309cl3qVYfzSY9NSxLxc2UF0iBb/LTUX6EpsZRy1vTb0gygces0k0PXCW5jPGF9roFEPZnZzUL91Dtz9tYY43rtkd3OsxybVCLgTaLBnwYcPeSINu11mcSSydsj/zPnJ58fReeIVi3WTU3P4JRAYhHsj0WcmoK/EO5Z/uEEbInRl8MRrmLkvk4YkI+Ipoo2FyO+ieYbe2Udz01ypCJwYl0+kj0+N6BO4Ml7zmNFeZTSDSdCef83SXa3tTRMCX8W2jmXoj4UEpl0bNhXsU/0Cz2IVbBvps6DAPvrh3/TMBjx+rVvgTKLCXgj81MzgGfeqrTfdac1JgLlEBdr0ngvka6LHTLl3BW6TPalT4J1sHNor4QKbGd7sj/yfLDl0K2Y0kNuC4ukMhnWK3zYc+P9n15cDGJaQldFK5PajpsHr6qtneCuWOOybeAN8/ck++D7fsZVSdKaR2UX/E6FL/MJL+IvQehYbsSuTAWvd+9H3Io3f+B3+INZvHQIlrkwWbGehV4jjPH+ksG/VkAHIllkSQ7a9e+1jSBwJxwrtGgKpvFEfD4sAX3VjHcXpjGgeBoFLtUzKMOisQmiq+6niIpuH+KukhmFaNG7w2una7qXuOTSyftyPgevYhdsU70WvUu9V85yoyib0aRikjsR/GR4NcT2Woe474aqy4KZsPaW2yxKiIzbYjurnWGFEyMcxiaCjOgR5/Iz45ZY75WCIqt2O/HBGtSgU7aZlA3l5l6PSYqB/wdu++bdRvh3VOXFOQYFhrDdQfifcHEjMe8rFF4v/qpOod0k0EO8xT6rlFH347xol3sU73w6+CNpWElqXRIPthX8L1VNChcmxjLnKG8dK7QCUivnetVihP9guiqeECp8T3+FHqWOhCneqFsXsftAVM0UnBgqd5KpGudjfwZVWiMvSiZkUDhUPCfpnnPwRbK4JE9q3qkyGn4r0YjidFMPUtyi82804cC1gacZKSzcNAnUpYVLpLP+ZrDX7wiTpXSTqiVn3kio3VFWTSKswmE4KD9D32l6S0zCRjPI+q/IkQxGFVvgQudH3PG8nNU4SFdPeAMYVFqgUUBg70I/Soe5FT9vUKE7Eh95nVaYYBWUYpsRnSF6lLi5li1FaP+GMRRBzWIKmlcSdXiFChJ0VxbadPFQZD7axdCCwrHfarQu9AI9P/8MKw35HE2EgQnfP29l8uZyvxtuXxwGO2osjb0u2ieUNZCe90lr8LmKQ3KiyEF5pLhDebVPV28vPQdBjKEooLWQ2n5nDdfo35Psr3P+qck/qRd6JCD8LneLjgXULn4uQ9SHZikwJ96goz0MWlSmULjUIX6TF96zUjd92kZkLdyB/pMdIYt2M/rDK/JukdeRL9c4z7VMu6ynLm9Le09UixNu+2FZVmX/7FPpcVLN/cvw7cf+SGUQ0Ezyc+7s4fKvSIjqCpR4RrZPxwnfxP9lydS2QXzXn8QpVZZAoGEjWV0ZnX6rwGj6+38d/hg7ypxcnbTCsadaNBXOFfF+t+EWOlCopRaoow9rr/ySFuUJ+nUmkWqn86SWQKILOk5E2VshXZZ4Ts6NahXz1FzrkONBrnNLiykxHyVWoYoWcRJwnLaRO7Yu78D2VnSpNi4RVUD2Cc53NytGF6eMBFcZPAaM9W9lymiXDlB3axa9LucOpsulqOFvEj1gzMzFUyFUrpv28Ojb32S0DJN/VD9L4MKUiNkO/aS/DT8pVj5MvhpHH+Ani3Pb1GZ2Wn+f/NNqKjLtJUOCQawmvD9XeDKcwNLSiIyw1bQvnxcgcRpZiKPh6y+8JM9rCilP5oiMsLb8nzCjnGu2+PAhvQmvdeb4E6Zy2UGC4Vu5FX66trDYnBgtN5CuJD/vhCje6y8DAGgaJ/KGwB1MniNqHQXkV9d0150NsOGnLL9TQT0Pi2/qJ5PxDpVmoMpDvrYUK/JT9ffqyzKgLW37ty9XOyxWWZygkp8iuDmO2j5VuofGP6a2luzc73RuaZqNxuzErQ1i8SX+H9t+3qBFImMe5kh8oxq29KSRkpbYV3oav4toJ0m6Xm6EepGjg9CZT+UytqVy4CEP1ICV3vbOtKJnKk5ytGXWJsL10HhSjGA1qPVKajweluUcb1Z0FiLTc1DN0xSrKMoh+B3pQUSukxTp04jLJ/JWNZNr+RaZnnCgVgNtvBz20Z9dktPlaN568ZX8ItfI6MAHvOa86fauuAKpctKcPxR2I23WJlApd3CSE7FofLUUYlKZedyCt/QKXAuToQvzWnQ403/iNsax2bxKmydqFCK874cVEZDxmi+hjlwYoI5MtRHjaFRsfMc8wC5F9aPf2oBBzj9TV19JbaZWMTWchwl9d1NfrGev76eD4ZLwYHVu08L5z60uA9B40HkI3XbMPMeoEmzc8bfTaiTSMGO0yY9GPY7uLK9ToDoMRsml54YEOpUOK8OCpKxG8DNXFrcS+dHX1jBlKVxm3+z47vLpESMYoIvgGuo8xE66jCB+ebqH7XBaCHnS777nlJT8ZuLb1Fv45d33x5EjfaINs8ttd10xA8lYiROz3mf6PukTi9geLfm1vZHGJic9vuabvt+OemYjwLhtk34rpS+FX3rmm4aHTcYMcFvW68qa3N/lCln+E7j5vyjSkGd+2PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAG+R/cqHGDEFkmigAAAABJRU5ErkJggg==");\n}\n\na {\n  text-decoration: underline;\n  color: #3366BB;\n}\n\nh4 {\n  margin-bottom: 1px;\n}',""]);const i=s},760:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(645),s=r.n(n),i=r(150),a=s()((function(e){return e[1]}));a.i(i.Z),a.push([e.id,"\n",""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(s[a]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);n&&s[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},379:(e,t,r)=>{var n,s=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function a(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function o(e,t){for(var r={},n=[],s=0;s<e.length;s++){var o=e[s],l=t.base?o[0]+t.base:o[0],d=r[l]||0,c="".concat(l," ").concat(d);r[l]=d+1;var h=a(c),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(i[h].references++,i[h].updater(p)):i.push({identifier:c,updater:g(p,t),references:1}),n.push(c)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=s(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,c=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function h(e,t,r,n){var s=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,s);else{var i=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function p(e,t,r){var n=r.css,s=r.media,i=r.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var u=null,m=0;function g(e,t){var r,n,s;if(t.singleton){var i=m++;r=u||(u=l(t)),n=h.bind(null,r,i,!1),s=h.bind(null,r,i,!0)}else r=l(t),n=p.bind(null,r,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var s=a(r[n]);i[s].references--}for(var l=o(e,t),d=0;d<r.length;d++){var c=a(r[d]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}r=l}}}}}]);