"use strict";(self.webpackChunk_infuseai_piperider_ui=self.webpackChunk_infuseai_piperider_ui||[]).push([[96],{7096:function(e,n,s){s.r(n),s.d(n,{default:function(){return N}});var t=s(9439),i=s(4190),r=s(8625),l=s(2791),a=s(2915),d=s(8353),c=s(8693),o=s(5650),u=s(1573),h=s(8982),x=s(2104),m=s(709),p=s(1892),j=s(8493),f=s(4304),b=s(7504),g=s(3433),v=s(1413),T=s(1089),Z=s(5984),y=s(964),w=s(33),C=s(184);function R(e){var n=e.assertions,s=function(e,n){var s=((null===e||void 0===e?void 0:e.tests)||[]).reduce((function(e,n){return S("PipeRider",n,e)}),{passed:[],failed:[]}),t=s.passed,i=s.failed,r=Object.keys((null===e||void 0===e?void 0:e.columns)||{}).flatMap((function(n){return((null===e||void 0===e?void 0:e.columns[n])||[]).map((function(e){return(0,v.Z)((0,v.Z)({},e),{},{colName:n})}))})).reduce((function(e,n){return S("PipeRider",n,e)}),{passed:[],failed:[]}),l=r.passed,a=r.failed,d=((null===n||void 0===n?void 0:n.tests)||[]).reduce((function(e,n){return S("dbt",n,e)}),{passed:[],failed:[]}),c=d.passed,o=d.failed,u=Object.keys((null===n||void 0===n?void 0:n.columns)||{}).flatMap((function(e){return((null===n||void 0===n?void 0:n.columns[e])||[]).map((function(n){return(0,v.Z)((0,v.Z)({},n),{},{colName:e})}))})).reduce((function(e,n){return S("dbt",n,e)}),{passed:[],failed:[]}),h=u.passed,x=u.failed;return{passedAssertions:[].concat((0,g.Z)(t),(0,g.Z)(l),(0,g.Z)(c),(0,g.Z)(h)),failedAssertions:[].concat((0,g.Z)(i),(0,g.Z)(a),(0,g.Z)(o),(0,g.Z)(x))}}(null===n||void 0===n?void 0:n.piperider,null===n||void 0===n?void 0:n.dbt),t=s.passedAssertions,r=s.failedAssertions;return 0===t.length&&0===r.length?(0,C.jsx)(i.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,C.jsx)(i.xv,{textAlign:"center",children:"No tests available"})}):(0,C.jsx)(i.kC,{direction:"column",gap:4,children:(0,C.jsx)(T.xJ,{children:(0,C.jsxs)(T.iA,{variant:"simple",children:[(0,C.jsx)(T.hr,{children:(0,C.jsxs)(T.Tr,{children:[(0,C.jsx)(T.Th,{children:"Column"}),(0,C.jsx)(T.Th,{children:"Assertion"}),(0,C.jsx)(T.Th,{children:"Status"}),(0,C.jsx)(T.Th,{children:"Expected"}),(0,C.jsx)(T.Th,{children:"Actual"}),(0,C.jsx)(T.Th,{children:"Source"})]})}),(0,C.jsxs)(T.p3,{children:[r.map((function(e){return(0,C.jsxs)(T.Tr,{children:[(0,C.jsx)(T.Td,{children:e.colName}),(0,C.jsx)(T.Td,{children:e.name}),(0,C.jsx)(T.Td,{children:(0,C.jsx)(y.s,{status:e.status})}),(0,C.jsx)(T.Td,{children:(0,m.sG)(e.expected)}),(0,C.jsx)(T.Td,{color:"red.500",children:(0,m.sG)(e.actual)}),(0,C.jsx)(T.Td,{children:e.source})]},e.name)})),t.map((function(e){return(0,C.jsxs)(T.Tr,{children:[(0,C.jsx)(T.Td,{children:e.colName||w.Nj}),(0,C.jsx)(T.Td,{children:e.name}),(0,C.jsx)(T.Td,{children:(0,C.jsx)(y.s,{status:e.status})}),(0,C.jsx)(T.Td,{children:(0,m.sG)(e.expected)}),(0,C.jsx)(T.Td,{children:(0,m.sG)(e.actual)}),(0,C.jsx)(T.Td,{children:e.source})]},(0,Z.x0)())}))]})]})})})}function S(e,n,s){return"passed"===n.status?s.passed.push((0,v.Z)((0,v.Z)({},n),{},{source:e})):s.failed.push((0,v.Z)((0,v.Z)({},n),{},{source:e})),s}s(8544),s(5801),s(8686),s(3811),s(5788),s(1761),s(4813),s(4398);var _=s(6461),A=s(5175);s(3451),s(6523),s(2740),s(5676),s(2917);s(8083);s(2483),s(1316),s(6243);function N(e){var n=e.data,s=n.tables,g=n.created_at,v=e.columnName,T=e.tableName,Z=(0,r.TH)(),y=(0,t.Z)(Z,2)[1],w=(0,l.useState)(0),S=(0,t.Z)(w,2),N=S[0],P=S[1],k=(0,m.D8)(g)||"",D=decodeURIComponent(v),H=decodeURIComponent(T),G=0===D.length,O=s[H],I=O.columns[D],M=I||{},Y=M.type,z=M.histogram;if(!T||!O)return(0,C.jsx)(d.o,{isSingleReport:!0,time:k,children:(0,C.jsx)(j.J,{text:"No profile data found for table name: ".concat(T)})});var E="1px solid lightgray",J=[{label:"Tables",path:"/"},{label:H,path:"/tables/".concat(H,"/columns/")},{label:D,path:"/tables/".concat(H,"/columns/").concat(D)}];return(0,C.jsx)(d.o,{isSingleReport:!0,time:k,maxHeight:u.t4,children:(0,C.jsxs)(i.rj,{width:"inherit",templateColumns:"1fr 2fr",children:[(0,C.jsx)(i.P4,{colSpan:3,children:(0,C.jsx)(_.Qu,{breadcrumbList:J})}),(0,C.jsx)(i.P4,{overflowY:"scroll",maxHeight:u.t4,children:(0,C.jsx)(x._,{baseDataTables:s,currentTable:H,currentColumn:D,onSelect:function(e){var n=e.tableName,s=e.columnName;P(0),y("/tables/".concat(n,"/columns/").concat(s))},singleOnly:!0})}),G?(0,C.jsxs)(i.P4,{maxHeight:u.t4,overflowY:"auto",p:10,children:[(0,C.jsx)(b.m,{baseTable:O,singleOnly:!0}),(0,C.jsx)(i.X6,{size:"md",my:5,children:"Assertions"}),(0,C.jsx)(R,{assertions:{piperider:O.piperider_assertion_result,dbt:null===O||void 0===O?void 0:O.dbt_assertion_result}}),(0,C.jsx)(i.X6,{size:"md",my:5,children:"Schema"}),(0,C.jsx)(A.rH,{baseTableDatum:O,singleOnly:!0,onSelect:function(){}})]}):(0,C.jsxs)(i.rj,{templateColumns:"500px 1fr",templateRows:"5em 1fr 1fr",width:"100%",maxHeight:u.t4,overflowY:"auto",children:[(0,C.jsx)(i.P4,{colSpan:2,rowSpan:1,children:(0,C.jsx)(a.u,{columnDatum:I,maxHeight:"5em",height:"100%",bg:"blue.800",color:"white"})}),(0,C.jsx)(i.P4,{p:10,bg:"gray.50",borderRight:E,children:(0,C.jsx)(c.t,{columnDatum:I,hasAnimation:!0})}),(0,C.jsx)(i.P4,{gridRow:"span 1",minWidth:0,p:9,bg:"gray.50",children:(0,C.jsx)(o.r,{baseColumnDatum:I,hasAnimation:!0,tabIndex:N,onSelectTab:function(e){return P(e)}})}),(0,C.jsx)(i.P4,{gridRow:"span 1",p:9,bg:"gray.50",borderRight:E,children:(0,f.jl)(Y)&&(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(p.E,{columnDatum:I})})}),(0,f.hG)(Y)&&z&&(0,C.jsx)(i.P4,{gridRow:"span 1",p:9,bg:"gray.50",minWidth:"1px",children:(0,C.jsx)(h.M,{columnDatum:I})})]})]})})}}}]);
//# sourceMappingURL=96.94f89916.chunk.js.map