<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <meta name="generator" content="sphinx-5.1.1, furo 2022.06.21"/>
        <title>v0.3.0 - Mayerâ€™s Merit (May, 21, 2020) - TESPy 0.6.1 - Leidenfrost&#39;s Library documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">TESPy 0.6.1 - Leidenfrost's Library documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/./images/logo_tespy_mid.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/./images/logo_tespy_mid_darkmode.svg" alt="Dark Logo"/>
  </div>
  
  <span class="sidebar-brand-text">TESPy 0.6.1 - Leidenfrost's Library documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Thermal Engineering Systems in Python</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation and setup</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../basics.html">Modeling Basic Systems</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../basics/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/heat_pump.html">Heat Pump</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/rankine_cycle.html">Rankine Cycle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/gas_turbine.html">Gas Turbine</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basics/district_heating.html">District Heating Network</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials.html">Advanced Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/heat_pump_steps.html">Build a Heat Pump Stepwise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/starting_values.html">How to Generate Stable Starting Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/heat_pump_exergy.html">Exergy Analysis of a Ground-Coupled Heat Pump</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/pygmo_optimization.html">Thermal Power Plant Efficiency Optimization</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Example Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../regular_meeting.html">TESPy community</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../modules.html">TESPy modules</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../modules/networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/networks.html#network-reader">Network reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/components.html">Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/components.html#component-groups-subystems">Component Groups: Subystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/connections.html">Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/characteristics.html">Characteristics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/fluid_properties.html">Fluid properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/ude.html">User defined equations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../benchmarks.html">Benchmarks</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api.html">API Documentation</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/components.html">tespy.components module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/connections.html">tespy.connections module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/data.html">tespy.data module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/networks.html">tespy.networks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/tools.html">tespy.tools module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../whats_new.html">Whatâ€™s New</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zliterature.html">Literature</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../advanced/exergy.html">Exergy analysis</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribute to TESPy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../development/what.html">What can I contribute?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development/how.html">How can I contribute?</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="v0-3-0-mayer-s-merit-may-21-2020">
<h1>v0.3.0 - Mayerâ€™s Merit (May, 21, 2020)<a class="headerlink" href="#v0-3-0-mayer-s-merit-may-21-2020" title="Permalink to this heading">#</a></h1>
<p>TESPy version 0.3.0 -
<a class="reference external" href="https://en.wikipedia.org/wiki/Julius_von_Mayer">Mayerâ€™s Merit</a> comes with a
lot of new features and a publication in the Journal of Open Source Software.
The paper is available at the website of the
<a class="reference external" href="https://joss.theoj.org/papers/590b0b4767606bce4d0ebe397d4b7a4f">JOSS</a>.</p>
<p>BibTeX citation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@article</span><span class="p">{</span><span class="n">Witte2020</span><span class="p">,</span>
    <span class="n">doi</span> <span class="o">=</span> <span class="p">{</span><span class="mf">10.21105</span><span class="o">/</span><span class="n">joss</span><span class="mf">.02178</span><span class="p">}</span>
    <span class="n">year</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2020</span><span class="p">},</span>
    <span class="n">publisher</span> <span class="o">=</span> <span class="p">{</span><span class="n">The</span> <span class="n">Open</span> <span class="n">Journal</span><span class="p">},</span>
    <span class="n">volume</span> <span class="o">=</span> <span class="p">{</span><span class="mi">5</span><span class="p">},</span>
    <span class="n">number</span> <span class="o">=</span> <span class="p">{</span><span class="mi">49</span><span class="p">},</span>
    <span class="n">pages</span> <span class="o">=</span> <span class="p">{</span><span class="mi">2178</span><span class="p">},</span>
    <span class="n">author</span> <span class="o">=</span> <span class="p">{</span><span class="n">Francesco</span> <span class="n">Witte</span> <span class="ow">and</span> <span class="n">Ilja</span> <span class="n">Tuschy</span><span class="p">},</span>
    <span class="n">title</span> <span class="o">=</span> <span class="p">{{</span><span class="n">TESPy</span><span class="p">}:</span> <span class="p">{</span><span class="n">T</span><span class="p">}</span><span class="n">hermal</span> <span class="p">{</span><span class="n">E</span><span class="p">}</span><span class="n">ngineering</span> <span class="p">{</span><span class="n">S</span><span class="p">}</span><span class="n">ystems</span> <span class="ow">in</span> <span class="p">{</span><span class="n">P</span><span class="p">}</span><span class="n">ython</span><span class="p">},</span>
    <span class="n">journal</span> <span class="o">=</span> <span class="p">{</span><span class="n">Journal</span> <span class="n">of</span> <span class="n">Open</span> <span class="n">Source</span> <span class="n">Software</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this heading">#</a></h2>
<ul>
<li><p>Make entropy <code class="code docutils literal notranslate"><span class="pre">myconn.s.val</span></code> or <code class="code docutils literal notranslate"><span class="pre">myconn.s.val_SI</span></code> and specific
volume <code class="code docutils literal notranslate"><span class="pre">myconn.vol.val</span></code> or <code class="code docutils literal notranslate"><span class="pre">myconn.vol.val_SI</span></code> respectively
available after simulation
(<a class="reference external" href="https://github.com/oemof/tespy/pull/172">PR #172</a>).</p></li>
<li><p>Connections, components and busses are now easily accessible on every
network. Connections now have a label, which can be specified individually,
the default value of the label is given by the following logic.
<code class="code docutils literal notranslate"><span class="pre">source:source_id_target:target_id</span></code>, where source and target are the
labels of the connected components.</p>
<p>Access the objects with:</p>
<ul class="simple">
<li><p>mynetwork.busses[â€˜mybuslabelâ€™]</p></li>
<li><p>mynetwork.components[â€˜mycomponentlabelâ€™]</p></li>
<li><p>mynetwork.connections[â€˜myconnectionlabelâ€™]</p></li>
</ul>
<p>(<a class="reference external" href="https://github.com/oemof/tespy/pull/173">PR #173</a>)</p>
</li>
<li><p>Specification of the CoolProp back end is now possible. You can specify the
back end by adding it in front of the fluidâ€™s name on creating a network, for
example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tespy.networks</span> <span class="kn">import</span> <span class="n">network</span>
<span class="n">fluid_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;air&#39;</span><span class="p">,</span> <span class="s1">&#39;BICUBIC::water&#39;</span><span class="p">,</span> <span class="s1">&#39;INCOMP::DowQ&#39;</span><span class="p">]</span>
<span class="n">network</span><span class="p">(</span><span class="n">fluids</span><span class="o">=</span><span class="n">fluid_list</span><span class="p">)</span>
</pre></div>
</div>
<p>If you do not specify a back end <code class="code docutils literal notranslate"><span class="pre">HEOS</span></code> will be applied (as for
<code class="code docutils literal notranslate"><span class="pre">air</span></code> in this example). This has been the case until now as well, thus
no further changes are required to match an 0.2.x application to the
0.3.x API. For all back ends available please refer to the
<a class="reference internal" href="../modules/fluid_properties.html#tespy-fluid-properties-label"><span class="std std-ref">fluid properties section</span></a>. To specify
the fluid vector on a connection leave out the back end specification, e.g.:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">myconnection</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">fluid</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;DowQ&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;water&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;air&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span>
</pre></div>
</div>
<p>(<a class="reference external" href="https://github.com/oemof/tespy/pull/174">PR #174</a>).</p>
</li>
<li><p>Unsetting a value is now also possible using <code class="code docutils literal notranslate"><span class="pre">None</span></code> instead of
<code class="code docutils literal notranslate"><span class="pre">np.nan</span></code> (<a class="reference external" href="https://github.com/oemof/tespy/pull/178">PR #178</a>).</p></li>
<li><p>It is possible to choose a base for your components when adding them to a
bus:</p>
<blockquote>
<div><ul>
<li><p><code class="code docutils literal notranslate"><span class="pre">'component'</span></code>: This means, the efficiency definition of the bus is</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\eta=\frac{\dot{E}_\mathrm{bus}}{\dot{E}_\mathrm{component}}\]</div>
</div>
</li>
<li><p><code class="code docutils literal notranslate"><span class="pre">'bus'</span></code>: This means, the efficiency definition of the bus is</p>
<div class="math-wrapper docutils container">
<div class="math notranslate nohighlight">
\[\eta=\frac{\dot{E}_\mathrm{component}}{\dot{E}_\mathrm{bus}}\]</div>
</div>
</li>
</ul>
</div></blockquote>
<p>These definitions also apply to the characteristic line usage. The default
setting (if you do not specify the base) uses <code class="code docutils literal notranslate"><span class="pre">'base':</span> <span class="pre">'component'</span></code>.
You therefore do not need do adapt your scripts regarding this change. For
an example of the bus usage see the examples section below
(<a class="reference external" href="https://github.com/oemof/tespy/pull/157">PR #157</a>).</p>
</li>
<li><p>Within the bussesâ€™ printouts the efficiency of every component on the
respective bus is displayed. Additionally, it is possible to get the
bus value and the efficiency of a specific component on a specific bus.</p>
<blockquote>
<div><ul class="simple">
<li><p>to get the bus value use <code class="code docutils literal notranslate"><span class="pre">mycomp.calc_bus_value(mybus)</span></code> and</p></li>
<li><p>to get the efficiency use <code class="code docutils literal notranslate"><span class="pre">mycomp.calc_bus_efficiency(mybus)</span></code></p></li>
</ul>
</div></blockquote>
<p>where <code class="code docutils literal notranslate"><span class="pre">mycomp</span></code> is a component object and <code class="code docutils literal notranslate"><span class="pre">mybus</span></code> is a bus the
component has been added to
(<a class="reference external" href="https://github.com/oemof/tespy/pull/157">PR #157</a>).</p>
</li>
<li><p>New component <a class="reference internal" href="../api/components.html#module-tespy.components.nodes.droplet_separator" title="tespy.components.nodes.droplet_separator"><code class="xref py py-class docutils literal notranslate"><span class="pre">tespy.components.nodes.droplet_separator</span></code></a> for
separation of a single fluid in two phase state into saturated gas and
saturated liquid phase. An example is given in the docstrings of the class
documentation (<a class="reference external" href="https://github.com/oemof/tespy/pull/186">PR #186</a>).</p></li>
<li><p>New component <a class="reference internal" href="../api/components.html#module-tespy.components.heat_exchangers.parabolic_trough" title="tespy.components.heat_exchangers.parabolic_trough"><code class="xref py py-class docutils literal notranslate"><span class="pre">tespy.components.heat_exchangers.parabolic_trough</span></code></a>
for concentrated solar power simulation. An example is given in the
docstrings of the class documentation
(<a class="reference external" href="https://github.com/oemof/tespy/pull/191">PR #191</a>).</p></li>
<li><p>New property <code class="code docutils literal notranslate"><span class="pre">min_iter</span></code> of the
<code class="xref py py-class docutils literal notranslate"><span class="pre">tespy.networks.networks.network</span></code> class, allowing to specify the
minimum amount of iterations before a solution is accepted
(<a class="reference external" href="https://github.com/oemof/tespy/pull/197">PR #197</a>).</p></li>
</ul>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Documentation has been updated according to the API-changes.</p></li>
<li><p>Fixed many typos on the online-documentation.</p></li>
</ul>
</div>
<div class="section" id="parameter-renaming">
<h2>Parameter renaming<a class="headerlink" href="#parameter-renaming" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Adding components to a bus now requires <code class="code docutils literal notranslate"><span class="pre">'comp'</span></code> instead of <code class="code docutils literal notranslate"><span class="pre">'c'</span></code>
and <code class="code docutils literal notranslate"><span class="pre">'param'</span></code> instead of <code class="code docutils literal notranslate"><span class="pre">'p'</span></code>
(<a class="reference external" href="https://github.com/oemof/tespy/pull/157">PR #157</a>).</p></li>
<li><p>The former parameter <code class="code docutils literal notranslate"><span class="pre">kA</span></code> has been renamed to <code class="code docutils literal notranslate"><span class="pre">kA_char</span></code> as the
behavior in offdesign was following a characteristic instead of a constant
value. Additionally a new parameter <code class="code docutils literal notranslate"><span class="pre">kA</span></code> has been implemented, which
represents a specified constant value for <code class="code docutils literal notranslate"><span class="pre">kA</span></code> in both design and
offdesign cases (<a class="reference external" href="https://github.com/oemof/tespy/pull/199">PR #199</a>).</p></li>
</ul>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Move from nose to pytest
(<a class="reference external" href="https://github.com/oemof/tespy/pull/165">PR #165</a>).</p></li>
<li><p>Add fluid property test for a mixture of a tespy_fluid with a third
fluid and a mixture of the same individual fluids
(<a class="reference external" href="https://github.com/oemof/tespy/pull/174">PR #174</a>).</p></li>
<li><p>Add a gasturbine model test for comparison of the stoichiometric combustion
chamber with the standard combustion chamber
(<a class="reference external" href="https://github.com/oemof/tespy/pull/174">PR #174</a>).</p></li>
<li><p>Add bus tests for efficiency definitions
(<a class="reference external" href="https://github.com/oemof/tespy/pull/157">PR #157</a>).</p></li>
<li><p>Add Python 3.8, PEP and documentation build tests
(<a class="reference external" href="https://github.com/oemof/tespy/pull/201">PR #201</a>).</p></li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Increase the number of support points for tespy_fluid tabular data creation
in order to lift accuracy to a more acceptable value
(<a class="reference external" href="https://github.com/oemof/tespy/pull/174">PR #174</a>).</p></li>
<li><p>Fix the default characteristic line for compressor isentropic efficiency: The
line did not have an intersection with the point 1/1
(<a class="reference external" href="https://github.com/oemof/tespy/pull/196">PR #196</a>).</p></li>
<li><p>If a temperature value of a mixture was not found within the maximum number
of newton iterations in the <a class="reference internal" href="../api/tools.html#module-tespy.tools.fluid_properties" title="tespy.tools.fluid_properties"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tespy.tools.fluid_properties</span></code></a> module,
the wrong value was still displayed in the output without a warning. In this
case, the value will be <code class="code docutils literal notranslate"><span class="pre">nan</span></code> in the future and a warning message is
displayed (<a class="reference external" href="https://github.com/oemof/tespy/pull/200">PR #200</a>).</p></li>
</ul>
</div>
<div class="section" id="other-changes">
<h2>Other changes<a class="headerlink" href="#other-changes" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Improve naming in networks, components and connections modules
(<a class="reference external" href="https://github.com/oemof/tespy/pull/172">PR #172</a>,
<a class="reference external" href="https://github.com/oemof/tespy/pull/175">PR #175</a>).</p></li>
<li><p>The Parameter <code class="code docutils literal notranslate"><span class="pre">T_range</span></code> of networks is deprecated. The fluid property
calls for mixtures have been modified to prevent errors when the temperature
of the mixture is below the minimum or above the maximum temperature limit of
a component of the mixture
(<a class="reference external" href="https://github.com/oemof/tespy/pull/200">PR #200</a>).</p></li>
<li><p>Restructure package skeleton
(<a class="reference external" href="https://github.com/oemof/tespy/pull/201">PR #201</a>).</p></li>
</ul>
</div>
<div class="section" id="changes-in-the-api">
<h2>Changes in the API<a class="headerlink" href="#changes-in-the-api" title="Permalink to this heading">#</a></h2>
<p>The changes affect</p>
<ul class="simple">
<li><p>reading design point information from the <code class="code docutils literal notranslate"><span class="pre">design_path</span></code></p></li>
<li><p>reading starting value information from the <code class="code docutils literal notranslate"><span class="pre">init_path</span></code></p></li>
<li><p>and loading networks with the network readerâ€™s
<a class="reference internal" href="../api/networks.html#tespy.networks.network_reader.load_network" title="tespy.networks.network_reader.load_network"><code class="xref py py-meth docutils literal notranslate"><span class="pre">tespy.networks.network_reader.load_network()</span></code></a> method.</p></li>
</ul>
<p>Data generated in older versions of TESPy can not be imported. In order to fix
this follow the steps below.</p>
<ul class="simple">
<li><p>rename the <code class="code docutils literal notranslate"><span class="pre">comps</span></code> folder to <code class="code docutils literal notranslate"><span class="pre">components</span></code></p></li>
<li><p>rename the <code class="code docutils literal notranslate"><span class="pre">conns.csv</span></code> file to <code class="code docutils literal notranslate"><span class="pre">connections.csv</span></code></p></li>
</ul>
<p>and within the file rename the columns</p>
<ul class="simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">s</span></code> to <code class="code docutils literal notranslate"><span class="pre">source</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">s_id</span></code> to <code class="code docutils literal notranslate"><span class="pre">source_id</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">t</span></code> to <code class="code docutils literal notranslate"><span class="pre">target</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">t_id</span></code> to <code class="code docutils literal notranslate"><span class="pre">target_id</span></code></p></li>
</ul>
<p>If you want to use the network reader,</p>
<ul class="simple">
<li><p>create a <code class="code docutils literal notranslate"><span class="pre">network.json</span></code> file.</p></li>
<li><p>add the desired contents as listed below.</p></li>
</ul>
<p>The fluids are represented in a dictionary containing the fluidâ€™s names as keys
and the CoolProp back end as value. <code class="code docutils literal notranslate"><span class="pre">&quot;HEOS&quot;</span></code> is the default back end,
which has been used until version 0.2.x in TESPy.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;fluids&quot;</span><span class="p">:</span>
    <span class="p">{</span>
        <span class="nt">&quot;CO2&quot;</span><span class="p">:</span> <span class="s2">&quot;TTSE&quot;</span><span class="p">,</span>
        <span class="nt">&quot;O2&quot;</span><span class="p">:</span> <span class="s2">&quot;HEOS&quot;</span><span class="p">,</span>
        <span class="nt">&quot;N2&quot;</span><span class="p">:</span> <span class="s2">&quot;BICUBIC&quot;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="nt">&quot;T_unit&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span><span class="p">,</span>
    <span class="nt">&quot;h_unit&quot;</span><span class="p">:</span> <span class="s2">&quot;kJ / kg&quot;</span><span class="p">,</span>
    <span class="nt">&quot;m_unit&quot;</span><span class="p">:</span> <span class="s2">&quot;kg / s&quot;</span><span class="p">,</span>
    <span class="nt">&quot;h_range&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">150</span><span class="p">,</span> <span class="mi">3000</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you are having trouble applying these changes, you are welcome to open an
issue on our <a class="reference external" href="https://github.com/oemof/tespy/issues">github repository</a>.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this heading">#</a></h2>
<p>We have added a code example below to underline the changes regarding the bus
usage. Simply, a pump is connected to a source and a sink. The pumpâ€™s
efficiency and pressure rise are defined. We define three different busses
and add the pump to these busses with a given efficiency value of <code class="code docutils literal notranslate"><span class="pre">0.95</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tespy.components</span> <span class="kn">import</span> <span class="n">pump</span><span class="p">,</span> <span class="n">sink</span><span class="p">,</span> <span class="n">source</span>
<span class="kn">from</span> <span class="nn">tespy.connections</span> <span class="kn">import</span> <span class="n">bus</span><span class="p">,</span> <span class="n">connection</span>
<span class="kn">from</span> <span class="nn">tespy.networks</span> <span class="kn">import</span> <span class="n">network</span>

<span class="n">nw</span> <span class="o">=</span> <span class="n">network</span><span class="p">(</span><span class="n">fluids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;H2O&#39;</span><span class="p">],</span> <span class="n">p_unit</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">T_unit</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="p">)</span>

<span class="n">si</span> <span class="o">=</span> <span class="n">sink</span><span class="p">(</span><span class="s1">&#39;sink&#39;</span><span class="p">)</span>
<span class="n">so</span> <span class="o">=</span> <span class="n">source</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">)</span>
<span class="n">pu</span> <span class="o">=</span> <span class="n">pump</span><span class="p">(</span><span class="s1">&#39;pump&#39;</span><span class="p">)</span>

<span class="n">so_pu</span> <span class="o">=</span> <span class="n">connection</span><span class="p">(</span><span class="n">so</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">pu</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">)</span>
<span class="n">pu_si</span> <span class="o">=</span> <span class="n">connection</span><span class="p">(</span><span class="n">pu</span><span class="p">,</span> <span class="s1">&#39;out1&#39;</span><span class="p">,</span> <span class="n">si</span><span class="p">,</span> <span class="s1">&#39;in1&#39;</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_conns</span><span class="p">(</span><span class="n">so_pu</span><span class="p">,</span> <span class="n">pu_si</span><span class="p">)</span>

<span class="n">bus1</span> <span class="o">=</span> <span class="n">bus</span><span class="p">(</span><span class="s1">&#39;bus 1&#39;</span><span class="p">)</span>
<span class="n">bus1</span><span class="o">.</span><span class="n">add_comps</span><span class="p">({</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">pu</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;bus&#39;</span><span class="p">})</span>

<span class="c1"># this yields a bus value smaller than the component value!!</span>
<span class="n">bus2</span> <span class="o">=</span> <span class="n">bus</span><span class="p">(</span><span class="s1">&#39;bus 2&#39;</span><span class="p">)</span>
<span class="n">bus2</span><span class="o">.</span><span class="n">add_comps</span><span class="p">({</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">pu</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;component&#39;</span><span class="p">})</span>

<span class="n">bus3</span> <span class="o">=</span> <span class="n">bus</span><span class="p">(</span><span class="s1">&#39;bus 3&#39;</span><span class="p">)</span>
<span class="n">bus3</span><span class="o">.</span><span class="n">add_comps</span><span class="p">({</span><span class="s1">&#39;comp&#39;</span><span class="p">:</span> <span class="n">pu</span><span class="p">,</span> <span class="s1">&#39;char&#39;</span><span class="p">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="mf">0.95</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="s1">&#39;component&#39;</span><span class="p">})</span>

<span class="n">nw</span><span class="o">.</span><span class="n">add_busses</span><span class="p">(</span><span class="n">bus1</span><span class="p">,</span> <span class="n">bus2</span><span class="p">,</span> <span class="n">bus3</span><span class="p">)</span>

<span class="n">so_pu</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">fluid</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;H2O&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span> <span class="n">m</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">pu_si</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">pu</span><span class="o">.</span><span class="n">set_attr</span><span class="p">(</span><span class="n">eta_s</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>

<span class="n">nw</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="s1">&#39;design&#39;</span><span class="p">)</span>
<span class="n">nw</span><span class="o">.</span><span class="n">print_results</span><span class="p">()</span>
</pre></div>
</div>
<p>As you can see, the components value of the bus will always be the same. Due to
the efficiency definitions as mentioned in the new features, the bus value of
bus3 and bus1 are identical. bus3 implements the method applied so far (in case
of a motor at least) and bus1 implements the new efficiency definition based on
the bus value. For bus2 the efficiency definition is based on the component,
thus the bus value is lower than the component value (which would be great in
case of a motor, but unfortunately some thermodynamic experts may have issues
with thatâ€¦).</p>
</div>
<div class="section" id="contributors">
<h2>Contributors<a class="headerlink" href="#contributors" title="Permalink to this heading">#</a></h2>
<ul class="simple">
<li><p>Francesco Witte (<a class="reference external" href="https://github.com/fwitte">&#64;fwitte</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/jfreissmann">&#64;jfreissmann</a></p></li>
</ul>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Francesco Witte
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            <div class="last-updated">
              Last updated on Oct 02, 2022</div>
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">v0.3.0 - Mayerâ€™s Merit (May, 21, 2020)</a><ul>
<li><a class="reference internal" href="#new-features">New Features</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#parameter-renaming">Parameter renaming</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug fixes</a></li>
<li><a class="reference internal" href="#other-changes">Other changes</a></li>
<li><a class="reference internal" href="#changes-in-the-api">Changes in the API</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#contributors">Contributors</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>