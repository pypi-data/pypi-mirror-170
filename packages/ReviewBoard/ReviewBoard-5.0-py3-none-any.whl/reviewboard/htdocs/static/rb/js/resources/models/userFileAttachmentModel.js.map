{"version":3,"file":"userFileAttachmentModel.js","names":["RB","UserFileAttachment","BaseResource","extend","defaults","_","caption","downloadURL","file","filename","prototype","rspNamespace","payloadFileKeys","attrToJsonMap","serializedAttrs","deserializedAttrs","serializers","JSONSerializers","onlyIfValue","url","UserSession","instance","get","isNew","id"],"sources":["../../../../../../static/rb/js/resources/models/userFileAttachmentModel.es6.js"],"sourcesContent":["/**\n * A new or existing user file attachment.\n *\n * Model Attributes:\n *     caption (string):\n *         The file attachment's caption.\n *\n *     downloadURL (string):\n *         The URL to download the file, for existing file attachments.\n *\n *     file (file):\n *         The file to upload. Only works for newly created\n *         UserFileAttachments.\n *\n *     filename (string):\n *         The name of the file, for existing file attachments.\n */\nRB.UserFileAttachment = RB.BaseResource.extend({\n    defaults() {\n        return _.defaults({\n            caption: null,\n            downloadURL: null,\n            file: null,\n            filename: null\n        }, RB.BaseResource.prototype.defaults());\n    },\n\n    rspNamespace: 'user_file_attachment',\n    payloadFileKeys: ['path'],\n\n    attrToJsonMap: {\n        downloadURL: 'absolute_url',\n        file: 'path'\n    },\n\n    serializedAttrs: [\n        'caption',\n        'file'\n    ],\n\n    deserializedAttrs: [\n        'caption',\n        'downloadURL',\n        'filename'\n    ],\n\n    serializers: {\n        file: RB.JSONSerializers.onlyIfValue\n    },\n\n    /**\n     * Return the URL to use for syncing the model.\n     *\n     * Returns:\n     *     string:\n     *     The URL for the resource.\n     */\n    url() {\n        const url = RB.UserSession.instance.get('userFileAttachmentsURL');\n\n        return this.isNew() ? url : `${url}${this.id}/`;\n    }\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,EAAE,CAACC,kBAAH,GAAwBD,EAAE,CAACE,YAAH,CAAgBC,MAAhB,CAAuB;EAC3CC,QAAQ,GAAG;IACP,OAAOC,CAAC,CAACD,QAAF,CAAW;MACdE,OAAO,EAAE,IADK;MAEdC,WAAW,EAAE,IAFC;MAGdC,IAAI,EAAE,IAHQ;MAIdC,QAAQ,EAAE;IAJI,CAAX,EAKJT,EAAE,CAACE,YAAH,CAAgBQ,SAAhB,CAA0BN,QAA1B,EALI,CAAP;EAMH,CAR0C;;EAU3CO,YAAY,EAAE,sBAV6B;EAW3CC,eAAe,EAAE,CAAC,MAAD,CAX0B;EAa3CC,aAAa,EAAE;IACXN,WAAW,EAAE,cADF;IAEXC,IAAI,EAAE;EAFK,CAb4B;EAkB3CM,eAAe,EAAE,CACb,SADa,EAEb,MAFa,CAlB0B;EAuB3CC,iBAAiB,EAAE,CACf,SADe,EAEf,aAFe,EAGf,UAHe,CAvBwB;EA6B3CC,WAAW,EAAE;IACTR,IAAI,EAAER,EAAE,CAACiB,eAAH,CAAmBC;EADhB,CA7B8B;;EAiC3C;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,GAAG,GAAG;IACF,MAAMA,GAAG,GAAGnB,EAAE,CAACoB,WAAH,CAAeC,QAAf,CAAwBC,GAAxB,CAA4B,wBAA5B,CAAZ;IAEA,OAAO,KAAKC,KAAL,KAAeJ,GAAf,GAAsB,GAAEA,GAAI,GAAE,KAAKK,EAAG,GAA7C;EACH;;AA5C0C,CAAvB,CAAxB"}