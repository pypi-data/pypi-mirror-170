{"version":3,"file":"repositorySelectionViewTests.js","names":["suite","collection","view","beforeEach","Backbone","Collection","name","model","RB","Repository","RepositorySelectionView","describe","it","render","children","$el","find","expect","length","toBe","models","i","get","$","text","strip","handlerCalled","on","repository","click"],"sources":["../../../../../../../static/rb/js/newReviewRequest/views/tests/repositorySelectionViewTests.es6.js"],"sourcesContent":["suite('rb/newReviewRequest/views/RepositorySelectionView', function() {\n    let collection;\n    let view;\n\n    beforeEach(function() {\n        collection = new Backbone.Collection([\n            { name: 'Bitbucket Test' },\n            { name: 'GitHub Test' },\n            { name: 'GitLab Test' },\n            { name: 'Local Git Test' },\n        ], {\n            model: RB.Repository,\n        });\n\n        view = new RB.RepositorySelectionView({\n            collection: collection,\n        });\n    });\n\n    describe('Rendering', function() {\n        it('With items', function() {\n            view.render();\n            const children = view.$el.find('.repository');\n\n            expect(children.length).toBe(collection.models.length);\n\n            for (let i = 0; i < children.length; i++) {\n                const name = collection.models[i].get('name');\n                expect($(children[i]).text().strip()).toBe(name);\n            }\n        });\n    });\n\n    describe('Selected event', function() {\n        it('When clicked', function() {\n            let handlerCalled = false;\n\n            view.render();\n            view.on('selected', repository => {\n                expect(repository.get('name')).toBe('GitHub Test');\n                handlerCalled = true;\n            });\n\n            const children = view.$el.find('.repository');\n            $(children[1]).click();\n\n            expect(handlerCalled).toBe(true);\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,mDAAD,EAAsD,YAAW;EAClE,IAAIC,UAAJ;EACA,IAAIC,IAAJ;EAEAC,UAAU,CAAC,YAAW;IAClBF,UAAU,GAAG,IAAIG,QAAQ,CAACC,UAAb,CAAwB,CACjC;MAAEC,IAAI,EAAE;IAAR,CADiC,EAEjC;MAAEA,IAAI,EAAE;IAAR,CAFiC,EAGjC;MAAEA,IAAI,EAAE;IAAR,CAHiC,EAIjC;MAAEA,IAAI,EAAE;IAAR,CAJiC,CAAxB,EAKV;MACCC,KAAK,EAAEC,EAAE,CAACC;IADX,CALU,CAAb;IASAP,IAAI,GAAG,IAAIM,EAAE,CAACE,uBAAP,CAA+B;MAClCT,UAAU,EAAEA;IADsB,CAA/B,CAAP;EAGH,CAbS,CAAV;EAeAU,QAAQ,CAAC,WAAD,EAAc,YAAW;IAC7BC,EAAE,CAAC,YAAD,EAAe,YAAW;MACxBV,IAAI,CAACW,MAAL;MACA,MAAMC,QAAQ,GAAGZ,IAAI,CAACa,GAAL,CAASC,IAAT,CAAc,aAAd,CAAjB;MAEAC,MAAM,CAACH,QAAQ,CAACI,MAAV,CAAN,CAAwBC,IAAxB,CAA6BlB,UAAU,CAACmB,MAAX,CAAkBF,MAA/C;;MAEA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,QAAQ,CAACI,MAA7B,EAAqCG,CAAC,EAAtC,EAA0C;QACtC,MAAMf,IAAI,GAAGL,UAAU,CAACmB,MAAX,CAAkBC,CAAlB,EAAqBC,GAArB,CAAyB,MAAzB,CAAb;QACAL,MAAM,CAACM,CAAC,CAACT,QAAQ,CAACO,CAAD,CAAT,CAAD,CAAeG,IAAf,GAAsBC,KAAtB,EAAD,CAAN,CAAsCN,IAAtC,CAA2Cb,IAA3C;MACH;IACJ,CAVC,CAAF;EAWH,CAZO,CAAR;EAcAK,QAAQ,CAAC,gBAAD,EAAmB,YAAW;IAClCC,EAAE,CAAC,cAAD,EAAiB,YAAW;MAC1B,IAAIc,aAAa,GAAG,KAApB;MAEAxB,IAAI,CAACW,MAAL;MACAX,IAAI,CAACyB,EAAL,CAAQ,UAAR,EAAoBC,UAAU,IAAI;QAC9BX,MAAM,CAACW,UAAU,CAACN,GAAX,CAAe,MAAf,CAAD,CAAN,CAA+BH,IAA/B,CAAoC,aAApC;QACAO,aAAa,GAAG,IAAhB;MACH,CAHD;MAKA,MAAMZ,QAAQ,GAAGZ,IAAI,CAACa,GAAL,CAASC,IAAT,CAAc,aAAd,CAAjB;MACAO,CAAC,CAACT,QAAQ,CAAC,CAAD,CAAT,CAAD,CAAee,KAAf;MAEAZ,MAAM,CAACS,aAAD,CAAN,CAAsBP,IAAtB,CAA2B,IAA3B;IACH,CAbC,CAAF;EAcH,CAfO,CAAR;AAgBH,CAjDI,CAAL"}