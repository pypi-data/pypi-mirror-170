{"version":3,"file":"baseCommentReplyModelTests.js","names":["suite","parentObject","model","beforeEach","RB","BaseResource","BaseCommentReply","expect","validate","attributes","toBe","undefined","describe","spyOn","it","set","destroyIfEmpty","destroy","toHaveBeenCalled","not","rspNamespace","data","parse","stat","my_comment","id","text","text_type","richText","toJSON","force_text_type","include_text_types","replyToID","loaded","reply_to_id","strings","UNSET_PARENT_OBJECT"],"sources":["../../../../../../../static/rb/js/resources/models/tests/baseCommentReplyModelTests.es6.js"],"sourcesContent":["suite('rb/resources/models/BaseCommentReply', function() {\n    let parentObject;\n    let model;\n\n    beforeEach(function() {\n        parentObject = new RB.BaseResource({\n            'public': true,\n        });\n\n        model = new RB.BaseCommentReply({\n            parentObject: parentObject,\n        });\n\n        expect(model.validate(model.attributes)).toBe(undefined);\n    });\n\n    describe('destroyIfEmpty', function() {\n        beforeEach(function() {\n            spyOn(model, 'destroy');\n        });\n\n        it('Destroying when text is empty', function() {\n            model.set('text', '');\n            model.destroyIfEmpty();\n            expect(model.destroy).toHaveBeenCalled();\n        });\n\n        it('Not destroying when text is not empty', function() {\n            model.set('text', 'foo');\n            model.destroyIfEmpty();\n            expect(model.destroy).not.toHaveBeenCalled();\n        });\n    });\n\n    describe('parse', function() {\n        beforeEach(function() {\n            model.rspNamespace = 'my_comment';\n        });\n\n        it('API payloads', function() {\n            const data = model.parse({\n                stat: 'ok',\n                my_comment: {\n                    id: 42,\n                    text: 'foo',\n                    text_type: 'markdown',\n                },\n            });\n\n            expect(data).not.toBe(undefined);\n            expect(data.id).toBe(42);\n            expect(data.text).toBe('foo');\n            expect(data.richText).toBe(true);\n        });\n    });\n\n    describe('toJSON', function() {\n        describe('force_text_type field', function() {\n            it('With value', function() {\n                model.set('forceTextType', 'html');\n                const data = model.toJSON();\n                expect(data.force_text_type).toBe('html');\n            });\n\n            it('Without value', function() {\n                const data = model.toJSON();\n\n                expect(data.force_text_type).toBe(undefined);\n            });\n        });\n\n        describe('include_text_types field', function() {\n            it('With value', function() {\n                model.set('includeTextTypes', 'html');\n                const data = model.toJSON();\n                expect(data.include_text_types).toBe('html');\n            });\n\n            it('Without value', function() {\n                const data = model.toJSON();\n                expect(data.include_text_types).toBe(undefined);\n            });\n        });\n\n        describe('reply_to_id field', function() {\n            it('When loaded', function() {\n                model.set({\n                    replyToID: 10,\n                    loaded: true,\n                });\n                const data = model.toJSON();\n                expect(data.reply_to_id).toBe(undefined);\n            });\n\n            it('When not loaded', function() {\n                model.set({\n                    replyToID: 10,\n                    loaded: false,\n                });\n                const data = model.toJSON();\n                expect(data.reply_to_id).toBe(10);\n            });\n        });\n\n        describe('richText field', function() {\n            it('With true', function() {\n                model.set('richText', true);\n                const data = model.toJSON();\n                expect(data.text_type).toBe('markdown');\n            });\n\n            it('With false', function() {\n                model.set('richText', false);\n                const data = model.toJSON();\n                expect(data.text_type).toBe('plain');\n            });\n        });\n\n        describe('text field', function() {\n            it('With value', function() {\n                model.set('text', 'foo');\n                const data = model.toJSON();\n                expect(data.text).toBe('foo');\n            });\n        });\n    });\n\n    describe('validate', function() {\n        describe('parentObject', function() {\n            it('With value', function() {\n                expect(model.validate({\n                    parentObject: parentObject,\n                })).toBe(undefined);\n            });\n\n            it('Unset', function() {\n                expect(model.validate({\n                    parentObject: null,\n                })).toBe(RB.BaseResource.strings.UNSET_PARENT_OBJECT);\n            });\n        });\n    });\n});\n"],"mappings":"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"}