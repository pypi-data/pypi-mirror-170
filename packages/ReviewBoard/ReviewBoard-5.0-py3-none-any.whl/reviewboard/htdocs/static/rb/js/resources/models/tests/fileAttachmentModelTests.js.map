{"version":3,"file":"fileAttachmentModelTests.js","names":["suite","model","beforeEach","RB","FileAttachment","parentObject","BaseResource","describe","it","set","data","toJSON","expect","caption","toBe","isNew","path","id","attributes","undefined","parse","stat","file_attachment","url","filename","review_url","revision","thumbnail","not","downloadURL","reviewURL","thumbnailHTML"],"sources":["../../../../../../../static/rb/js/resources/models/tests/fileAttachmentModelTests.es6.js"],"sourcesContent":["suite('rb/resources/models/FileAttachment', function() {\n    let model;\n\n    beforeEach(function() {\n        model = new RB.FileAttachment({\n            parentObject: new RB.BaseResource({\n                'public': true,\n            }),\n        });\n    });\n\n    describe('toJSON', function() {\n        describe('caption field', function() {\n            it('With value', function() {\n                model.set('caption', 'foo');\n                const data = model.toJSON();\n                expect(data.caption).toBe('foo');\n            });\n        });\n\n        describe('file field', function() {\n            it('With new file attachment', function() {\n                expect(model.isNew()).toBe(true);\n\n                model.set('file', 'abc');\n                const data = model.toJSON();\n                expect(data.path).toBe('abc');\n            });\n\n            it('With existing file attachment', function() {\n                model.id = 123;\n                model.attributes.id = 123;\n                expect(model.isNew()).toBe(false);\n\n                model.set('file', 'abc');\n                const data = model.toJSON();\n                expect(data.path).toBe(undefined);\n            });\n        });\n    });\n\n    describe('parse', function() {\n        it('API payloads', function() {\n            const data = model.parse({\n                stat: 'ok',\n                file_attachment: {\n                    id: 42,\n                    caption: 'caption',\n                    url: 'downloadURL',\n                    filename: 'filename',\n                    review_url: 'reviewURL',\n                    revision: 123,\n                    thumbnail: 'thumbnailHTML',\n                },\n            });\n\n            expect(data).not.toBe(undefined);\n            expect(data.id).toBe(42);\n            expect(data.caption).toBe('caption');\n            expect(data.downloadURL).toBe('downloadURL');\n            expect(data.filename).toBe('filename');\n            expect(data.reviewURL).toBe('reviewURL');\n            expect(data.revision).toBe(123);\n            expect(data.thumbnailHTML).toBe('thumbnailHTML');\n        });\n    });\n});\n"],"mappings":"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"}