{"version":3,"file":"extraDataTests.js","names":["suite","model","beforeEach","Resource","Backbone","Model","extend","_","defaults","extraData","initialize","_setupExtraData","RB","ExtraDataMixin","it","callbacks","spyOn","on","change","setExtraData","expect","toHaveBeenCalled","oldExtraData","attributes","toBe","set","foo","toEqual","not"],"sources":["../../../../../../static/rb/js/models/tests/extraDataTests.es6.js"],"sourcesContent":["suite('rb/models/ExtraData', function() {\n    let model;\n\n    beforeEach(function() {\n        const Resource = Backbone.Model.extend(_.defaults({\n            defaults() {\n                return {\n                    extraData: {},\n                };\n            },\n\n            initialize() {\n                this._setupExtraData();\n            },\n        }, RB.ExtraDataMixin));\n\n        model = new Resource();\n    });\n\n    it('change events fired', function() {\n        const callbacks = {\n            'change': function() {},\n            'change:extraData': function() {},\n        };\n\n        spyOn(callbacks, 'change');\n        spyOn(callbacks, 'change:extraData');\n\n        model.on('change', callbacks.change);\n        model.on('change:extraData', callbacks['change:extraData']);\n\n        model.setExtraData('foo', 1);\n\n        expect(callbacks.change).toHaveBeenCalled();\n        expect(callbacks['change:extraData']).toHaveBeenCalled();\n    });\n\n    it('attributes updated', function() {\n        const oldExtraData = model.attributes.extraData;\n\n        expect(model.extraData.attributes).toBe(oldExtraData);\n\n        model.set({\n            extraData: {\n                foo: 1,\n            },\n        });\n\n        expect(model.attributes.extraData).toEqual({foo: 1});\n        expect(model.extraData.attributes).toEqual({foo: 1});\n\n        expect(model.extraData.attributes).not.toBe(oldExtraData);\n        expect(model.attributes.extraData).not.toBe(oldExtraData);\n\n        expect(model.extraData.attributes).toBe(model.attributes.extraData);\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,qBAAD,EAAwB,YAAW;EACpC,IAAIC,KAAJ;EAEAC,UAAU,CAAC,YAAW;IAClB,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,KAAT,CAAeC,MAAf,CAAsBC,CAAC,CAACC,QAAF,CAAW;MAC9CA,QAAQ,GAAG;QACP,OAAO;UACHC,SAAS,EAAE;QADR,CAAP;MAGH,CAL6C;;MAO9CC,UAAU,GAAG;QACT,KAAKC,eAAL;MACH;;IAT6C,CAAX,EAUpCC,EAAE,CAACC,cAViC,CAAtB,CAAjB;IAYAZ,KAAK,GAAG,IAAIE,QAAJ,EAAR;EACH,CAdS,CAAV;EAgBAW,EAAE,CAAC,qBAAD,EAAwB,YAAW;IACjC,MAAMC,SAAS,GAAG;MACd,UAAU,YAAW,CAAE,CADT;MAEd,oBAAoB,YAAW,CAAE;IAFnB,CAAlB;IAKAC,KAAK,CAACD,SAAD,EAAY,QAAZ,CAAL;IACAC,KAAK,CAACD,SAAD,EAAY,kBAAZ,CAAL;IAEAd,KAAK,CAACgB,EAAN,CAAS,QAAT,EAAmBF,SAAS,CAACG,MAA7B;IACAjB,KAAK,CAACgB,EAAN,CAAS,kBAAT,EAA6BF,SAAS,CAAC,kBAAD,CAAtC;IAEAd,KAAK,CAACkB,YAAN,CAAmB,KAAnB,EAA0B,CAA1B;IAEAC,MAAM,CAACL,SAAS,CAACG,MAAX,CAAN,CAAyBG,gBAAzB;IACAD,MAAM,CAACL,SAAS,CAAC,kBAAD,CAAV,CAAN,CAAsCM,gBAAtC;EACH,CAhBC,CAAF;EAkBAP,EAAE,CAAC,oBAAD,EAAuB,YAAW;IAChC,MAAMQ,YAAY,GAAGrB,KAAK,CAACsB,UAAN,CAAiBd,SAAtC;IAEAW,MAAM,CAACnB,KAAK,CAACQ,SAAN,CAAgBc,UAAjB,CAAN,CAAmCC,IAAnC,CAAwCF,YAAxC;IAEArB,KAAK,CAACwB,GAAN,CAAU;MACNhB,SAAS,EAAE;QACPiB,GAAG,EAAE;MADE;IADL,CAAV;IAMAN,MAAM,CAACnB,KAAK,CAACsB,UAAN,CAAiBd,SAAlB,CAAN,CAAmCkB,OAAnC,CAA2C;MAACD,GAAG,EAAE;IAAN,CAA3C;IACAN,MAAM,CAACnB,KAAK,CAACQ,SAAN,CAAgBc,UAAjB,CAAN,CAAmCI,OAAnC,CAA2C;MAACD,GAAG,EAAE;IAAN,CAA3C;IAEAN,MAAM,CAACnB,KAAK,CAACQ,SAAN,CAAgBc,UAAjB,CAAN,CAAmCK,GAAnC,CAAuCJ,IAAvC,CAA4CF,YAA5C;IACAF,MAAM,CAACnB,KAAK,CAACsB,UAAN,CAAiBd,SAAlB,CAAN,CAAmCmB,GAAnC,CAAuCJ,IAAvC,CAA4CF,YAA5C;IAEAF,MAAM,CAACnB,KAAK,CAACQ,SAAN,CAAgBc,UAAjB,CAAN,CAAmCC,IAAnC,CAAwCvB,KAAK,CAACsB,UAAN,CAAiBd,SAAzD;EACH,CAlBC,CAAF;AAmBH,CAxDI,CAAL"}