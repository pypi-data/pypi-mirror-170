{"version":3,"file":"diffModel.js","names":["RB","Diff","BaseResource","extend","defaults","_","diff","parentDiff","basedir","prototype","rspNamespace","attrToJsonMap","serializedAttrs","concat","payloadFileKeys","listKey","getErrorString","rsp","err","code","APIErrors","REPO_FILE_NOT_FOUND","interpolate","file","revision","msg"],"sources":["../../../../../../static/rb/js/resources/models/diffModel.es6.js"],"sourcesContent":["/**\n * A diff to be uploaded to a server.\n *\n * For now, this is used only for uploading new diffs.\n *\n * It is expected that parentObject will be set to a ReviewRequest instance.\n */\nRB.Diff = RB.BaseResource.extend({\n    defaults() {\n        return _.defaults({\n            diff: null,\n            parentDiff: null,\n            basedir: null\n        }, RB.BaseResource.prototype.defaults());\n    },\n\n    rspNamespace: 'diff',\n\n    attrToJsonMap: {\n        diff: 'path',\n        parentDiff: 'parent_diff_path'\n    },\n\n    serializedAttrs: [\n        'basedir',\n        'diff',\n        'parentDiff'\n    ].concat(RB.BaseResource.prototype.serializedAttrs),\n\n    payloadFileKeys: ['path', 'parent_diff_path'],\n\n    listKey: 'diffs',\n\n    /**\n     * Return a user-facing error string for a given server response.\n     *\n     * Args:\n     *     rsp (object):\n     *         The response from the server.\n     *\n     * Returns:\n     *     string:\n     *     A string to show to the user.\n     */\n    getErrorString(rsp) {\n        if (rsp.err.code === RB.APIErrors.REPO_FILE_NOT_FOUND) {\n            return interpolate(\n                gettext('The file \"%(file)s\" (revision %(revision)s) was not found in the repository'),\n                {\n                    file: rsp.file,\n                    revision: rsp.revision\n                },\n                true);\n        }\n\n        return rsp.err.msg;\n    }\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,EAAE,CAACC,IAAH,GAAUD,EAAE,CAACE,YAAH,CAAgBC,MAAhB,CAAuB;EAC7BC,QAAQ,GAAG;IACP,OAAOC,CAAC,CAACD,QAAF,CAAW;MACdE,IAAI,EAAE,IADQ;MAEdC,UAAU,EAAE,IAFE;MAGdC,OAAO,EAAE;IAHK,CAAX,EAIJR,EAAE,CAACE,YAAH,CAAgBO,SAAhB,CAA0BL,QAA1B,EAJI,CAAP;EAKH,CAP4B;;EAS7BM,YAAY,EAAE,MATe;EAW7BC,aAAa,EAAE;IACXL,IAAI,EAAE,MADK;IAEXC,UAAU,EAAE;EAFD,CAXc;EAgB7BK,eAAe,EAAE,CACb,SADa,EAEb,MAFa,EAGb,YAHa,EAIfC,MAJe,CAIRb,EAAE,CAACE,YAAH,CAAgBO,SAAhB,CAA0BG,eAJlB,CAhBY;EAsB7BE,eAAe,EAAE,CAAC,MAAD,EAAS,kBAAT,CAtBY;EAwB7BC,OAAO,EAAE,OAxBoB;;EA0B7B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACIC,cAAc,CAACC,GAAD,EAAM;IAChB,IAAIA,GAAG,CAACC,GAAJ,CAAQC,IAAR,KAAiBnB,EAAE,CAACoB,SAAH,CAAaC,mBAAlC,EAAuD;MACnD,OAAOC,WAAW,2FAEd;QACIC,IAAI,EAAEN,GAAG,CAACM,IADd;QAEIC,QAAQ,EAAEP,GAAG,CAACO;MAFlB,CAFc,EAMd,IANc,CAAlB;IAOH;;IAED,OAAOP,GAAG,CAACC,GAAJ,CAAQO,GAAf;EACH;;AAjD4B,CAAvB,CAAV"}