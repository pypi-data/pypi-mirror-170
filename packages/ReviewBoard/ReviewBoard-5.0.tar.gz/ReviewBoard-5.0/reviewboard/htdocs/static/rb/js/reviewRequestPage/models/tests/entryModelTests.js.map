{"version":3,"file":"entryModelTests.js","names":["suite","reviewRequestEditor","entry","beforeEach","RB","ReviewRequestEditor","reviewRequest","ReviewRequest","ReviewRequestPage","Entry","id","typeID","addedTimestamp","updatedTimestamp","ignoredAttr","parse","it","expect","toBe","get","toEqual","Date","UTC","describe","metadata","isUpdated","etag","set"],"sources":["../../../../../../../static/rb/js/reviewRequestPage/models/tests/entryModelTests.es6.js"],"sourcesContent":["suite('rb/reviewRequestPage/models/Entry', function() {\n    let reviewRequestEditor;\n    let entry;\n\n    beforeEach(function() {\n        reviewRequestEditor = new RB.ReviewRequestEditor({\n            reviewRequest: new RB.ReviewRequest(),\n        });\n\n        entry = new RB.ReviewRequestPage.Entry({\n            reviewRequestEditor: reviewRequestEditor,\n            id: '123',\n            typeID: 'some_type',\n            addedTimestamp: '2017-08-18T13:40:25Z',\n            updatedTimestamp: '2017-08-18T16:20:00Z',\n            ignoredAttr: 'ignored',\n        }, {\n            parse: true,\n        });\n    });\n\n    it('parse', function() {\n        expect(entry.id).toBe('123');\n        expect(entry.get('reviewRequestEditor')).toBe(reviewRequestEditor);\n        expect(entry.get('addedTimestamp'))\n            .toEqual(new Date(Date.UTC(2017, 7, 18, 13, 40, 25)));\n        expect(entry.get('updatedTimestamp'))\n            .toEqual(new Date(Date.UTC(2017, 7, 18, 16, 20, 0)));\n        expect(entry.get('typeID')).toBe('some_type');\n    });\n\n    describe('isUpdated', function() {\n        it('With newer updateTimestamp only', function() {\n            const metadata = {\n                updatedTimestamp: '2017-08-20T23:10:12Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(true);\n        });\n\n        it('With older updateTimestamp only', function() {\n            const metadata = {\n                updatedTimestamp: '2017-08-18T12:10:12Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(false);\n        });\n\n        it('With changed etag', function() {\n            const metadata = {\n                etag: 'new-etag',\n                updatedTimestamp: '2017-08-18T16:20:00Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(true);\n        });\n\n        it('With same updateTimestamp and etag', function() {\n            entry.set('etag', 'old-etag');\n\n            const metadata = {\n                etag: 'old-etag',\n                updatedTimestamp: '2017-08-18T16:20:00Z',\n            };\n\n            expect(entry.isUpdated(metadata)).toBe(false);\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,mCAAD,EAAsC,YAAW;EAClD,IAAIC,mBAAJ;EACA,IAAIC,KAAJ;EAEAC,UAAU,CAAC,YAAW;IAClBF,mBAAmB,GAAG,IAAIG,EAAE,CAACC,mBAAP,CAA2B;MAC7CC,aAAa,EAAE,IAAIF,EAAE,CAACG,aAAP;IAD8B,CAA3B,CAAtB;IAIAL,KAAK,GAAG,IAAIE,EAAE,CAACI,iBAAH,CAAqBC,KAAzB,CAA+B;MACnCR,mBAAmB,EAAEA,mBADc;MAEnCS,EAAE,EAAE,KAF+B;MAGnCC,MAAM,EAAE,WAH2B;MAInCC,cAAc,EAAE,sBAJmB;MAKnCC,gBAAgB,EAAE,sBALiB;MAMnCC,WAAW,EAAE;IANsB,CAA/B,EAOL;MACCC,KAAK,EAAE;IADR,CAPK,CAAR;EAUH,CAfS,CAAV;EAiBAC,EAAE,CAAC,OAAD,EAAU,YAAW;IACnBC,MAAM,CAACf,KAAK,CAACQ,EAAP,CAAN,CAAiBQ,IAAjB,CAAsB,KAAtB;IACAD,MAAM,CAACf,KAAK,CAACiB,GAAN,CAAU,qBAAV,CAAD,CAAN,CAAyCD,IAAzC,CAA8CjB,mBAA9C;IACAgB,MAAM,CAACf,KAAK,CAACiB,GAAN,CAAU,gBAAV,CAAD,CAAN,CACKC,OADL,CACa,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAT,CADb;IAEAL,MAAM,CAACf,KAAK,CAACiB,GAAN,CAAU,kBAAV,CAAD,CAAN,CACKC,OADL,CACa,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,CAAS,IAAT,EAAe,CAAf,EAAkB,EAAlB,EAAsB,EAAtB,EAA0B,EAA1B,EAA8B,CAA9B,CAAT,CADb;IAEAL,MAAM,CAACf,KAAK,CAACiB,GAAN,CAAU,QAAV,CAAD,CAAN,CAA4BD,IAA5B,CAAiC,WAAjC;EACH,CARC,CAAF;EAUAK,QAAQ,CAAC,WAAD,EAAc,YAAW;IAC7BP,EAAE,CAAC,iCAAD,EAAoC,YAAW;MAC7C,MAAMQ,QAAQ,GAAG;QACbX,gBAAgB,EAAE;MADL,CAAjB;MAIAI,MAAM,CAACf,KAAK,CAACuB,SAAN,CAAgBD,QAAhB,CAAD,CAAN,CAAkCN,IAAlC,CAAuC,IAAvC;IACH,CANC,CAAF;IAQAF,EAAE,CAAC,iCAAD,EAAoC,YAAW;MAC7C,MAAMQ,QAAQ,GAAG;QACbX,gBAAgB,EAAE;MADL,CAAjB;MAIAI,MAAM,CAACf,KAAK,CAACuB,SAAN,CAAgBD,QAAhB,CAAD,CAAN,CAAkCN,IAAlC,CAAuC,KAAvC;IACH,CANC,CAAF;IAQAF,EAAE,CAAC,mBAAD,EAAsB,YAAW;MAC/B,MAAMQ,QAAQ,GAAG;QACbE,IAAI,EAAE,UADO;QAEbb,gBAAgB,EAAE;MAFL,CAAjB;MAKAI,MAAM,CAACf,KAAK,CAACuB,SAAN,CAAgBD,QAAhB,CAAD,CAAN,CAAkCN,IAAlC,CAAuC,IAAvC;IACH,CAPC,CAAF;IASAF,EAAE,CAAC,oCAAD,EAAuC,YAAW;MAChDd,KAAK,CAACyB,GAAN,CAAU,MAAV,EAAkB,UAAlB;MAEA,MAAMH,QAAQ,GAAG;QACbE,IAAI,EAAE,UADO;QAEbb,gBAAgB,EAAE;MAFL,CAAjB;MAKAI,MAAM,CAACf,KAAK,CAACuB,SAAN,CAAgBD,QAAhB,CAAD,CAAN,CAAkCN,IAAlC,CAAuC,KAAvC;IACH,CATC,CAAF;EAUH,CApCO,CAAR;AAqCH,CApEI,CAAL"}