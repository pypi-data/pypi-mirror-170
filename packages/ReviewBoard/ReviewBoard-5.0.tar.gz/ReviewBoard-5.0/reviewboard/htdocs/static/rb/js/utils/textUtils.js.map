{"version":3,"file":"textUtils.js","names":["RB","formatText","$el","options","richText","newText","undefined","html","addClass","find","attr","LinkifyUtils","linkifyChildren","bugTrackerURL","linkifyText","isHTMLEncoded","removeClass","length"],"sources":["../../../../../static/rb/js/utils/textUtils.es6.js"],"sourcesContent":["/**\n * Format the given text and put it into an element.\n *\n * If the given element is expected to be rich text, this will put the contents\n * of the new text directly into the element (since it has already been\n * rendered using Markdown).\n *\n * Otherwise, this will add links to review requests and bug trackers but\n * otherwise leave the text alone.\n *\n * Args:\n *     $el (jQuery):\n *         The element to put the text into\n *\n *     options (object):\n *          Options for the format operation.\n *\n * Option Args:\n *     newText (string):\n *         The text to format.\n *\n *     richText (boolean):\n *         Whether the new text is already formatted from Markdown.\n *\n *     bugTrackerURL (string):\n *         The bug tracker URL to use when linking bugs.\n *\n *     isHTMLEncoded (string):\n *         Whether the new text has already had dangerous characters (like <\n *         and >) escaped to their entities.\n */\nRB.formatText = function($el, options={}) {\n    if (options.richText) {\n        if (options.newText !== undefined) {\n            $el.html(options.newText);\n        }\n\n        $el\n            .addClass('rich-text')\n            .find('a')\n                .attr('target', '_blank');\n\n        RB.LinkifyUtils.linkifyChildren($el[0], options.bugTrackerURL);\n    } else if (options.newText !== undefined) {\n        $el\n            .html(RB.LinkifyUtils.linkifyText(options.newText || '',\n                                              options.bugTrackerURL,\n                                              options.isHTMLEncoded))\n            .removeClass('rich-text');\n    } else if ($el !== undefined && $el.length !== 0) {\n        RB.LinkifyUtils.linkifyChildren($el[0], options.bugTrackerURL);\n    }\n};\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,EAAE,CAACC,UAAH,GAAgB,UAASC,GAAT,EAA0B;EAAA,IAAZC,OAAY,uEAAJ,EAAI;;EACtC,IAAIA,OAAO,CAACC,QAAZ,EAAsB;IAClB,IAAID,OAAO,CAACE,OAAR,KAAoBC,SAAxB,EAAmC;MAC/BJ,GAAG,CAACK,IAAJ,CAASJ,OAAO,CAACE,OAAjB;IACH;;IAEDH,GAAG,CACEM,QADL,CACc,WADd,EAEKC,IAFL,CAEU,GAFV,EAGSC,IAHT,CAGc,QAHd,EAGwB,QAHxB;IAKAV,EAAE,CAACW,YAAH,CAAgBC,eAAhB,CAAgCV,GAAG,CAAC,CAAD,CAAnC,EAAwCC,OAAO,CAACU,aAAhD;EACH,CAXD,MAWO,IAAIV,OAAO,CAACE,OAAR,KAAoBC,SAAxB,EAAmC;IACtCJ,GAAG,CACEK,IADL,CACUP,EAAE,CAACW,YAAH,CAAgBG,WAAhB,CAA4BX,OAAO,CAACE,OAAR,IAAmB,EAA/C,EAC4BF,OAAO,CAACU,aADpC,EAE4BV,OAAO,CAACY,aAFpC,CADV,EAIKC,WAJL,CAIiB,WAJjB;EAKH,CANM,MAMA,IAAId,GAAG,KAAKI,SAAR,IAAqBJ,GAAG,CAACe,MAAJ,KAAe,CAAxC,EAA2C;IAC9CjB,EAAE,CAACW,YAAH,CAAgBC,eAAhB,CAAgCV,GAAG,CAAC,CAAD,CAAnC,EAAwCC,OAAO,CAACU,aAAhD;EACH;AACJ,CArBD"}