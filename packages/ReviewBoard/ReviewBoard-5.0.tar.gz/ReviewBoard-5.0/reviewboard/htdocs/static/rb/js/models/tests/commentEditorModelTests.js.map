{"version":3,"file":"commentEditorModelTests.js","names":["suite","editor","reviewRequest","comment","createComment","RB","BaseComment","parentObject","BaseResource","beforeEach","ReviewRequest","CommentEditor","canEdit","describe","it","UserSession","instance","set","expect","get","toBe","openIssue","loaded","issueOpened","richText","id","text","rawTextFields","markdownTextFields","beginEdit","toThrow","console","assert","toHaveBeenCalled","spyOn","and","resolveTo","save","deleteComment","setExtraData","toEqual","key1","key2","mykey","getExtraData","calls","argsFor","toBeTruthy","toBeFalsy","cancel","destroyIfEmpty","trigger","toHaveBeenCalledWith","close","not","expectAsync","toBeRejectedWith","Error","destroy","issue_opened","canSave","require_verification","done","success","warn","error","fail"],"sources":["../../../../../../static/rb/js/models/tests/commentEditorModelTests.es6.js"],"sourcesContent":["suite('rb/models/CommentEditor', function() {\n    let editor;\n    let reviewRequest;\n    let comment;\n\n    function createComment() {\n        return new RB.BaseComment({\n            parentObject: new RB.BaseResource({\n                'public': true,\n            }),\n        });\n    }\n\n    beforeEach(function() {\n        reviewRequest = new RB.ReviewRequest();\n\n        editor = new RB.CommentEditor({\n            canEdit: true,\n            reviewRequest: reviewRequest,\n        });\n    });\n\n    describe('Attribute defaults', function() {\n        describe('canEdit', function() {\n            it('When logged in and hasDraft=false', function() {\n                RB.UserSession.instance.set('authenticated', true);\n\n                editor = new RB.CommentEditor({\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('canEdit')).toBe(true);\n            });\n\n            it('When logged in and hasDraft=true', function() {\n                RB.UserSession.instance.set('authenticated', true);\n                reviewRequest.set('hasDraft', true);\n\n                editor = new RB.CommentEditor({\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('canEdit')).toBe(false);\n            });\n\n            it('When logged out', function() {\n                RB.UserSession.instance.set('authenticated', false);\n\n                editor = new RB.CommentEditor({\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('canEdit')).toBe(false);\n            });\n\n            it('With explicitly set value', function() {\n                RB.UserSession.instance.set('authenticated', false);\n\n                editor = new RB.CommentEditor({\n                    canEdit: true,\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('canEdit')).toBe(true);\n            });\n        });\n\n        describe('openIssue', function() {\n            it('When user preference is true', function() {\n                RB.UserSession.instance.set('commentsOpenAnIssue', true);\n\n                editor = new RB.CommentEditor({\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('openIssue')).toBe(true);\n            });\n\n            it('When user preference is false', function() {\n                RB.UserSession.instance.set('commentsOpenAnIssue', false);\n\n                editor = new RB.CommentEditor({\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('openIssue')).toBe(false);\n            });\n\n            it('With explicitly set value', function() {\n                RB.UserSession.instance.set('commentsOpenAnIssue', false);\n\n                editor = new RB.CommentEditor({\n                    openIssue: true,\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('openIssue')).toBe(true);\n            });\n\n            it('When reloading the page with explicitly set value', function() {\n                RB.UserSession.instance.set('commentsOpenAnIssue', true);\n\n                comment = createComment();\n                comment.set({\n                    loaded: false,\n                    issueOpened: false,\n                });\n\n                editor = new RB.CommentEditor({\n                    comment: comment,\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('openIssue')).toBe(false);\n            });\n        });\n\n        describe('richText', function() {\n            it('When user preference is true', function() {\n                RB.UserSession.instance.set('defaultUseRichText', true);\n\n                editor = new RB.CommentEditor({\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('richText')).toBe(true);\n            });\n\n            it('When user preference is false', function() {\n                RB.UserSession.instance.set('defaultUseRichText', false);\n\n                editor = new RB.CommentEditor({\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('richText')).toBe(false);\n            });\n\n            it('With explicitly set value', function() {\n                RB.UserSession.instance.set('defaultUseRichText', false);\n\n                editor = new RB.CommentEditor({\n                    richText: true,\n                    reviewRequest: reviewRequest,\n                });\n                expect(editor.get('richText')).toBe(true);\n            });\n        });\n    });\n\n    describe('Loading comment', function() {\n        describe('With comment richText=true', function() {\n            let comment;\n\n            beforeEach(function() {\n                comment = createComment();\n\n                comment.set({\n                    id: 123,\n                    loaded: true,\n                    richText: true,\n                    text: '<p>this _is_ a <em>test</em></p>',\n                    rawTextFields: {\n                        text: 'this \\\\_is\\\\_ a _test_',\n                    },\n                    markdownTextFields: {\n                        text: 'this \\\\_is\\\\_ a _test_',\n                    },\n                });\n            });\n\n            it('When defaultUseRichText=true', function() {\n                RB.UserSession.instance.set('defaultUseRichText', true);\n                editor.set('comment', comment);\n                editor.beginEdit();\n\n                expect(editor.get('dirty')).toBe(false);\n                expect(editor.get('richText')).toBe(true);\n                expect(editor.get('text')).toBe('this \\\\_is\\\\_ a _test_');\n            });\n\n            it('When defaultUseRichText=false', function() {\n                RB.UserSession.instance.set('defaultUseRichText', false);\n                editor.set('comment', comment);\n                editor.beginEdit();\n\n                expect(editor.get('dirty')).toBe(false);\n                expect(editor.get('richText')).toBe(true);\n                expect(editor.get('text')).toBe('this \\\\_is\\\\_ a _test_');\n            });\n        });\n\n        describe('With comment richText=false', function() {\n            let comment;\n\n            beforeEach(function() {\n                comment = createComment();\n\n                comment.set({\n                    id: 123,\n                    loaded: true,\n                    richText: false,\n                    text: '<p>this _is_ a test</p>',\n                    rawTextFields: {\n                        text: 'this _is_ a _test_',\n                    },\n                    markdownTextFields: {\n                        text: 'this \\\\_is\\\\_ a \\\\_test\\\\_',\n                    },\n                });\n            });\n\n            it('When defaultUseRichText=true', function() {\n                RB.UserSession.instance.set('defaultUseRichText', true);\n                editor.set('comment', comment);\n                editor.beginEdit();\n\n                expect(editor.get('dirty')).toBe(false);\n                expect(editor.get('richText')).toBe(true);\n                expect(editor.get('text')).toBe('this \\\\_is\\\\_ a \\\\_test\\\\_');\n            });\n\n            it('When defaultUseRichText=false', function() {\n                RB.UserSession.instance.set('defaultUseRichText', false);\n                editor.set('comment', comment);\n                editor.beginEdit();\n\n                expect(editor.get('dirty')).toBe(false);\n                expect(editor.get('richText')).toBe(false);\n                expect(editor.get('text')).toBe('this _is_ a _test_');\n            });\n        });\n    });\n\n    describe('Capability states', function() {\n        describe('canDelete', function() {\n            it('When not editing', function() {\n                expect(editor.get('editing')).toBe(false);\n                expect(editor.get('canDelete')).toBe(false);\n            });\n\n            it('When editing new comment', function() {\n                editor.set('comment', createComment());\n\n                editor.beginEdit();\n                expect(editor.get('canDelete')).toBe(false);\n            });\n\n            it('When editing existing comment', function() {\n                const comment = createComment();\n                comment.set({\n                    id: 123,\n                    loaded: true,\n                });\n                editor.set('comment', comment);\n\n                editor.beginEdit();\n                expect(editor.get('canDelete')).toBe(true);\n            });\n\n            it('When editing existing comment with canEdit=false', function() {\n                const comment = createComment();\n                comment.set({\n                    id: 123,\n                    loaded: true,\n                });\n\n                editor.set({\n                    canEdit: false,\n                    comment: comment,\n                });\n\n                expect(() => editor.beginEdit()).toThrow();\n                expect(console.assert).toHaveBeenCalled();\n                expect(editor.get('canDelete')).toBe(false);\n            });\n        });\n\n        describe('canSave', function() {\n            it('When not editing', function() {\n                expect(editor.get('editing')).toBe(false);\n                expect(editor.get('canSave')).toBe(false);\n            });\n\n            it('When editing comment with text', function() {\n                const comment = createComment();\n                editor.set('comment', comment);\n                editor.beginEdit();\n                editor.set('text', 'Foo');\n                expect(editor.get('canSave')).toBe(true);\n            });\n\n            it('When editing comment with initial state', function() {\n                const comment = createComment();\n                editor.set('comment', comment);\n                editor.beginEdit();\n                expect(editor.get('canSave')).toBe(false);\n            });\n\n            it('When editing comment without text', function() {\n                const comment = createComment();\n                editor.set('comment', comment);\n                editor.beginEdit();\n                editor.set('text', '');\n                expect(editor.get('canSave')).toBe(false);\n            });\n        });\n    });\n\n    describe('States', function() {\n        describe('dirty', function() {\n            it('Initial state', function() {\n                expect(editor.get('dirty')).toBe(false);\n            });\n\n            it('After new comment', function() {\n                const comment = createComment();\n                editor.set('dirty', true);\n                editor.set('comment', comment);\n\n                expect(editor.get('dirty')).toBe(false);\n            });\n\n            it('After text change', function() {\n                editor.set('comment', createComment());\n                editor.beginEdit();\n                editor.set('text', 'abc');\n                expect(editor.get('dirty')).toBe(true);\n            });\n\n            it('After toggling Open Issue', function() {\n                editor.set('comment', createComment());\n                editor.beginEdit();\n                editor.set('openIssue', 'true');\n                expect(editor.get('dirty')).toBe(true);\n            });\n\n            it('After saving', async function() {\n                const comment = createComment();\n                editor.set('comment', comment);\n\n                editor.beginEdit();\n                editor.set('text', 'abc');\n                expect(editor.get('dirty')).toBe(true);\n\n                spyOn(comment, 'save').and.resolveTo();\n\n                await editor.save();\n                expect(editor.get('dirty')).toBe(false);\n            });\n\n            it('After deleting', async function() {\n                const comment = createComment();\n                comment.set({\n                    id: 123,\n                    loaded: true,\n                });\n                editor.set('comment', comment);\n\n                editor.beginEdit();\n                editor.set('text', 'abc');\n                expect(editor.get('dirty')).toBe(true);\n\n                spyOn(comment, 'destroy').and.resolveTo();\n\n                await editor.deleteComment();\n                expect(editor.get('dirty')).toBe(false);\n            });\n        });\n    });\n\n    describe('Operations', function() {\n        it('setExtraData', function() {\n            editor.setExtraData('key1', 'strvalue');\n            editor.setExtraData('key2', 42);\n\n            expect(editor.get('extraData')).toEqual({\n                key1: 'strvalue',\n                key2: 42,\n            });\n        });\n\n        it('getExtraData', function() {\n            editor.set('extraData', {\n                mykey: 'value',\n            });\n\n            expect(editor.getExtraData('mykey')).toBe('value');\n        });\n\n        describe('beginEdit', function() {\n            it('With canEdit=true', function() {\n                editor.set({\n                    comment: createComment(),\n                    canEdit: true,\n                });\n\n                editor.beginEdit();\n                expect(console.assert.calls.argsFor(0)[0]).toBeTruthy();\n            });\n\n            it('With canEdit=false', function() {\n                editor.set({\n                    comment: createComment(),\n                    canEdit: false,\n                });\n\n                expect(function() { editor.beginEdit(); }).toThrow();\n                expect(console.assert.calls.argsFor(0)[0]).toBeFalsy();\n            });\n\n            it('With no comment', function() {\n                expect(function() { editor.beginEdit(); }).toThrow();\n                expect(console.assert.calls.argsFor(0)[0]).toBeTruthy();\n                expect(console.assert.calls.argsFor(1)[0]).toBeFalsy();\n            });\n        });\n\n        describe('cancel', function() {\n            beforeEach(function() {\n                spyOn(editor, 'close');\n                spyOn(editor, 'trigger');\n            });\n\n            it('With comment', function() {\n                const comment = createComment();\n                spyOn(comment, 'destroyIfEmpty');\n                editor.set('comment', comment);\n\n                editor.cancel();\n                expect(comment.destroyIfEmpty).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('canceled');\n                expect(editor.close).toHaveBeenCalled();\n            });\n\n            it('Without comment', function() {\n                editor.cancel();\n                expect(editor.trigger).not.toHaveBeenCalledWith('canceled');\n                expect(editor.close).toHaveBeenCalled();\n            });\n        });\n\n        describe('destroy', function() {\n            let comment;\n\n            beforeEach(function() {\n                comment = createComment();\n\n                spyOn(comment, 'destroy').and.resolveTo();\n                spyOn(editor, 'close');\n                spyOn(editor, 'trigger');\n            });\n\n            it('With canDelete=false', async function() {\n                /* Set these in order, to override canDelete. */\n                editor.set('comment', comment);\n                editor.set('canDelete', false);\n\n                await expectAsync(editor.deleteComment()).toBeRejectedWith(\n                    Error('deleteComment() called when canDelete is false.'));\n                expect(console.assert.calls.argsFor(0)[0]).toBeFalsy();\n                expect(comment.destroy).not.toHaveBeenCalled();\n                expect(editor.trigger).not.toHaveBeenCalledWith('deleted');\n                expect(editor.close).not.toHaveBeenCalled();\n            });\n\n            it('With canDelete=true', async function() {\n                /* Set these in order, to override canDelete. */\n                editor.set('comment', comment);\n                editor.set('canDelete', true);\n\n                await editor.deleteComment();\n                expect(console.assert.calls.argsFor(0)[0]).toBeTruthy();\n                expect(comment.destroy).toHaveBeenCalled();\n                expect(editor.trigger).toHaveBeenCalledWith('deleted');\n                expect(editor.close).toHaveBeenCalled();\n            });\n        });\n\n        describe('save', function() {\n            let comment;\n\n            beforeEach(function() {\n                comment = createComment();\n                spyOn(comment, 'save').and.resolveTo();\n                spyOn(editor, 'trigger');\n            });\n\n            it('With canSave=false', async function() {\n                /* Set these in order, to override canSave. */\n                editor.set('comment', comment);\n                editor.set('canSave', false);\n\n                await expectAsync(editor.save()).toBeRejectedWith(\n                    Error('save() called when canSave is false.'));\n                expect(console.assert.calls.argsFor(0)[0]).toBeFalsy();\n                expect(comment.save).not.toHaveBeenCalled();\n                expect(editor.trigger).not.toHaveBeenCalledWith('saved');\n            });\n\n            it('With canSave=true', async function() {\n                /* Set these in order, to override canSave. */\n                const text = 'My text';\n                const issueOpened = true;\n\n                comment.set('issueOpened', false);\n                editor.set('comment', comment);\n                editor.set({\n                    text: text,\n                    issue_opened: issueOpened,\n                    canSave: true,\n                    richText: true,\n                });\n                editor.setExtraData('mykey', 'myvalue');\n\n                await editor.save();\n\n                expect(console.assert.calls.argsFor(0)[0]).toBeTruthy();\n                expect(comment.save).toHaveBeenCalled();\n                expect(comment.get('text')).toBe(text);\n                expect(comment.get('issueOpened')).toBe(issueOpened);\n                expect(comment.get('richText')).toBe(true);\n                expect(comment.get('extraData')).toEqual({\n                    mykey: 'myvalue',\n                    require_verification: false,\n                });\n                expect(editor.get('dirty')).toBe(false);\n                expect(editor.trigger).toHaveBeenCalledWith('saved');\n            });\n\n            it('With callbacks', function(done) {\n                /* Set these in order, to override canSave. */\n                const text = 'My text';\n                const issueOpened = true;\n\n                comment.set('issueOpened', false);\n                editor.set('comment', comment);\n                editor.set({\n                    text: text,\n                    issue_opened: issueOpened,\n                    canSave: true,\n                    richText: true,\n                });\n                editor.setExtraData('mykey', 'myvalue');\n\n                spyOn(console, 'warn');\n\n                editor.save({\n                    success: () => {\n                        expect(console.assert.calls.argsFor(0)[0]).toBeTruthy();\n                        expect(comment.save).toHaveBeenCalled();\n                        expect(comment.get('text')).toBe(text);\n                        expect(comment.get('issueOpened')).toBe(issueOpened);\n                        expect(comment.get('richText')).toBe(true);\n                        expect(comment.get('extraData')).toEqual({\n                            mykey: 'myvalue',\n                            require_verification: false,\n                        });\n                        expect(editor.get('dirty')).toBe(false);\n                        expect(editor.trigger).toHaveBeenCalledWith('saved');\n                        expect(console.warn).toHaveBeenCalled();\n\n                        done();\n                    },\n                    error: () => done.fail(),\n                });\n            });\n        });\n    });\n});\n"],"mappings":"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"}