{"version":3,"file":"reviewRequestModelTests.js","names":["suite","reviewRequest","describe","beforeEach","RB","ReviewRequest","spyOn","$","and","callFake","request","expect","data","commit_id","toBe","create_from_commit_id","success","it","createFromCommit","done","console","commitID","warn","toHaveBeenCalled","error","fail","id","resolveTo","diff","createDiff","get","screenshot","createScreenshot","fileAttachment","createFileAttachment","parse","stat","review_request","branch","bugs_closed","close_description","close_description_text_type","description","description_text_type","last_updated","summary","target_groups","target_people","testing_done","testing_done_text_type","not","undefined","bugsClosed","closeDescription","closeDescriptionRichText","descriptionRichText","lastUpdated","public","targetGroups","targetPeople","testingDone","testingDoneRichText","callThrough","type","status","links","reopen","apiCall","ajax","review","createReview","reviews","length","review1","review2","toBeFalsy","url","session","UserSession","instance","create","username","watchedReviewRequestsURL","watchedReviewRequests","setStarred","addImmediately","removeImmediately","close","CLOSE_DISCARDED","CLOSE_SUBMITTED","expectAsync","toBeRejectedWith","Error"],"sources":["../../../../../../../static/rb/js/resources/models/tests/reviewRequestModelTests.es6.js"],"sourcesContent":["suite('rb/resources/models/ReviewRequest', function() {\n    let reviewRequest;\n\n    describe('Create from commit ID', function() {\n        beforeEach(function() {\n            reviewRequest = new RB.ReviewRequest();\n\n            spyOn($, 'ajax').and.callFake(request => {\n                expect(request.data.commit_id).toBe('test');\n                expect(request.data.create_from_commit_id).toBe(true);\n\n                request.success({});\n            });\n        });\n\n        it('With promises', async function() {\n            await reviewRequest.createFromCommit('test');\n        });\n\n        it('With callbacks', function(done) {\n            spyOn(console, 'warn');\n\n            reviewRequest.createFromCommit({\n                commitID: 'test',\n                success: () => {\n                    expect(console.warn).toHaveBeenCalled();\n                    done();\n                },\n                error: () => done.fail(),\n            });\n        });\n    });\n\n    describe('Existing instance', function() {\n        beforeEach(function() {\n            reviewRequest = new RB.ReviewRequest({\n                id: 1,\n            });\n\n            spyOn(reviewRequest, 'ready').and.resolveTo();\n        });\n\n        it('createDiff', function() {\n            const diff = reviewRequest.createDiff();\n\n            expect(diff.get('parentObject')).toBe(reviewRequest);\n        });\n\n        it('createScreenshot', function() {\n            const screenshot = reviewRequest.createScreenshot(42);\n\n            expect(screenshot.get('parentObject')).toBe(reviewRequest);\n            expect(screenshot.id).toBe(42);\n        });\n\n        it('createFileAttachment', function() {\n            const fileAttachment = reviewRequest.createFileAttachment({\n                id: 42,\n            });\n\n            expect(fileAttachment.get('parentObject')).toBe(reviewRequest);\n            expect(fileAttachment.id).toBe(42);\n        });\n\n        it('parse', function() {\n            const data = reviewRequest.parse({\n                stat: 'ok',\n                review_request: {\n                    id: 1,\n                    branch: 'branch',\n                    bugs_closed: 'bugsClosed',\n                    close_description: 'closeDescription',\n                    close_description_text_type: 'markdown',\n                    description: 'description',\n                    description_text_type: 'markdown',\n                    last_updated: 'lastUpdated',\n                    'public': 'public',\n                    summary: 'summary',\n                    target_groups: 'targetGroups',\n                    target_people: 'targetPeople',\n                    testing_done: 'testingDone',\n                    testing_done_text_type: 'plain',\n                },\n            });\n\n            expect(data).not.toBe(undefined);\n            expect(data.id).toBe(1);\n            expect(data.branch).toBe('branch');\n            expect(data.bugsClosed).toBe('bugsClosed');\n            expect(data.closeDescription).toBe('closeDescription');\n            expect(data.closeDescriptionRichText).toBe(true);\n            expect(data.description).toBe('description');\n            expect(data.descriptionRichText).toBe(true);\n            expect(data.lastUpdated).toBe('lastUpdated');\n            expect(data.public).toBe('public');\n            expect(data.summary).toBe('summary');\n            expect(data.targetGroups).toBe('targetGroups');\n            expect(data.targetPeople).toBe('targetPeople');\n            expect(data.testingDone).toBe('testingDone');\n            expect(data.testingDoneRichText).toBe(false);\n        });\n\n        describe('reopen', function() {\n            it('With promises', async function() {\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('PUT');\n                    expect(request.data.status).toBe('pending');\n\n                    request.success({\n                        stat: 'ok',\n                        review_request: {\n                            id: 1,\n                            links: {},\n                        },\n                    });\n                });\n\n                await reviewRequest.reopen();\n\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('With callbacks', function(done) {\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('PUT');\n                    expect(request.data.status).toBe('pending');\n\n                    request.success({\n                        stat: 'ok',\n                        review_request: {\n                            id: 1,\n                            links: {},\n                        },\n                    });\n                });\n                spyOn(console, 'warn');\n\n                reviewRequest.reopen({\n                    success: () => {\n                        expect(RB.apiCall).toHaveBeenCalled();\n                        expect($.ajax).toHaveBeenCalled();\n                        expect(console.warn).toHaveBeenCalled();\n\n                        done();\n                    },\n                    error: () => done.fail(),\n                });\n            });\n        });\n\n        describe('createReview', function() {\n            it('With review ID', function() {\n                const review = reviewRequest.createReview(42);\n\n                expect(review.get('parentObject')).toBe(reviewRequest);\n                expect(review.get('id')).toBe(42);\n                expect(reviewRequest.get('draftReview')).toBe(null);\n                expect(reviewRequest.reviews.length).toBe(1);\n                expect(reviewRequest.reviews.get(42)).toBe(review);\n            });\n\n            it('Without review ID', function() {\n                const review1 = reviewRequest.createReview();\n                const review2 = reviewRequest.createReview();\n\n                expect(review1.get('parentObject')).toBe(reviewRequest);\n                expect(review1.id).toBeFalsy();\n                expect(reviewRequest.get('draftReview')).toBe(review1);\n                expect(review1).toBe(review2);\n                expect(reviewRequest.reviews.length).toBe(0);\n            });\n        });\n\n        describe('setStarred', function() {\n            const url = '/api/users/testuser/watched/review-requests/';\n            let session;\n\n            beforeEach(function() {\n                RB.UserSession.instance = null;\n                session = RB.UserSession.create({\n                    username: 'testuser',\n                    watchedReviewRequestsURL: url,\n                });\n\n                spyOn(session.watchedReviewRequests, 'addImmediately')\n                    .and.callThrough();\n                spyOn(session.watchedReviewRequests, 'removeImmediately')\n                    .and.callThrough();\n                spyOn(RB, 'apiCall').and.callThrough();\n            });\n\n            it('true', async function() {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('POST');\n                    expect(request.url).toBe(url);\n\n                    request.success({\n                        stat: 'ok',\n                    });\n                });\n\n                await reviewRequest.setStarred(true);\n\n                expect(session.watchedReviewRequests.addImmediately)\n                    .toHaveBeenCalled();\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('false', async function() {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('DELETE');\n                    expect(request.url).toBe(url + '1/');\n\n                    request.success({\n                        stat: 'ok',\n                    });\n                });\n\n                await reviewRequest.setStarred(false);\n\n                expect(session.watchedReviewRequests.removeImmediately)\n                    .toHaveBeenCalled();\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('With callbacks', function(done) {\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('POST');\n                    expect(request.url).toBe(url);\n\n                    request.success({\n                        stat: 'ok',\n                    });\n                });\n                spyOn(console, 'warn');\n\n                reviewRequest.setStarred(true, {\n                    success: () => {\n                        expect(session.watchedReviewRequests.addImmediately)\n                            .toHaveBeenCalled();\n                        expect(RB.apiCall).toHaveBeenCalled();\n                        expect($.ajax).toHaveBeenCalled();\n                        expect(console.warn).toHaveBeenCalled();\n\n                        done();\n                    },\n                    error: () => done.fail(),\n                });\n            });\n        });\n\n        describe('close', function() {\n            it('With type=CLOSE_DISCARDED', async function() {\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('PUT');\n                    expect(request.data.status).toBe('discarded');\n                    expect(request.data.description).toBe(undefined);\n\n                    request.success({\n                        stat: 'ok',\n                        review_request: {\n                            id: 1,\n                            links: {},\n                        },\n                    });\n                });\n\n                await reviewRequest.close({\n                    type: RB.ReviewRequest.CLOSE_DISCARDED,\n                });\n\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('With type=CLOSE_SUBMITTED', async function() {\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('PUT');\n                    expect(request.data.status).toBe('submitted');\n                    expect(request.data.description).toBe(undefined);\n\n                    request.success({\n                        stat: 'ok',\n                        review_request: {\n                            id: 1,\n                            links: {},\n                        }\n                    });\n                });\n\n                await reviewRequest.close({\n                    type: RB.ReviewRequest.CLOSE_SUBMITTED,\n                });\n\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('With invalid type', async function() {\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax');\n\n                await expectAsync(reviewRequest.close({type: 'foo'})).\n                    toBeRejectedWith(Error('Invalid close type'));\n\n                expect(RB.apiCall).not.toHaveBeenCalled();\n                expect($.ajax).not.toHaveBeenCalled();\n            });\n\n            it('With description', async function() {\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('PUT');\n                    expect(request.data.status).toBe('submitted');\n                    expect(request.data.close_description).toBe('test');\n\n                    request.success({\n                        stat: 'ok',\n                        review_request: {\n                            id: 1,\n                            links: {},\n                        },\n                    });\n                });\n\n                await reviewRequest.close({\n                    type: RB.ReviewRequest.CLOSE_SUBMITTED,\n                    description: 'test',\n                });\n\n                expect(RB.apiCall).toHaveBeenCalled();\n                expect($.ajax).toHaveBeenCalled();\n            });\n\n            it('With callbacks', function(done) {\n                spyOn(RB, 'apiCall').and.callThrough();\n                spyOn($, 'ajax').and.callFake(request => {\n                    expect(request.type).toBe('PUT');\n                    expect(request.data.status).toBe('discarded');\n                    expect(request.data.description).toBe(undefined);\n\n                    request.success({\n                        stat: 'ok',\n                        review_request: {\n                            id: 1,\n                            links: {},\n                        },\n                    });\n                });\n                spyOn(console, 'warn');\n\n                reviewRequest.close({\n                    type: RB.ReviewRequest.CLOSE_DISCARDED,\n                    success: () => {\n                        expect(RB.apiCall).toHaveBeenCalled();\n                        expect($.ajax).toHaveBeenCalled();\n                        expect(console.warn).toHaveBeenCalled();\n\n                        done();\n                    },\n                    error: () => done.fail(),\n                });\n            });\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,mCAAD,EAAsC,YAAW;EAClD,IAAIC,aAAJ;EAEAC,QAAQ,CAAC,uBAAD,EAA0B,YAAW;IACzCC,UAAU,CAAC,YAAW;MAClBF,aAAa,GAAG,IAAIG,EAAE,CAACC,aAAP,EAAhB;MAEAC,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;QACrCC,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaC,SAAd,CAAN,CAA+BC,IAA/B,CAAoC,MAApC;QACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaG,qBAAd,CAAN,CAA2CD,IAA3C,CAAgD,IAAhD;QAEAJ,OAAO,CAACM,OAAR,CAAgB,EAAhB;MACH,CALD;IAMH,CATS,CAAV;IAWAC,EAAE,CAAC,eAAD,EAAkB,kBAAiB;MACjC,MAAMhB,aAAa,CAACiB,gBAAd,CAA+B,MAA/B,CAAN;IACH,CAFC,CAAF;IAIAD,EAAE,CAAC,gBAAD,EAAmB,UAASE,IAAT,EAAe;MAChCb,KAAK,CAACc,OAAD,EAAU,MAAV,CAAL;MAEAnB,aAAa,CAACiB,gBAAd,CAA+B;QAC3BG,QAAQ,EAAE,MADiB;QAE3BL,OAAO,EAAE,MAAM;UACXL,MAAM,CAACS,OAAO,CAACE,IAAT,CAAN,CAAqBC,gBAArB;UACAJ,IAAI;QACP,CAL0B;QAM3BK,KAAK,EAAE,MAAML,IAAI,CAACM,IAAL;MANc,CAA/B;IAQH,CAXC,CAAF;EAYH,CA5BO,CAAR;EA8BAvB,QAAQ,CAAC,mBAAD,EAAsB,YAAW;IACrCC,UAAU,CAAC,YAAW;MAClBF,aAAa,GAAG,IAAIG,EAAE,CAACC,aAAP,CAAqB;QACjCqB,EAAE,EAAE;MAD6B,CAArB,CAAhB;MAIApB,KAAK,CAACL,aAAD,EAAgB,OAAhB,CAAL,CAA8BO,GAA9B,CAAkCmB,SAAlC;IACH,CANS,CAAV;IAQAV,EAAE,CAAC,YAAD,EAAe,YAAW;MACxB,MAAMW,IAAI,GAAG3B,aAAa,CAAC4B,UAAd,EAAb;MAEAlB,MAAM,CAACiB,IAAI,CAACE,GAAL,CAAS,cAAT,CAAD,CAAN,CAAiChB,IAAjC,CAAsCb,aAAtC;IACH,CAJC,CAAF;IAMAgB,EAAE,CAAC,kBAAD,EAAqB,YAAW;MAC9B,MAAMc,UAAU,GAAG9B,aAAa,CAAC+B,gBAAd,CAA+B,EAA/B,CAAnB;MAEArB,MAAM,CAACoB,UAAU,CAACD,GAAX,CAAe,cAAf,CAAD,CAAN,CAAuChB,IAAvC,CAA4Cb,aAA5C;MACAU,MAAM,CAACoB,UAAU,CAACL,EAAZ,CAAN,CAAsBZ,IAAtB,CAA2B,EAA3B;IACH,CALC,CAAF;IAOAG,EAAE,CAAC,sBAAD,EAAyB,YAAW;MAClC,MAAMgB,cAAc,GAAGhC,aAAa,CAACiC,oBAAd,CAAmC;QACtDR,EAAE,EAAE;MADkD,CAAnC,CAAvB;MAIAf,MAAM,CAACsB,cAAc,CAACH,GAAf,CAAmB,cAAnB,CAAD,CAAN,CAA2ChB,IAA3C,CAAgDb,aAAhD;MACAU,MAAM,CAACsB,cAAc,CAACP,EAAhB,CAAN,CAA0BZ,IAA1B,CAA+B,EAA/B;IACH,CAPC,CAAF;IASAG,EAAE,CAAC,OAAD,EAAU,YAAW;MACnB,MAAML,IAAI,GAAGX,aAAa,CAACkC,KAAd,CAAoB;QAC7BC,IAAI,EAAE,IADuB;QAE7BC,cAAc,EAAE;UACZX,EAAE,EAAE,CADQ;UAEZY,MAAM,EAAE,QAFI;UAGZC,WAAW,EAAE,YAHD;UAIZC,iBAAiB,EAAE,kBAJP;UAKZC,2BAA2B,EAAE,UALjB;UAMZC,WAAW,EAAE,aAND;UAOZC,qBAAqB,EAAE,UAPX;UAQZC,YAAY,EAAE,aARF;UASZ,UAAU,QATE;UAUZC,OAAO,EAAE,SAVG;UAWZC,aAAa,EAAE,cAXH;UAYZC,aAAa,EAAE,cAZH;UAaZC,YAAY,EAAE,aAbF;UAcZC,sBAAsB,EAAE;QAdZ;MAFa,CAApB,CAAb;MAoBAtC,MAAM,CAACC,IAAD,CAAN,CAAasC,GAAb,CAAiBpC,IAAjB,CAAsBqC,SAAtB;MACAxC,MAAM,CAACC,IAAI,CAACc,EAAN,CAAN,CAAgBZ,IAAhB,CAAqB,CAArB;MACAH,MAAM,CAACC,IAAI,CAAC0B,MAAN,CAAN,CAAoBxB,IAApB,CAAyB,QAAzB;MACAH,MAAM,CAACC,IAAI,CAACwC,UAAN,CAAN,CAAwBtC,IAAxB,CAA6B,YAA7B;MACAH,MAAM,CAACC,IAAI,CAACyC,gBAAN,CAAN,CAA8BvC,IAA9B,CAAmC,kBAAnC;MACAH,MAAM,CAACC,IAAI,CAAC0C,wBAAN,CAAN,CAAsCxC,IAAtC,CAA2C,IAA3C;MACAH,MAAM,CAACC,IAAI,CAAC8B,WAAN,CAAN,CAAyB5B,IAAzB,CAA8B,aAA9B;MACAH,MAAM,CAACC,IAAI,CAAC2C,mBAAN,CAAN,CAAiCzC,IAAjC,CAAsC,IAAtC;MACAH,MAAM,CAACC,IAAI,CAAC4C,WAAN,CAAN,CAAyB1C,IAAzB,CAA8B,aAA9B;MACAH,MAAM,CAACC,IAAI,CAAC6C,MAAN,CAAN,CAAoB3C,IAApB,CAAyB,QAAzB;MACAH,MAAM,CAACC,IAAI,CAACiC,OAAN,CAAN,CAAqB/B,IAArB,CAA0B,SAA1B;MACAH,MAAM,CAACC,IAAI,CAAC8C,YAAN,CAAN,CAA0B5C,IAA1B,CAA+B,cAA/B;MACAH,MAAM,CAACC,IAAI,CAAC+C,YAAN,CAAN,CAA0B7C,IAA1B,CAA+B,cAA/B;MACAH,MAAM,CAACC,IAAI,CAACgD,WAAN,CAAN,CAAyB9C,IAAzB,CAA8B,aAA9B;MACAH,MAAM,CAACC,IAAI,CAACiD,mBAAN,CAAN,CAAiC/C,IAAjC,CAAsC,KAAtC;IACH,CApCC,CAAF;IAsCAZ,QAAQ,CAAC,QAAD,EAAW,YAAW;MAC1Be,EAAE,CAAC,eAAD,EAAkB,kBAAiB;QACjCX,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;QACAxD,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,KAA1B;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaoD,MAAd,CAAN,CAA4BlD,IAA5B,CAAiC,SAAjC;UAEAJ,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE,IADM;YAEZC,cAAc,EAAE;cACZX,EAAE,EAAE,CADQ;cAEZuC,KAAK,EAAE;YAFK;UAFJ,CAAhB;QAOH,CAXD;QAaA,MAAMhE,aAAa,CAACiE,MAAd,EAAN;QAEAvD,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;QACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;MACH,CAnBC,CAAF;MAqBAN,EAAE,CAAC,gBAAD,EAAmB,UAASE,IAAT,EAAe;QAChCb,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;QACAxD,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,KAA1B;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaoD,MAAd,CAAN,CAA4BlD,IAA5B,CAAiC,SAAjC;UAEAJ,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE,IADM;YAEZC,cAAc,EAAE;cACZX,EAAE,EAAE,CADQ;cAEZuC,KAAK,EAAE;YAFK;UAFJ,CAAhB;QAOH,CAXD;QAYA3D,KAAK,CAACc,OAAD,EAAU,MAAV,CAAL;QAEAnB,aAAa,CAACiE,MAAd,CAAqB;UACjBlD,OAAO,EAAE,MAAM;YACXL,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;YACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;YACAZ,MAAM,CAACS,OAAO,CAACE,IAAT,CAAN,CAAqBC,gBAArB;YAEAJ,IAAI;UACP,CAPgB;UAQjBK,KAAK,EAAE,MAAML,IAAI,CAACM,IAAL;QARI,CAArB;MAUH,CA1BC,CAAF;IA2BH,CAjDO,CAAR;IAmDAvB,QAAQ,CAAC,cAAD,EAAiB,YAAW;MAChCe,EAAE,CAAC,gBAAD,EAAmB,YAAW;QAC5B,MAAMoD,MAAM,GAAGpE,aAAa,CAACqE,YAAd,CAA2B,EAA3B,CAAf;QAEA3D,MAAM,CAAC0D,MAAM,CAACvC,GAAP,CAAW,cAAX,CAAD,CAAN,CAAmChB,IAAnC,CAAwCb,aAAxC;QACAU,MAAM,CAAC0D,MAAM,CAACvC,GAAP,CAAW,IAAX,CAAD,CAAN,CAAyBhB,IAAzB,CAA8B,EAA9B;QACAH,MAAM,CAACV,aAAa,CAAC6B,GAAd,CAAkB,aAAlB,CAAD,CAAN,CAAyChB,IAAzC,CAA8C,IAA9C;QACAH,MAAM,CAACV,aAAa,CAACsE,OAAd,CAAsBC,MAAvB,CAAN,CAAqC1D,IAArC,CAA0C,CAA1C;QACAH,MAAM,CAACV,aAAa,CAACsE,OAAd,CAAsBzC,GAAtB,CAA0B,EAA1B,CAAD,CAAN,CAAsChB,IAAtC,CAA2CuD,MAA3C;MACH,CARC,CAAF;MAUApD,EAAE,CAAC,mBAAD,EAAsB,YAAW;QAC/B,MAAMwD,OAAO,GAAGxE,aAAa,CAACqE,YAAd,EAAhB;QACA,MAAMI,OAAO,GAAGzE,aAAa,CAACqE,YAAd,EAAhB;QAEA3D,MAAM,CAAC8D,OAAO,CAAC3C,GAAR,CAAY,cAAZ,CAAD,CAAN,CAAoChB,IAApC,CAAyCb,aAAzC;QACAU,MAAM,CAAC8D,OAAO,CAAC/C,EAAT,CAAN,CAAmBiD,SAAnB;QACAhE,MAAM,CAACV,aAAa,CAAC6B,GAAd,CAAkB,aAAlB,CAAD,CAAN,CAAyChB,IAAzC,CAA8C2D,OAA9C;QACA9D,MAAM,CAAC8D,OAAD,CAAN,CAAgB3D,IAAhB,CAAqB4D,OAArB;QACA/D,MAAM,CAACV,aAAa,CAACsE,OAAd,CAAsBC,MAAvB,CAAN,CAAqC1D,IAArC,CAA0C,CAA1C;MACH,CATC,CAAF;IAUH,CArBO,CAAR;IAuBAZ,QAAQ,CAAC,YAAD,EAAe,YAAW;MAC9B,MAAM0E,GAAG,GAAG,8CAAZ;MACA,IAAIC,OAAJ;MAEA1E,UAAU,CAAC,YAAW;QAClBC,EAAE,CAAC0E,WAAH,CAAeC,QAAf,GAA0B,IAA1B;QACAF,OAAO,GAAGzE,EAAE,CAAC0E,WAAH,CAAeE,MAAf,CAAsB;UAC5BC,QAAQ,EAAE,UADkB;UAE5BC,wBAAwB,EAAEN;QAFE,CAAtB,CAAV;QAKAtE,KAAK,CAACuE,OAAO,CAACM,qBAAT,EAAgC,gBAAhC,CAAL,CACK3E,GADL,CACSsD,WADT;QAEAxD,KAAK,CAACuE,OAAO,CAACM,qBAAT,EAAgC,mBAAhC,CAAL,CACK3E,GADL,CACSsD,WADT;QAEAxD,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;MACH,CAZS,CAAV;MAcA7C,EAAE,CAAC,MAAD,EAAS,kBAAiB;QACxBX,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,MAA1B;UACAH,MAAM,CAACD,OAAO,CAACkE,GAAT,CAAN,CAAoB9D,IAApB,CAAyB8D,GAAzB;UAEAlE,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE;UADM,CAAhB;QAGH,CAPD;QASA,MAAMnC,aAAa,CAACmF,UAAd,CAAyB,IAAzB,CAAN;QAEAzE,MAAM,CAACkE,OAAO,CAACM,qBAAR,CAA8BE,cAA/B,CAAN,CACK9D,gBADL;QAEAZ,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;QACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;MACH,CAhBC,CAAF;MAkBAN,EAAE,CAAC,OAAD,EAAU,kBAAiB;QACzBX,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,QAA1B;UACAH,MAAM,CAACD,OAAO,CAACkE,GAAT,CAAN,CAAoB9D,IAApB,CAAyB8D,GAAG,GAAG,IAA/B;UAEAlE,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE;UADM,CAAhB;QAGH,CAPD;QASA,MAAMnC,aAAa,CAACmF,UAAd,CAAyB,KAAzB,CAAN;QAEAzE,MAAM,CAACkE,OAAO,CAACM,qBAAR,CAA8BG,iBAA/B,CAAN,CACK/D,gBADL;QAEAZ,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;QACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;MACH,CAhBC,CAAF;MAkBAN,EAAE,CAAC,gBAAD,EAAmB,UAASE,IAAT,EAAe;QAChCb,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,MAA1B;UACAH,MAAM,CAACD,OAAO,CAACkE,GAAT,CAAN,CAAoB9D,IAApB,CAAyB8D,GAAzB;UAEAlE,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE;UADM,CAAhB;QAGH,CAPD;QAQA9B,KAAK,CAACc,OAAD,EAAU,MAAV,CAAL;QAEAnB,aAAa,CAACmF,UAAd,CAAyB,IAAzB,EAA+B;UAC3BpE,OAAO,EAAE,MAAM;YACXL,MAAM,CAACkE,OAAO,CAACM,qBAAR,CAA8BE,cAA/B,CAAN,CACK9D,gBADL;YAEAZ,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;YACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;YACAZ,MAAM,CAACS,OAAO,CAACE,IAAT,CAAN,CAAqBC,gBAArB;YAEAJ,IAAI;UACP,CAT0B;UAU3BK,KAAK,EAAE,MAAML,IAAI,CAACM,IAAL;QAVc,CAA/B;MAYH,CAvBC,CAAF;IAwBH,CA9EO,CAAR;IAgFAvB,QAAQ,CAAC,OAAD,EAAU,YAAW;MACzBe,EAAE,CAAC,2BAAD,EAA8B,kBAAiB;QAC7CX,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;QACAxD,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,KAA1B;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaoD,MAAd,CAAN,CAA4BlD,IAA5B,CAAiC,WAAjC;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAa8B,WAAd,CAAN,CAAiC5B,IAAjC,CAAsCqC,SAAtC;UAEAzC,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE,IADM;YAEZC,cAAc,EAAE;cACZX,EAAE,EAAE,CADQ;cAEZuC,KAAK,EAAE;YAFK;UAFJ,CAAhB;QAOH,CAZD;QAcA,MAAMhE,aAAa,CAACsF,KAAd,CAAoB;UACtBxB,IAAI,EAAE3D,EAAE,CAACC,aAAH,CAAiBmF;QADD,CAApB,CAAN;QAIA7E,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;QACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;MACH,CAtBC,CAAF;MAwBAN,EAAE,CAAC,2BAAD,EAA8B,kBAAiB;QAC7CX,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;QACAxD,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,KAA1B;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaoD,MAAd,CAAN,CAA4BlD,IAA5B,CAAiC,WAAjC;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAa8B,WAAd,CAAN,CAAiC5B,IAAjC,CAAsCqC,SAAtC;UAEAzC,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE,IADM;YAEZC,cAAc,EAAE;cACZX,EAAE,EAAE,CADQ;cAEZuC,KAAK,EAAE;YAFK;UAFJ,CAAhB;QAOH,CAZD;QAcA,MAAMhE,aAAa,CAACsF,KAAd,CAAoB;UACtBxB,IAAI,EAAE3D,EAAE,CAACC,aAAH,CAAiBoF;QADD,CAApB,CAAN;QAIA9E,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;QACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;MACH,CAtBC,CAAF;MAwBAN,EAAE,CAAC,mBAAD,EAAsB,kBAAiB;QACrCX,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;QACAxD,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL;QAEA,MAAMmF,WAAW,CAACzF,aAAa,CAACsF,KAAd,CAAoB;UAACxB,IAAI,EAAE;QAAP,CAApB,CAAD,CAAX,CACF4B,gBADE,CACeC,KAAK,CAAC,oBAAD,CADpB,CAAN;QAGAjF,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmBjB,GAAnB,CAAuB3B,gBAAvB;QACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAelB,GAAf,CAAmB3B,gBAAnB;MACH,CATC,CAAF;MAWAN,EAAE,CAAC,kBAAD,EAAqB,kBAAiB;QACpCX,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;QACAxD,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,KAA1B;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaoD,MAAd,CAAN,CAA4BlD,IAA5B,CAAiC,WAAjC;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAa4B,iBAAd,CAAN,CAAuC1B,IAAvC,CAA4C,MAA5C;UAEAJ,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE,IADM;YAEZC,cAAc,EAAE;cACZX,EAAE,EAAE,CADQ;cAEZuC,KAAK,EAAE;YAFK;UAFJ,CAAhB;QAOH,CAZD;QAcA,MAAMhE,aAAa,CAACsF,KAAd,CAAoB;UACtBxB,IAAI,EAAE3D,EAAE,CAACC,aAAH,CAAiBoF,eADD;UAEtB/C,WAAW,EAAE;QAFS,CAApB,CAAN;QAKA/B,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;QACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;MACH,CAvBC,CAAF;MAyBAN,EAAE,CAAC,gBAAD,EAAmB,UAASE,IAAT,EAAe;QAChCb,KAAK,CAACF,EAAD,EAAK,SAAL,CAAL,CAAqBI,GAArB,CAAyBsD,WAAzB;QACAxD,KAAK,CAACC,CAAD,EAAI,MAAJ,CAAL,CAAiBC,GAAjB,CAAqBC,QAArB,CAA8BC,OAAO,IAAI;UACrCC,MAAM,CAACD,OAAO,CAACqD,IAAT,CAAN,CAAqBjD,IAArB,CAA0B,KAA1B;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAaoD,MAAd,CAAN,CAA4BlD,IAA5B,CAAiC,WAAjC;UACAH,MAAM,CAACD,OAAO,CAACE,IAAR,CAAa8B,WAAd,CAAN,CAAiC5B,IAAjC,CAAsCqC,SAAtC;UAEAzC,OAAO,CAACM,OAAR,CAAgB;YACZoB,IAAI,EAAE,IADM;YAEZC,cAAc,EAAE;cACZX,EAAE,EAAE,CADQ;cAEZuC,KAAK,EAAE;YAFK;UAFJ,CAAhB;QAOH,CAZD;QAaA3D,KAAK,CAACc,OAAD,EAAU,MAAV,CAAL;QAEAnB,aAAa,CAACsF,KAAd,CAAoB;UAChBxB,IAAI,EAAE3D,EAAE,CAACC,aAAH,CAAiBmF,eADP;UAEhBxE,OAAO,EAAE,MAAM;YACXL,MAAM,CAACP,EAAE,CAAC+D,OAAJ,CAAN,CAAmB5C,gBAAnB;YACAZ,MAAM,CAACJ,CAAC,CAAC6D,IAAH,CAAN,CAAe7C,gBAAf;YACAZ,MAAM,CAACS,OAAO,CAACE,IAAT,CAAN,CAAqBC,gBAArB;YAEAJ,IAAI;UACP,CARe;UAShBK,KAAK,EAAE,MAAML,IAAI,CAACM,IAAL;QATG,CAApB;MAWH,CA5BC,CAAF;IA6BH,CAlHO,CAAR;EAmHH,CAlVO,CAAR;AAmVH,CApXI,CAAL"}