{"version":3,"file":"changeListPageModel.js","names":["RB","Admin","ChangeListPage","Page","extend","defaults","_","prototype","actions","selectionCount","initialize","apply","arguments","selection","Backbone","Collection","listenTo","set","length","select","id","add","unselect","remove","get"],"sources":["../../../../../../static/rb/js/admin/models/changeListPageModel.es6.js"],"sourcesContent":["/**\n * The model for the Administration UI's Change List page.\n *\n * This manages the selection state for the rows in the page.\n *\n * Attributes:\n *     selection (Backbone.Collection of Backbone.Model):\n *         The collection managing selected items. Each is a basic model with\n *         an ID corresponding to the item's ID.\n *\n * Model Attributes:\n *     actions (Array of object):\n *         The actions that are enabled for items on the page. Each is an\n *         object with the following keys:\n *\n *         ``id`` (:js:class:`string`):\n *             The action's identifier.\n *\n *         ``label`` (:js:class:`string`):\n *             The human-readable label.\n */\nRB.Admin.ChangeListPage = RB.Page.extend({\n    defaults: _.defaults(RB.Page.prototype.defaults, {\n        actions: [],\n        selectionCount: 0,\n    }),\n\n    /**\n     * Initialize the page model.\n     */\n    initialize() {\n        RB.Page.prototype.initialize.apply(this, arguments);\n\n        this.selection = new Backbone.Collection();\n        this.listenTo(this.selection, 'add remove reset',\n                      () => this.set('selectionCount', this.selection.length));\n    },\n\n    /**\n     * Mark an item as selected.\n     *\n     * Args:\n     *     id (number):\n     *         The ID of the item to mark as selected.\n     */\n    select(id) {\n        this.selection.add({\n            id: id,\n        });\n    },\n\n    /**\n     * Mark an item as no longer being selected.\n     *\n     * Args:\n     *     id (number):\n     *         The ID of the item to unselect.\n     */\n    unselect(id) {\n        this.selection.remove(this.selection.get(id));\n    },\n});\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,EAAE,CAACC,KAAH,CAASC,cAAT,GAA0BF,EAAE,CAACG,IAAH,CAAQC,MAAR,CAAe;EACrCC,QAAQ,EAAEC,CAAC,CAACD,QAAF,CAAWL,EAAE,CAACG,IAAH,CAAQI,SAAR,CAAkBF,QAA7B,EAAuC;IAC7CG,OAAO,EAAE,EADoC;IAE7CC,cAAc,EAAE;EAF6B,CAAvC,CAD2B;;EAMrC;AACJ;AACA;EACIC,UAAU,GAAG;IACTV,EAAE,CAACG,IAAH,CAAQI,SAAR,CAAkBG,UAAlB,CAA6BC,KAA7B,CAAmC,IAAnC,EAAyCC,SAAzC;IAEA,KAAKC,SAAL,GAAiB,IAAIC,QAAQ,CAACC,UAAb,EAAjB;IACA,KAAKC,QAAL,CAAc,KAAKH,SAAnB,EAA8B,kBAA9B,EACc,MAAM,KAAKI,GAAL,CAAS,gBAAT,EAA2B,KAAKJ,SAAL,CAAeK,MAA1C,CADpB;EAEH,CAfoC;;EAiBrC;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,MAAM,CAACC,EAAD,EAAK;IACP,KAAKP,SAAL,CAAeQ,GAAf,CAAmB;MACfD,EAAE,EAAEA;IADW,CAAnB;EAGH,CA5BoC;;EA8BrC;AACJ;AACA;AACA;AACA;AACA;AACA;EACIE,QAAQ,CAACF,EAAD,EAAK;IACT,KAAKP,SAAL,CAAeU,MAAf,CAAsB,KAAKV,SAAL,CAAeW,GAAf,CAAmBJ,EAAnB,CAAtB;EACH;;AAvCoC,CAAf,CAA1B"}