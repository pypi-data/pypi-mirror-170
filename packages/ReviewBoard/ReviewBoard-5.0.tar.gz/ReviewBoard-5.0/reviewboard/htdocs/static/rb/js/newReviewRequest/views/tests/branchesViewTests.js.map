{"version":3,"file":"branchesViewTests.js","names":["suite","collection","view","beforeEach","RB","RepositoryBranches","name","commit","isDefault","BranchesView","describe","it","render","expect","$el","html","toBe","on","branch","get","children","$","attr","change"],"sources":["../../../../../../../static/rb/js/newReviewRequest/views/tests/branchesViewTests.es6.js"],"sourcesContent":["suite('rb/newReviewRequest/views/BranchesView', function() {\n    let collection;\n    let view;\n\n    beforeEach(function() {\n        collection = new RB.RepositoryBranches([\n            {\n                name: 'master',\n                commit: '8088295174d8d46af7700ddf4522e3a703724106',\n                isDefault: true,\n            },\n            {\n                name: 'release-1.7.x',\n                commit: '5e6707050f7cb29ed50fafd3b92bffb1e15df19f',\n                isDefault: false,\n            },\n            {\n                name: 'release-1.6.x',\n                commit: 'a15d0e635064a2e1929ce1bf3bc8d4aa65738b64',\n                isDefault: false,\n            }\n        ]);\n\n        view = new RB.BranchesView({\n            collection: collection,\n        });\n    });\n\n    describe('Rendering', function() {\n        it('With items', function() {\n            view.render();\n            expect(view.$el.html()).toBe(\n                '<option selected=\"selected\">master</option>' +\n                '<option>release-1.7.x</option>' +\n                '<option>release-1.6.x</option>');\n        });\n    });\n\n    describe('Selected event', function() {\n        it('When clicked', function() {\n            view.render();\n\n            view.on('selected', branch => {\n                expect(branch.get('name')).toBe('release-1.7.x');\n            });\n\n            const children = view.$el.children();\n\n            $(children[0]).attr('selected', false);\n            $(children[1]).attr('selected', true);\n            view.$el.change();\n\n            expect(view.$el.html()).toBe(\n                '<option>master</option>' +\n                '<option selected=\"selected\">release-1.7.x</option>' +\n                '<option>release-1.6.x</option>');\n        });\n    });\n});\n"],"mappings":";;AAAAA,KAAK,CAAC,wCAAD,EAA2C,YAAW;EACvD,IAAIC,UAAJ;EACA,IAAIC,IAAJ;EAEAC,UAAU,CAAC,YAAW;IAClBF,UAAU,GAAG,IAAIG,EAAE,CAACC,kBAAP,CAA0B,CACnC;MACIC,IAAI,EAAE,QADV;MAEIC,MAAM,EAAE,0CAFZ;MAGIC,SAAS,EAAE;IAHf,CADmC,EAMnC;MACIF,IAAI,EAAE,eADV;MAEIC,MAAM,EAAE,0CAFZ;MAGIC,SAAS,EAAE;IAHf,CANmC,EAWnC;MACIF,IAAI,EAAE,eADV;MAEIC,MAAM,EAAE,0CAFZ;MAGIC,SAAS,EAAE;IAHf,CAXmC,CAA1B,CAAb;IAkBAN,IAAI,GAAG,IAAIE,EAAE,CAACK,YAAP,CAAoB;MACvBR,UAAU,EAAEA;IADW,CAApB,CAAP;EAGH,CAtBS,CAAV;EAwBAS,QAAQ,CAAC,WAAD,EAAc,YAAW;IAC7BC,EAAE,CAAC,YAAD,EAAe,YAAW;MACxBT,IAAI,CAACU,MAAL;MACAC,MAAM,CAACX,IAAI,CAACY,GAAL,CAASC,IAAT,EAAD,CAAN,CAAwBC,IAAxB,CACI,gDACA,gCADA,GAEA,gCAHJ;IAIH,CANC,CAAF;EAOH,CARO,CAAR;EAUAN,QAAQ,CAAC,gBAAD,EAAmB,YAAW;IAClCC,EAAE,CAAC,cAAD,EAAiB,YAAW;MAC1BT,IAAI,CAACU,MAAL;MAEAV,IAAI,CAACe,EAAL,CAAQ,UAAR,EAAoBC,MAAM,IAAI;QAC1BL,MAAM,CAACK,MAAM,CAACC,GAAP,CAAW,MAAX,CAAD,CAAN,CAA2BH,IAA3B,CAAgC,eAAhC;MACH,CAFD;MAIA,MAAMI,QAAQ,GAAGlB,IAAI,CAACY,GAAL,CAASM,QAAT,EAAjB;MAEAC,CAAC,CAACD,QAAQ,CAAC,CAAD,CAAT,CAAD,CAAeE,IAAf,CAAoB,UAApB,EAAgC,KAAhC;MACAD,CAAC,CAACD,QAAQ,CAAC,CAAD,CAAT,CAAD,CAAeE,IAAf,CAAoB,UAApB,EAAgC,IAAhC;MACApB,IAAI,CAACY,GAAL,CAASS,MAAT;MAEAV,MAAM,CAACX,IAAI,CAACY,GAAL,CAASC,IAAT,EAAD,CAAN,CAAwBC,IAAxB,CACI,4BACA,oDADA,GAEA,gCAHJ;IAIH,CAjBC,CAAF;EAkBH,CAnBO,CAAR;AAoBH,CA1DI,CAAL"}