{"version":3,"file":"addIntegrationPopupViewTests.js","names":["suite","describe","it","view","Djblets","AddIntegrationPopupView","integrations","render","expect","$el","hasClass","toBe","$items","find","length","$item","eq","children","attr","text","trim","$icon","$empty","$"],"sources":["../../../../../../../static/djblets/js/integrations/views/tests/addIntegrationPopupViewTests.es6.js"],"sourcesContent":["suite('djblets/integrations/views/AddIntegrationPopupView', function() {\n    describe('Rendering', function() {\n        it('With integrations', function() {\n            const view = new Djblets.AddIntegrationPopupView({\n                integrations: [\n                    {\n                        'addURL': 'int1/add/',\n                        'description': 'Int1 Description',\n                        'iconSrc': 'data:test,int1',\n                        'iconSrcSet': 'data:test,int1 1x, data:test,int1@2x 2x',\n                        'id': 'int1',\n                        'name': 'Int1',\n                    },\n                    {\n                        'addURL': 'int2/add/',\n                        'description': 'Int2 Description',\n                        'iconSrc': 'data:test,int2',\n                        'iconSrcSet': 'data:test,int2 1x, data:test,int2@2x 2x',\n                        'id': 'int2',\n                        'name': 'Int2',\n                    },\n                ],\n            });\n            view.render();\n\n            expect(view.$el.hasClass('-is-empty')).toBe(false);\n\n            const $items = view.$el.find('.djblets-c-integration');\n            expect($items.length).toBe(2);\n\n            /* Check the first integration. */\n            let $item = $items.eq(0);\n            expect($item.children('a').attr('href')).toBe('int1/add/');\n            expect($item.find('.djblets-c-integration__name').text())\n                .toBe('Int1');\n            expect($item.find('.djblets-c-integration__description')\n                       .text().trim())\n                .toBe('Int1 Description');\n\n            let $icon = $item.find('.djblets-c-integration__icon');\n            expect($icon.attr('src')).toBe('data:test,int1');\n            expect($icon.attr('srcset'))\n                .toBe('data:test,int1 1x, data:test,int1@2x 2x');\n\n            /* Check the second integration. */\n            $item = $items.eq(1);\n            expect($item.children('a').attr('href')).toBe('int2/add/');\n            expect($item.find('.djblets-c-integration__name').text())\n                .toBe('Int2');\n            expect($item.find('.djblets-c-integration__description')\n                       .text().trim())\n                .toBe('Int2 Description');\n\n            $icon = $item.find('.djblets-c-integration__icon');\n            expect($icon.attr('src')).toBe('data:test,int2');\n            expect($icon.attr('srcset'))\n                .toBe('data:test,int2 1x, data:test,int2@2x 2x');\n        });\n\n        it('Without integrations', function() {\n            const view = new Djblets.AddIntegrationPopupView({\n                integrations: [],\n            });\n            view.render();\n\n            expect(view.$el.hasClass('-is-empty')).toBe(true);\n\n            const $empty = view.$('.djblets-c-integrations-popup__empty');\n            expect($empty.length).toBe(1);\n\n            expect($empty.text().trim()).toBe(\n                'There are no integrations currently installed.');\n        });\n    });\n});\n"],"mappings":"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"}