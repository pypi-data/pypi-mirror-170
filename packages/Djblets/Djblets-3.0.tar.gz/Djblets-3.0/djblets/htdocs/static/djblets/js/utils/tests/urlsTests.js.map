{"version":3,"file":"urlsTests.js","names":["suite","describe","it","url","Djblets","buildURL","baseURL","expect","toBe","anchor","queryData","a","name","value","parseQueryString","toEqual","c","e","abc","ghi","queryString","allowMultiValue","b"],"sources":["../../../../../../static/djblets/js/utils/tests/urlsTests.es6.js"],"sourcesContent":["suite('djblets/utils/urls', function() {\n    describe('buildURL', function() {\n        it('With just baseURL', function() {\n            const url = Djblets.buildURL({\n                baseURL: 'https://example.com/abc123/',\n            });\n\n            expect(url).toBe('https://example.com/abc123/');\n        });\n\n        describe('With anchor', function() {\n            it('With leading \"#\"', function() {\n                const url = Djblets.buildURL({\n                    baseURL: 'https://example.com/abc123/',\n                    anchor: '#my-anchor',\n                });\n\n                expect(url).toBe('https://example.com/abc123/#my-anchor');\n            });\n\n            it('Without leading \"#\"', function() {\n                const url = Djblets.buildURL({\n                    baseURL: 'https://example.com/abc123/',\n                    anchor: 'my-anchor',\n                });\n\n                expect(url).toBe('https://example.com/abc123/#my-anchor');\n            });\n        });\n\n        describe('With queryData', function() {\n            describe('As string', function() {\n                it('With leading \"?\"', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: '?a=b&c=d',\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b&c=d');\n                });\n\n                it('Without leading \"?\"', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: 'a=b&c=d',\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b&c=d');\n                });\n\n                it('Empty', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: '',\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/');\n                });\n            });\n\n            describe('As object', function() {\n                it('With value', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: {\n                            a: 'b',\n                        },\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b');\n                });\n\n                it('Empty', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: {},\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/');\n                });\n            });\n\n            describe('As array', function() {\n                it('With value', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: [\n                            {\n                                name: 'a',\n                                value: 'b',\n                            },\n                            {\n                                name: 'c',\n                                value: 'd',\n                            },\n                        ],\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/?a=b&c=d');\n                });\n\n                it('Empty', function() {\n                    const url = Djblets.buildURL({\n                        baseURL: 'https://example.com/abc123/',\n                        queryData: [],\n                    });\n\n                    expect(url).toBe('https://example.com/abc123/');\n                });\n            });\n        });\n\n        it('With all options', function() {\n            const url = Djblets.buildURL({\n                baseURL: 'https://example.com/abc123/',\n                queryData: 'a=b&c=d',\n                anchor: 'my-anchor',\n            });\n\n            expect(url).toBe(\n                'https://example.com/abc123/?a=b&c=d#my-anchor');\n        });\n    });\n\n    describe('parseQueryString', function() {\n        it('Empty query string', function() {\n            expect(Djblets.parseQueryString('')).toEqual({});\n        });\n\n        it('Basic query strings', function() {\n            expect(Djblets.parseQueryString('?a=b&c=d&e=f')).toEqual({\n                a: 'b',\n                c: 'd',\n                e: 'f',\n            });\n        });\n\n        it('Keys without values', function() {\n            expect(Djblets.parseQueryString('?abc=def&ghi')).toEqual({\n                abc: 'def',\n                ghi: null,\n            });\n        });\n\n        describe('Multiple values for keys', function() {\n            it('With allowMultiValue=true', function() {\n                const queryString =\n                    Djblets.parseQueryString('?a=1&a=2&a=3&b=4', {\n                        allowMultiValue: true,\n                    });\n\n                expect(queryString).toEqual({\n                    a: ['1', '2', '3'],\n                    b: '4',\n                });\n            });\n\n            it('Without allowMultiValue=true', function() {\n                expect(Djblets.parseQueryString('?a=1&a=2&a=3&b=4')).toEqual({\n                    a: '3',\n                    b: '4',\n                });\n            });\n        });\n    });\n});\n"],"mappings":"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"}