{"version":3,"file":"tableViewTests.js","names":["suite","describe","collection","list","tableView","beforeEach","Backbone","Collection","text","model","Djblets","Config","ListItem","List","TableView","render","it","$rows","$","expect","length","toBe","eq","strip","add","remove","at","reset"],"sources":["../../../../../../../static/djblets/js/configForms/views/tests/tableViewTests.es6.js"],"sourcesContent":["suite('djblets/configForms/views/TableView', function() {\n    describe('Manages rows', function() {\n        let collection;\n        let list;\n        let tableView;\n\n        beforeEach(function() {\n            collection = new Backbone.Collection(\n                [\n                    {text: 'Item 1'},\n                    {text: 'Item 2'},\n                    {text: 'Item 3'},\n                ], {\n                    model: Djblets.Config.ListItem,\n                }\n            );\n\n            list = new Djblets.Config.List({}, {\n                collection: collection,\n            });\n\n            tableView = new Djblets.Config.TableView({\n                model: list,\n            });\n            tableView.render();\n        });\n\n        it('On render', function() {\n            const $rows = tableView.$('tr');\n            expect($rows.length).toBe(3);\n            expect($rows.eq(0).text().strip()).toBe('Item 1');\n            expect($rows.eq(1).text().strip()).toBe('Item 2');\n            expect($rows.eq(2).text().strip()).toBe('Item 3');\n        });\n\n        it('On add', function() {\n            collection.add({\n                text: 'Item 4',\n            });\n\n            const $rows = tableView.$('tr');\n            expect($rows.length).toBe(4);\n            expect($rows.eq(3).text().strip()).toBe('Item 4');\n        });\n\n        it('On remove', function() {\n            collection.remove(collection.at(0));\n\n            const $rows = tableView.$('tr');\n            expect($rows.length).toBe(2);\n            expect($rows.eq(0).text().strip()).toBe('Item 2');\n        });\n\n        it('On reset', function() {\n            collection.reset([\n                {text: 'Foo'},\n                {text: 'Bar'},\n            ]);\n\n            const $rows = tableView.$('tr');\n            expect($rows.length).toBe(2);\n            expect($rows.eq(0).text().strip()).toBe('Foo');\n            expect($rows.eq(1).text().strip()).toBe('Bar');\n        });\n    });\n});\n"],"mappings":"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"}