{"version":3,"file":"listViewTests.js","names":["suite","describe","collection","list","listView","beforeEach","Backbone","Collection","text","model","Djblets","Config","ListItem","List","ListView","render","it","$items","$","expect","length","toBe","eq","strip","add","remove","at","reset"],"sources":["../../../../../../../static/djblets/js/configForms/views/tests/listViewTests.es6.js"],"sourcesContent":["suite('djblets/configForms/views/ListView', function() {\n    describe('Manages items', function() {\n        let collection;\n        let list;\n        let listView;\n\n        beforeEach(function() {\n            collection = new Backbone.Collection(\n                [\n                    {text: 'Item 1'},\n                    {text: 'Item 2'},\n                    {text: 'Item 3'},\n                ], {\n                    model: Djblets.Config.ListItem,\n                }\n            );\n\n            list = new Djblets.Config.List({}, {\n                collection: collection,\n            });\n\n            listView = new Djblets.Config.ListView({\n                model: list,\n            });\n            listView.render();\n        });\n\n        it('On render', function() {\n            const $items = listView.$('li');\n            expect($items.length).toBe(3);\n            expect($items.eq(0).text().strip()).toBe('Item 1');\n            expect($items.eq(1).text().strip()).toBe('Item 2');\n            expect($items.eq(2).text().strip()).toBe('Item 3');\n        });\n\n        it('On add', function() {\n            collection.add({\n                text: 'Item 4',\n            });\n\n            const $items = listView.$('li');\n            expect($items.length).toBe(4);\n            expect($items.eq(3).text().strip()).toBe('Item 4');\n        });\n\n        it('On remove', function() {\n            collection.remove(collection.at(0));\n\n            const $items = listView.$('li');\n            expect($items.length).toBe(2);\n            expect($items.eq(0).text().strip()).toBe('Item 2');\n        });\n\n        it('On reset', function() {\n            collection.reset([\n                {text: 'Foo'},\n                {text: 'Bar'},\n            ]);\n\n            const $items = listView.$('li');\n            expect($items.length).toBe(2);\n            expect($items.eq(0).text().strip()).toBe('Foo');\n            expect($items.eq(1).text().strip()).toBe('Bar');\n        });\n    });\n});\n"],"mappings":"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"}