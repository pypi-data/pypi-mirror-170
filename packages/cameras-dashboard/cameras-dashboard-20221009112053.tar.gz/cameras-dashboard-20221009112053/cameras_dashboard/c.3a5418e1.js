import{_ as t,c as i,d as e,t as n,j as s,k as a,$ as o,n as c}from"./main-d07cb663.js";import{Z as r,a1 as h,X as l,a2 as d}from"./c.37525831.js";import"./c.c11921c6.js";import"./c.62305b3f.js";import"./c.fc0bbf07.js";import"./c.95ef015c.js";import"./c.0ab76581.js";import"./c.c183f332.js";t([c("hui-timer-entity-row")],(function(t,i){class c extends i{constructor(...i){super(...i),t(this)}}return{F:c,d:[{kind:"field",decorators:[e({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[n()],key:"_config",value:void 0},{kind:"field",decorators:[n()],key:"_timeRemaining",value:void 0},{kind:"field",key:"_interval",value:void 0},{kind:"method",key:"setConfig",value:function(t){if(!t)throw new Error("Invalid configuration");if(this._config=t,!this.hass)return;const i=this.hass.states[this._config.entity];i?this._startInterval(i):this._clearInterval()}},{kind:"method",key:"disconnectedCallback",value:function(){s(a(c.prototype),"disconnectedCallback",this).call(this),this._clearInterval()}},{kind:"method",key:"connectedCallback",value:function(){if(s(a(c.prototype),"connectedCallback",this).call(this),this._config&&this._config.entity){var t;const i=null===(t=this.hass)||void 0===t?void 0:t.states[this._config.entity];i&&this._startInterval(i)}}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return o``;const t=this.hass.states[this._config.entity];return t?o`
      <hui-generic-entity-row .hass=${this.hass} .config=${this._config}>
        <div class="text-content">
          ${h(this.hass,t,this._timeRemaining)}
        </div>
      </hui-generic-entity-row>
    `:o`
        <hui-warning>
          ${r(this.hass,this._config.entity)}
        </hui-warning>
      `}},{kind:"method",key:"shouldUpdate",value:function(t){return!!t.has("_timeRemaining")||l(this,t)}},{kind:"method",key:"updated",value:function(t){if(s(a(c.prototype),"updated",this).call(this,t),!this._config||!t.has("hass"))return;const i=this.hass.states[this._config.entity],e=t.get("hass");(e?e.states[this._config.entity]:void 0)!==i?this._startInterval(i):i||this._clearInterval()}},{kind:"method",key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{kind:"method",key:"_startInterval",value:function(t){this._clearInterval(),this._calculateRemaining(t),"active"===t.state&&(this._interval=window.setInterval((()=>this._calculateRemaining(t)),1e3))}},{kind:"method",key:"_calculateRemaining",value:function(t){this._timeRemaining=d(t)}}]}}),i);
