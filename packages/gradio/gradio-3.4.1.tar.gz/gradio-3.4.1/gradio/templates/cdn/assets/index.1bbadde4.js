import{S as he,i as be,s as de,ab as ee,c as R,m as H,l as N,j,k as A,o as I,P as pe,Q as ke,a as D,A as ve,f as C,R as we,T as ye,C as q,D as M,n as G,a7 as je,H as Y,e as y,b as g,L,Y as F,d as B,g as z,t as le,h as te,B as ne,z as ze,ae as Be,w as E}from"./index.b2b4d576.js";import{B as Ae}from"./Block.fdf05501.js";import{B as Ce}from"./BlockLabel.77fd68df.js";import{M as Ge}from"./ModifyUpload.4a4f8b6f.js";import{g as De}from"./styles.ed3b21b5.js";import{I as U}from"./Image.29923f64.js";function J(t,e,l){const i=t.slice();return i[28]=e[l][0],i[29]=e[l][1],i[31]=l,i}function K(t,e,l){const i=t.slice();return i[28]=e[l],i[32]=e,i[31]=l,i}function O(t){let e,l;return e=new Ce({props:{show_label:t[1],Icon:U,label:t[2]||"Gallery",disable:typeof t[5].container=="boolean"&&!t[5].container}}),{c(){R(e.$$.fragment)},m(i,s){H(e,i,s),l=!0},p(i,s){const n={};s[0]&2&&(n.show_label=i[1]),s[0]&4&&(n.label=i[2]||"Gallery"),s[0]&32&&(n.disable=typeof i[5].container=="boolean"&&!i[5].container),e.$set(n)},i(i){l||(j(e.$$.fragment,i),l=!0)},o(i){A(e.$$.fragment,i),l=!1},d(i){I(e,i)}}}function Le(t){let e,l,i,s,n,r,o=t[6]!==null&&W(t);const m=[Ie,He],p=[];function c(f,h){return f[9].length===0?0:1}return i=c(t),s=p[i]=m[i](t),{c(){o&&o.c(),e=D(),l=y("div"),s.c(),g(l,"class","overflow-y-auto h-full p-2"),ee(()=>t[25].call(l)),B(l,"min-h-[350px]",t[5].height!=="auto"),B(l,"max-h-[55vh]",t[5].height!=="auto"),B(l,"xl:min-h-[450px]",t[5].height!=="auto")},m(f,h){o&&o.m(f,h),C(f,e,h),C(f,l,h),p[i].m(l,null),n=Be(l,t[25].bind(l)),r=!0},p(f,h){f[6]!==null?o?(o.p(f,h),h[0]&64&&j(o,1)):(o=W(f),o.c(),j(o,1),o.m(e.parentNode,e)):o&&(q(),A(o,1,1,()=>{o=null}),M());let v=i;i=c(f),i===v?p[i].p(f,h):(q(),A(p[v],1,1,()=>{p[v]=null}),M(),s=p[i],s?s.p(f,h):(s=p[i]=m[i](f),s.c()),j(s,1),s.m(l,null)),h[0]&32&&B(l,"min-h-[350px]",f[5].height!=="auto"),h[0]&32&&B(l,"max-h-[55vh]",f[5].height!=="auto"),h[0]&32&&B(l,"xl:min-h-[450px]",f[5].height!=="auto")},i(f){r||(j(o),j(s),r=!0)},o(f){A(o),A(s),r=!1},d(f){o&&o.d(f),f&&G(e),f&&G(l),p[i].d(),n()}}}function Re(t){let e,l,i,s;return i=new U({}),{c(){e=y("div"),l=y("div"),R(i.$$.fragment),g(l,"class","h-5 dark:text-white opacity-50"),g(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,r){C(n,e,r),z(e,l),H(i,l,null),s=!0},p:E,i(n){s||(j(i.$$.fragment,n),s=!0)},o(n){A(i.$$.fragment,n),s=!1},d(n){n&&G(e),I(i)}}}function W(t){let e,l,i,s,n,r,o,m,p,c,f,h,v;l=new Ge({}),l.$on("clear",t[19]);let a=t[9][t[6]][1]&&X(t),b=t[9],d=[];for(let u=0;u<b.length;u+=1)d[u]=Z(K(t,b,u));return{c(){e=y("div"),R(l.$$.fragment),i=D(),s=y("img"),m=D(),a&&a.c(),p=D(),c=y("div");for(let u=0;u<d.length;u+=1)d[u].c();g(s,"class","w-full object-contain h-full"),L(s.src,n=t[9][t[6]][0])||g(s,"src",n),g(s,"alt",r=t[9][t[6]][1]||""),g(s,"title",o=t[9][t[6]][1]||null),F(s,"height","calc(100% - "+(t[9][t[6]][1]?"80px":"60px")+")"),g(c,"class","absolute h-[60px] overflow-x-scroll scroll-hide w-full bottom-0 flex gap-1.5 items-center py-2 text-sm px-3 justify-center"),g(e,"class","absolute group inset-0 z-10 flex flex-col bg-white/90 dark:bg-gray-900 backdrop-blur h-full"),B(e,"min-h-[350px]",t[5].height!=="auto"),B(e,"max-h-[55vh]",t[5].height!=="auto"),B(e,"xl:min-h-[450px]",t[5].height!=="auto")},m(u,w){C(u,e,w),H(l,e,null),z(e,i),z(e,s),z(e,m),a&&a.m(e,null),z(e,p),z(e,c);for(let k=0;k<d.length;k+=1)d[k].m(c,null);t[23](c),f=!0,h||(v=[N(s,"click",t[20]),N(e,"keydown",t[15])],h=!0)},p(u,w){if((!f||w[0]&576&&!L(s.src,n=u[9][u[6]][0]))&&g(s,"src",n),(!f||w[0]&576&&r!==(r=u[9][u[6]][1]||""))&&g(s,"alt",r),(!f||w[0]&576&&o!==(o=u[9][u[6]][1]||null))&&g(s,"title",o),(!f||w[0]&576)&&F(s,"height","calc(100% - "+(u[9][u[6]][1]?"80px":"60px")+")"),u[9][u[6]][1]?a?a.p(u,w):(a=X(u),a.c(),a.m(e,p)):a&&(a.d(1),a=null),w[0]&1600){b=u[9];let k;for(k=0;k<b.length;k+=1){const S=K(u,b,k);d[k]?d[k].p(S,w):(d[k]=Z(S),d[k].c(),d[k].m(c,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=b.length}w[0]&32&&B(e,"min-h-[350px]",u[5].height!=="auto"),w[0]&32&&B(e,"max-h-[55vh]",u[5].height!=="auto"),w[0]&32&&B(e,"xl:min-h-[450px]",u[5].height!=="auto")},i(u){f||(j(l.$$.fragment,u),f=!0)},o(u){A(l.$$.fragment,u),f=!1},d(u){u&&G(e),I(l),a&&a.d(),ne(d,u),t[23](null),h=!1,ze(v)}}}function X(t){let e,l,i=t[9][t[6]][1]+"",s;return{c(){e=y("div"),l=y("div"),s=le(i),g(l,"class","dark:text-gray-200 font-semibold px-3 py-1 max-w-full truncate"),g(e,"class","bottom-[50px] absolute z-[5] flex justify-center w-full")},m(n,r){C(n,e,r),z(e,l),z(l,s)},p(n,r){r[0]&576&&i!==(i=n[9][n[6]][1]+"")&&te(s,i)},d(n){n&&G(e)}}}function Z(t){let e,l,i,s,n,r,o,m=t[31],p,c;const f=()=>t[21](e,m),h=()=>t[21](null,m);function v(){return t[22](t[31])}return{c(){e=y("button"),l=y("img"),r=D(),g(l,"class","h-full w-full overflow-hidden object-contain"),L(l.src,i=t[28][0])||g(l,"src",i),g(l,"title",s=t[28][1]||null),g(l,"alt",n=t[28][1]||null),g(e,"class",o="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[6]===t[31]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")},m(a,b){C(a,e,b),z(e,l),z(e,r),f(),p||(c=N(e,"click",v),p=!0)},p(a,b){t=a,b[0]&512&&!L(l.src,i=t[28][0])&&g(l,"src",i),b[0]&512&&s!==(s=t[28][1]||null)&&g(l,"title",s),b[0]&512&&n!==(n=t[28][1]||null)&&g(l,"alt",n),b[0]&64&&o!==(o="gallery-item !flex-none !h-9 !w-9 transition-all duration-75 "+(t[6]===t[31]?"!ring-2 !ring-orange-500 hover:!ring-orange-500":"scale-90 transform")+" svelte-1g9btlg")&&g(e,"class",o),m!==t[31]&&(h(),m=t[31],f())},d(a){a&&G(e),h(),p=!1,c()}}}function He(t){let e,l,i=t[9],s=[];for(let n=0;n<i.length;n+=1)s[n]=x(J(t,i,n));return{c(){e=y("div");for(let n=0;n<s.length;n+=1)s[n].c();g(e,"class",l="grid gap-2 "+t[12]+" svelte-1g9btlg"),B(e,"pt-6",t[1])},m(n,r){C(n,e,r);for(let o=0;o<s.length;o+=1)s[o].m(e,null)},p(n,r){if(r[0]&8768){i=n[9];let o;for(o=0;o<i.length;o+=1){const m=J(n,i,o);s[o]?s[o].p(m,r):(s[o]=x(m),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}r[0]&4096&&l!==(l="grid gap-2 "+n[12]+" svelte-1g9btlg")&&g(e,"class",l),r[0]&4098&&B(e,"pt-6",n[1])},i:E,o:E,d(n){n&&G(e),ne(s,n)}}}function Ie(t){let e,l,i,s;return i=new U({}),{c(){e=y("div"),l=y("div"),R(i.$$.fragment),g(l,"class","h-5 dark:text-white opacity-50"),g(e,"class","h-full min-h-[15rem] flex justify-center items-center")},m(n,r){C(n,e,r),z(e,l),H(i,l,null),s=!0},p:E,i(n){s||(j(i.$$.fragment,n),s=!0)},o(n){A(i.$$.fragment,n),s=!1},d(n){n&&G(e),I(i)}}}function $(t){let e,l,i=t[29]+"",s;return{c(){e=y("div"),l=y("div"),s=le(i),g(l,"class","bg-gray-50 dark:bg-gray-700 dark:text-gray-200 text-xs border-t border-l dark:border-gray-600 font-semibold px-3 py-1 rounded-tl-lg group-hover:opacity-50 max-w-full truncate"),g(e,"class","bottom-0 absolute z-[5] flex justify-end w-full")},m(n,r){C(n,e,r),z(e,l),z(l,s)},p(n,r){r[0]&512&&i!==(i=n[29]+"")&&te(s,i)},d(n){n&&G(e)}}}function x(t){let e,l,i,s,n,r,o,m=t[29]&&$(t);function p(){return t[24](t[31])}return{c(){e=y("button"),l=y("img"),s=D(),m&&m.c(),n=D(),g(l,"alt",""),g(l,"class","h-full w-full overflow-hidden object-contain"),L(l.src,i=t[28])||g(l,"src",i),g(e,"class","gallery-item group svelte-1g9btlg")},m(c,f){C(c,e,f),z(e,l),z(e,s),m&&m.m(e,null),z(e,n),r||(o=N(e,"click",p),r=!0)},p(c,f){t=c,f[0]&512&&!L(l.src,i=t[28])&&g(l,"src",i),t[29]?m?m.p(t,f):(m=$(t),m.c(),m.m(e,n)):m&&(m.d(1),m=null)},d(c){c&&G(e),m&&m.d(),r=!1,o()}}}function Ne(t){let e,l,i,s,n,r,o;const m=[t[0]];let p={};for(let a=0;a<m.length;a+=1)p=pe(p,m[a]);e=new ke({props:p});let c=t[1]&&O(t);const f=[Re,Le],h=[];function v(a,b){return a[9]===null?0:1}return s=v(t),n=h[s]=f[s](t),{c(){R(e.$$.fragment),l=D(),c&&c.c(),i=D(),n.c(),r=ve()},m(a,b){H(e,a,b),C(a,l,b),c&&c.m(a,b),C(a,i,b),h[s].m(a,b),C(a,r,b),o=!0},p(a,b){const d=b[0]&1?we(m,[ye(a[0])]):{};e.$set(d),a[1]?c?(c.p(a,b),b[0]&2&&j(c,1)):(c=O(a),c.c(),j(c,1),c.m(i.parentNode,i)):c&&(q(),A(c,1,1,()=>{c=null}),M());let u=s;s=v(a),s===u?h[s].p(a,b):(q(),A(h[u],1,1,()=>{h[u]=null}),M(),n=h[s],n?n.p(a,b):(n=h[s]=f[s](a),n.c()),j(n,1),n.m(r.parentNode,r))},i(a){o||(j(e.$$.fragment,a),j(c),j(n),o=!0)},o(a){A(e.$$.fragment,a),A(c),A(n),o=!1},d(a){I(e,a),a&&G(l),c&&c.d(a),a&&G(i),h[s].d(a),a&&G(r)}}}function Se(t){let e,l,i,s;return ee(t[18]),e=new Ae({props:{visible:t[4],variant:"solid",color:"grey",padding:!1,elem_id:t[3],disable:typeof t[5].container=="boolean"&&!t[5].container,$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){R(e.$$.fragment)},m(n,r){H(e,n,r),l=!0,i||(s=N(window,"resize",t[18]),i=!0)},p(n,r){const o={};r[0]&16&&(o.visible=n[4]),r[0]&8&&(o.elem_id=n[3]),r[0]&32&&(o.disable=typeof n[5].container=="boolean"&&!n[5].container),r[0]&32487|r[1]&4&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){l||(j(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){I(e,n),i=!1,s()}}}function Te(t,e,l){let i,s,n,r,o,{loading_status:m}=e,{show_label:p}=e,{label:c}=e,{elem_id:f=""}=e,{visible:h=!0}=e,{value:v=null}=e,{style:a={}}=e,b=null,d=null;function u(_){switch(_.code){case"Escape":_.preventDefault(),l(6,d=null);break;case"ArrowLeft":_.preventDefault(),l(6,d=s);break;case"ArrowRight":_.preventDefault(),l(6,d=n);break}}let w=[],k;async function S(_){if(typeof _!="number")return;await je(),w[_].focus();const{left:Q,width:_e}=k.getBoundingClientRect(),{left:me,width:ge}=w[_].getBoundingClientRect(),V=me-Q+ge/2-_e/2+k.scrollLeft;k.scrollTo({left:V<0?0:V,behavior:"smooth"})}let T=0,P=0;function ie(){l(8,P=window.innerHeight)}const se=()=>l(6,d=null),oe=()=>l(6,d=n);function ae(_,Q){Y[_?"unshift":"push"](()=>{w[Q]=_,l(10,w)})}const re=_=>l(6,d=_);function fe(_){Y[_?"unshift":"push"](()=>{k=_,l(11,k)})}const ue=_=>l(6,d=r?_:d);function ce(){T=this.clientHeight,l(7,T)}return t.$$set=_=>{"loading_status"in _&&l(0,m=_.loading_status),"show_label"in _&&l(1,p=_.show_label),"label"in _&&l(2,c=_.label),"elem_id"in _&&l(3,f=_.elem_id),"visible"in _&&l(4,h=_.visible),"value"in _&&l(16,v=_.value),"style"in _&&l(5,a=_.style)},t.$$.update=()=>{t.$$.dirty[0]&65536&&l(9,i=v===null?null:v.map(_=>Array.isArray(_)?_:[_,null])),t.$$.dirty[0]&196608&&b!==v&&(l(6,d=null),l(17,b=v)),t.$$.dirty[0]&576&&(s=((d??0)+(i?.length??0)-1)%(i?.length??0)),t.$$.dirty[0]&576&&l(14,n=((d??0)+1)%(i?.length??0)),t.$$.dirty[0]&64&&S(d),t.$$.dirty[0]&384&&l(13,r=P>=T),t.$$.dirty[0]&32&&l(12,{classes:o}=De(a,["grid"]),o)},[m,p,c,f,h,a,d,T,P,i,w,k,o,r,n,u,v,b,ie,se,oe,ae,re,fe,ue,ce]}class qe extends he{constructor(e){super(),be(this,e,Te,Se,de,{loading_status:0,show_label:1,label:2,elem_id:3,visible:4,value:16,style:5},null,[-1,-1])}}var Fe=qe;const Je=["static"];export{Fe as Component,Je as modes};
