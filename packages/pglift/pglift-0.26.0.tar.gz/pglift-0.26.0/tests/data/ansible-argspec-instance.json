{
  "auth_host": {
    "choices": [
      "trust",
      "reject",
      "md5",
      "password",
      "scram-sha-256",
      "gss",
      "sspi",
      "ident",
      "pam",
      "ldap",
      "radius",
      "cert"
    ],
    "description": [
      "Authentication method for local TCP/IP connections"
    ]
  },
  "auth_local": {
    "choices": [
      "trust",
      "reject",
      "md5",
      "password",
      "scram-sha-256",
      "gss",
      "sspi",
      "ident",
      "peer",
      "pam",
      "ldap",
      "radius",
      "cert"
    ],
    "description": [
      "Authentication method for local-socket connections"
    ]
  },
  "configuration": {
    "default": {},
    "description": [
      "Settings for the PostgreSQL instance"
    ],
    "type": "dict"
  },
  "data_checksums": {
    "description": [
      "Enable or disable data checksums",
      "If unspecified, fall back to site settings choice"
    ],
    "type": "bool"
  },
  "databases": {
    "description": [
      "Databases"
    ],
    "elements": "dict",
    "options": {
      "extensions": {
        "description": [
          "List of extensions to create in the database"
        ],
        "elements": "str",
        "type": "list"
      },
      "name": {
        "description": [
          "Database name"
        ],
        "required": true,
        "type": "str"
      },
      "owner": {
        "description": [
          "The role name of the user who will own the database"
        ],
        "type": "str"
      },
      "settings": {
        "description": [
          "Session defaults for run-time configuration variables for the database",
          "Upon update, an empty (dict) value would reset all settings"
        ],
        "required": false,
        "type": "dict"
      },
      "state": {
        "choices": [
          "present",
          "absent"
        ],
        "default": "present",
        "description": [
          "Database state"
        ]
      }
    },
    "type": "list"
  },
  "encoding": {
    "description": [
      "Character encoding of the PostgreSQL instance"
    ],
    "type": "str"
  },
  "extensions": {
    "description": [
      "List of extensions to install in the instance"
    ],
    "elements": "str",
    "type": "list"
  },
  "locale": {
    "description": [
      "Default locale"
    ],
    "type": "str"
  },
  "name": {
    "description": [
      "Instance name"
    ],
    "required": true,
    "type": "str"
  },
  "pgbackrest_password": {
    "description": [
      "Password of PostgreSQL role for pgBackRest"
    ],
    "no_log": true,
    "type": "str"
  },
  "pgbackrest_restore_stanza": {
    "description": [
      "pgBackRest stanza of the primary instance to restore from"
    ],
    "type": "str"
  },
  "port": {
    "default": 5432,
    "description": [
      "TCP port the postgresql instance will be listening to",
      "If unspecified, default to 5432 unless a 'port' setting is found in 'configuration'"
    ],
    "type": "int"
  },
  "powa_password": {
    "description": [
      "Password of PostgreSQL role for PoWA"
    ],
    "no_log": true,
    "type": "str"
  },
  "prometheus_password": {
    "description": [
      "Password of PostgreSQL role for Prometheus postgres_exporter"
    ],
    "no_log": true,
    "type": "str"
  },
  "prometheus_port": {
    "description": [
      "TCP port for the web interface and telemetry of Prometheus"
    ],
    "type": "int"
  },
  "replrole_password": {
    "description": [
      "Replication role password"
    ],
    "no_log": true,
    "type": "str"
  },
  "restart_on_changes": {
    "default": false,
    "description": [
      "Whether or not to automatically restart the instance to account for configuration changes"
    ],
    "type": "bool"
  },
  "roles": {
    "description": [
      "Roles"
    ],
    "elements": "dict",
    "options": {
      "connection_limit": {
        "description": [
          "How many concurrent connections the role can make"
        ],
        "type": "int"
      },
      "in_roles": {
        "description": [
          "List of roles to which the new role will be added as a new member"
        ],
        "elements": "str",
        "type": "list"
      },
      "inherit": {
        "default": true,
        "description": [
          "Let the role inherit the privileges of the roles it is a member of"
        ],
        "type": "bool"
      },
      "login": {
        "default": false,
        "description": [
          "Allow the role to log in"
        ],
        "type": "bool"
      },
      "name": {
        "description": [
          "Role name"
        ],
        "required": true,
        "type": "str"
      },
      "password": {
        "description": [
          "Role password"
        ],
        "no_log": true,
        "type": "str"
      },
      "pgpass": {
        "default": false,
        "description": [
          "Add an entry in password file for this role"
        ],
        "type": "bool"
      },
      "replication": {
        "default": false,
        "description": [
          "Replication role"
        ],
        "type": "bool"
      },
      "state": {
        "choices": [
          "present",
          "absent"
        ],
        "default": "present",
        "description": [
          "Role state"
        ]
      },
      "superuser": {
        "default": false,
        "description": [
          "Superuser role"
        ],
        "type": "bool"
      },
      "validity": {
        "description": [
          "Sets a date and time after which the role's password is no longer valid"
        ],
        "type": "str"
      }
    },
    "type": "list"
  },
  "standby_for": {
    "description": [
      "DSN of primary for streaming replication"
    ],
    "type": "str"
  },
  "standby_password": {
    "description": [
      "Password for the replication user"
    ],
    "no_log": true,
    "type": "str"
  },
  "standby_slot": {
    "description": [
      "Replication slot name",
      "Must exist on primary"
    ],
    "type": "str"
  },
  "standby_status": {
    "choices": [
      "demoted",
      "promoted"
    ],
    "description": [
      "Instance standby state"
    ]
  },
  "state": {
    "choices": [
      "stopped",
      "started",
      "absent",
      "restarted"
    ],
    "default": "started",
    "description": [
      "Runtime state"
    ]
  },
  "surole_password": {
    "description": [
      "Super-user role password"
    ],
    "no_log": true,
    "type": "str"
  },
  "temboard_password": {
    "description": [
      "Password of PostgreSQL role for temboard agent"
    ],
    "no_log": true,
    "type": "str"
  },
  "temboard_port": {
    "description": [
      "TCP port for the temboard-agent API"
    ],
    "type": "int"
  },
  "version": {
    "choices": [
      "14",
      "13",
      "12",
      "11"
    ],
    "description": [
      "PostgreSQL version"
    ]
  }
}
