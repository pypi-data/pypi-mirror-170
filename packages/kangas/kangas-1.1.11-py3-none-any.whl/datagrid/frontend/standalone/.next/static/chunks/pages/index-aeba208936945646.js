(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{7011:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1525)}])},1525:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return o},__next_rsc__:function(){return i},default:function(){return r}}),Promise.resolve().then(t.bind(t,3340)),Promise.resolve().then(t.bind(t,4717)),Promise.resolve().then(t.t.bind(t,5675,23)),Promise.resolve().then(t.bind(t,3531)),Promise.resolve().then(t.bind(t,7500)),Promise.resolve().then(t.bind(t,5061)),Promise.resolve().then(t.bind(t,8087)),Promise.resolve().then(t.bind(t,4731)),Promise.resolve().then(t.bind(t,7926)),Promise.resolve().then(t.bind(t,1918)),Promise.resolve().then(t.bind(t,7432)),Promise.resolve().then(t.bind(t,1925)),Promise.resolve().then(t.bind(t,4661)),Promise.resolve().then(t.bind(t,7259)),Promise.resolve().then(t.bind(t,9025)),Promise.resolve().then(t.bind(t,9933)),Promise.resolve().then(t.bind(t,6295)),Promise.resolve().then(t.bind(t,5029)),Promise.resolve().then(t.bind(t,4958)),Promise.resolve().then(t.bind(t,1437)),Promise.resolve().then(t.bind(t,1830)),Promise.resolve().then(t.bind(t,1629)),Promise.resolve().then(t.bind(t,4980)),Promise.resolve().then(t.bind(t,3682));const i={server:!1,__webpack_require__:t};function r(){}const o=!0},4731:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(9816),o=t(6218);n.default=function(e){return e.sign?(0,i.jsx)(r.Z,{}):(0,i.jsx)(o.Z,{})}},1925:function(e,n,t){"use strict";t.r(n);var i=t(7568),r=t(4051),o=t.n(r),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1663),d=t(3682),h=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(0,c.useState)(null),r=t[0],l=t[1],a=(0,c.useState)(null),v=a[0],f=(a[1],(0,c.useContext)(d.ConfigContext)),m=((0,c.useRef)(Math.random()),(0,c.useCallback)((0,i.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.apiUrl,"category"),{body:JSON.stringify(n),method:"post"});case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,l(i);case 7:case"end":return e.stop()}}),e)}))),[n]));(0,c.useEffect)((function(){m()}),[m]);var x=(0,c.useMemo)((function(){if(null===r||void 0===r?void 0:r.values)return Object.keys(r.values).sort().reduce((function(e,n){return e[n]=r.values[n],e}),{})}),[r]),j=(0,c.useMemo)((function(){if(x)return[{type:"bar",orientation:"h",x:Object.values(x),y:Object.keys(x),text:Object.keys(x).map((function(e){return"".concat(r.column,": ").concat(e," ").concat(r.message||"")})),marker:{color:Object.keys(x).map(u.Lq)}}]}),[x]),p=(0,c.useMemo)((function(){return{paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0,type:"category"}}}),[v]);return"verbatim"===(null===r||void 0===r?void 0:r.type)?(0,s.jsx)("div",{className:"cell-verbatim",children:r.value}):(0,s.jsx)(h,{style:{height:"100%",width:"100%",maxHeight:"110px"},data:j,layout:p,config:{displayModeBar:!1}})}},4661:function(e,n,t){"use strict";t.r(n);var i=t(7568),r=t(4051),o=t.n(r),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1663),d=t(3682),h=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(0,c.useContext)(d.ConfigContext),r=(0,c.useState)(null),l=r[0],a=r[1],v=(0,c.useState)(null),f=(v[0],v[1]),m=((0,c.useRef)(Math.random()),(0,c.useCallback)((0,i.Z)(o().mark((function e(){var i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.apiUrl,"category"),{body:JSON.stringify(n),method:"post"});case 2:return i=e.sent,e.next=5,i.json();case 5:r=e.sent,a(r);case 7:case"end":return e.stop()}}),e)}))),[n]));(0,c.useEffect)((function(){m()}),[m]),(0,c.useLayoutEffect)((function(){var e=window.visualViewport;(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&f({height:e.height,width:e.width})}),[]);var x=(0,c.useMemo)((function(){if(null===l||void 0===l?void 0:l.values)return Object.keys(l.values).sort().reduce((function(e,n){return e[n]=l.values[n],e}),{})}),[l]),j=(0,c.useMemo)((function(){if(x)return[{type:"bar",orientation:"h",x:Object.values(x),y:Object.keys(x),text:Object.keys(x).map((function(e){return"".concat(l.column,": ").concat(e," ").concat(l.message||"")})),marker:{color:Object.keys(x).map(u.Lq)}}]}),[x]),p=(0,c.useMemo)((function(){return{autosize:!0,title:"".concat(null===n||void 0===n?void 0:n.columnName),font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{}}}),[n]);return"verbatim"===(null===l||void 0===l?void 0:l.type)?(0,s.jsx)("div",{className:"cell-verbatim-expanded",children:l.value}):(0,s.jsx)("div",{style:{minWidth:"500px"},children:(0,s.jsx)(h,{style:{height:"100%",width:"100%"},data:j,layout:p,config:{displayModeBar:!1}})})}},3682:function(e,n,t){"use strict";t.r(n),t.d(n,{ConfigContext:function(){return r}});var i=t(5893),r=(0,t(7294).createContext)({apiUrl:null});n.default=function(e){var n=e.apiUrl,t=e.children;return(0,i.jsx)(r.Provider,{value:{apiUrl:n},children:t})}},8087:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(5152),o=t.n(r),s=(t(7294),o()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1}));n.default=function(e){var n=e.chartData,t=e.layout;return(0,i.jsx)(s,{data:n,layout:t,config:{displayModeBar:!1}})}},7259:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(4980);n.default=function(e){var n=e.children;return(0,i.jsx)("div",{className:"expand-overlay",children:(0,i.jsx)(r.default,{children:n})})}},7926:function(e,n,t){"use strict";t.r(n);var i=t(7568),r=t(4051),o=t.n(r),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1763),d=t(1663),h=t(3682),v=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(e.dgid,(0,c.useState)(null)),r=t[0],l=t[1],a=(0,c.useContext)(h.ConfigContext),f=(0,c.useCallback)((0,i.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a.apiUrl,"histogram"),{body:JSON.stringify(n),method:"post"});case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,l(i);case 7:case"end":return e.stop()}}),e)}))),[n]);(0,c.useEffect)((function(){f()}),[f]);var m=(0,c.useMemo)((function(){var e;return r?[{type:"bar",x:"DATETIME"===r.columnType?r.labels.map((function(e){return(0,u.Z)(e,"DATETIME")})):r.labels,y:r.bins,text:null===r||void 0===r||null===(e=r.labels)||void 0===e?void 0:e.map((function(e){return"".concat(r.column,": ").concat((0,u.Z)(e,r.columnType)," ").concat(r.message||"")})),marker:{color:(0,d.Lq)(r.column)}}]:null}),[r]),x=(0,c.useMemo)((function(){return{paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)",autosize:!0,bargap:.1,margin:{l:0,r:0,b:0,t:0,pad:0},showlegend:!1,xaxis:{visible:!0,showticklabels:!0},yaxis:{visible:!0,showticklabels:!0}}}),[]),j=(0,c.useMemo)((function(){return{displayModeBar:!1}}));return"verbatim"===(null===r||void 0===r?void 0:r.type)?(0,s.jsx)("div",{className:"cell-verbatim",children:r.value}):(0,s.jsx)(v,{style:{height:"100%",width:"100%",maxHeight:"110px"},data:m,layout:x,config:j})}},7432:function(e,n,t){"use strict";t.r(n);var i=t(7568),r=t(4051),o=t.n(r),s=t(5893),l=t(5152),a=t.n(l),c=t(7294),u=t(1763),d=t(2825),h=t(1663),v=t(3682),f=a()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(e){var n=e.value,t=(e.dgid,(0,c.useState)(null)),r=t[0],l=t[1],a=(0,c.useContext)(v.ConfigContext),m=(0,c.useCallback)((0,i.Z)(o().mark((function e(){var t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a.apiUrl,"histogram"),{body:JSON.stringify(n),method:"post"});case 2:return t=e.sent,e.next=5,t.json();case 5:i=e.sent,l(i);case 7:case"end":return e.stop()}}),e)}))),[n]);(0,c.useEffect)((function(){m()}),[m]);var x=(0,c.useMemo)((function(){var e;return r?[{type:"bar",x:"DATETIME"===r.columnType?r.labels.map((function(e){return(0,u.Z)(e,"DATETIME")})):r.labels,y:r.bins,text:null===r||void 0===r||null===(e=r.labels)||void 0===e?void 0:e.map((function(e){return"".concat(r.column,": ").concat((0,u.Z)(e,r.columnType)," ").concat(r.message||"")})),marker:{color:(0,h.Lq)(r.column)}}]:null}),[r]),j=(0,c.useMemo)((function(){return(null===r||void 0===r?void 0:r.statistics)?(e=r.statistics)?(0,s.jsx)("div",{style:{margin:"auto",marginLeft:"inherit"},children:Object.keys(e).map((function(n,t){return(0,s.jsxs)("ul",{style:{paddingLeft:"0"},children:[(0,s.jsx)("b",{children:n})," :"," ",(0,d.Z)(e[n],3).toLocaleString(a.locale)]})}))}):(0,s.jsx)("div",{}):(0,s.jsx)("div",{});var e}),[r]),p=(0,c.useMemo)((function(){return{autosize:!0,title:"".concat(null===r||void 0===r?void 0:r.column),font:{family:"Roboto",size:22,color:"#191A1C"},xaxis:{font:{size:13,color:"#3D4355"}},yaxis:{font:{size:13,color:"#3D4355"}}}}),[r]),g=(0,c.useMemo)((function(){return{displayModeBar:!1}}));return"verbatim"===(null===r||void 0===r?void 0:r.type)?(0,s.jsx)("div",{className:"cell-verbatim-expanded",children:r.value}):(0,s.jsxs)("div",{style:{minWidth:"600px",display:"flex"},children:[(0,s.jsx)(f,{style:{height:"100%",width:"75%"},data:x,layout:p,config:g}),j]})}},3531:function(e,n,t){"use strict";t.r(n);var i=t(9534),r=t(828),o=t(9815),s=t(5893),l=(t(5152),t(7294)),a=t(1663),c=t(3682),u=t(5061);var d=function(e){var n=e.label,t=e.children,i=(0,l.useState)(!1),r=i[0],o=i[1],a=(0,l.useCallback)((function(){o(!r)}),[r]);return(0,s.jsxs)("div",{className:"accordion",children:[(0,s.jsxs)("div",{className:"accordion-label",onClick:a,children:[(0,s.jsx)("div",{className:"arrow"}),n]}),(0,s.jsx)("div",{className:"accordion-content ".concat(r?"active":""),children:t})]})},h=function(e){var n=e.url,t=e.drawImage,i=e.metadata,r=(0,l.useRef)(),o=(0,l.useRef)(),a=(0,l.useCallback)((function(){r&&o&&t(r,o,i)}),[t]);return(0,l.useEffect)((function(){a()}),[a]),(0,s.jsxs)("div",{className:"canvas-container",children:[(0,s.jsx)("canvas",{ref:r,className:"image-canvas"}),(0,s.jsx)("img",{ref:o,src:n,crossOrigin:"Anonymous",style:{display:"none"},onLoad:a})]})};n.default=function(e){var n=e.url,t=e.dgid,v=e.assetId,f=(0,l.useState)(),m=f[0],x=(f[1],(0,l.useState)(1)),j=x[0],p=x[1],g=(0,l.useState)(1),b=g[0],y=g[1],N=(0,l.useState)(!0),w=N[0],C=N[1],k=(0,l.useState)(!1),S=k[0],Z=k[1],P=(0,l.useState)(!1),M=P[0],O=P[1],R=(0,l.useState)(),E=R[0],I=R[1],T=(0,l.useState)(),_=T[0],D=T[1],q=(0,l.useState)(),A=q[0],z=q[1],B=(0,l.useState)(new Set),F=B[0],L=B[1],U=(0,l.useState)(1),G=U[0],Y=U[1],V=(0,l.useContext)(c.ConfigContext);(0,l.useEffect)((function(){fetch("/api/metadata",{body:JSON.stringify({assetId:v,dgid:t,url:"".concat(V.apiUrl,"asset-metadata")}),method:"POST"}).then((function(e){return e.json()})).then((function(e){return z(JSON.parse(e))}))}),[]);var H=(0,l.useCallback)((function(e){C(!e.target.checked)}),[]),J=(0,l.useCallback)((function(e){Z(e.target.checked)}),[]),W=((0,l.useCallback)((function(e){O(e.target.checked)}),[]),(0,l.useCallback)((function(e){p(e.target.value/100)}),[]),(0,l.useCallback)((function(e){y(e.target.value/100)}),[]),(0,l.useCallback)((function(e){Y(e.target.value)}),[])),X=(0,l.useCallback)((function(e){D(e.target.value)}),[]),Q=(0,l.useCallback)((function(e,n,t){var i=e.current.getContext("2d"),o=function(e,n,t,i){return t>i?t<e?Math.max(t/e,e/t):Math.min(t/e,e/t):i<n?Math.max(i/n,n/i):Math.min(i/n,n/i)}(400*G,400*G,n.current.naturalWidth,n.current.naturalHeight);if(e.current.width=n.current.naturalWidth*o,e.current.height=n.current.naturalHeight*o,i.clearRect(0,0,e.current.width,e.current.height),i.globalAlpha=j,m&&(i.drawImage(m,0,0,n.current.width*o,n.current.height*o),i.globalCompositeOperation="source-in"),i.imageSmoothingEnabled=w,i.drawImage(n.current,0,0,n.current.width*o,n.current.height*o),S){for(var s=i.getImageData(0,0,e.current.width,e.current.height),l=s.data,c=0;c<l.length;c+=4){var u=(l[c]+l[c+1]+l[c+2])/3;l[c]=u,l[c+1]=u,l[c+2]=u}i.putImageData(s,0,0)}if(M){for(var d=i.getImageData(0,0,e.current.width,e.current.height),h=d.data,v=0;v<h.length;v+=4)h[v]=255-h[v],h[v+1]=255-h[v+1],h[v+2]=255-h[v+2];i.putImageData(d,0,0)}if(null===t||void 0===t?void 0:t.overlays){i.globalAlpha=b;for(var f={},x=0;x<(null===t||void 0===t?void 0:t.overlays.length);x++){var p;if(null===(p=t.overlays[x])||void 0===p?void 0:p.score){var g,y=null===(g=t.overlays[x])||void 0===g?void 0:g.score;f.hasOwnProperty("min")||f.hasOwnProperty("max")?(null===f||void 0===f?void 0:f.min)>y?f.min=y:(null===f||void 0===f?void 0:f.max)<y&&(f.max=y):(f.min=y,f.max=y)}if("regions"===(null===t||void 0===t?void 0:t.overlays[x].type)){var N=null===t||void 0===t?void 0:t.overlays[x].data;if(!F.has(null===t||void 0===t?void 0:t.overlays[x].label))for(var C=0;C<N.length;C++){var k=N[C];i.fillStyle=(0,a.Lq)(null===t||void 0===t?void 0:t.overlays[x].label),i.beginPath(),i.moveTo(k[0]*o,k[1]*o);for(var Z=2;Z<k.length;Z+=2)i.lineTo(k[Z]*o,k[Z+1]*o);i.closePath(),i.fill()}}else if("boxes"===(null===t||void 0===t?void 0:t.overlays[x].type)){var P=null===t||void 0===t?void 0:t.overlays[x].data;if(!F.has(null===t||void 0===t?void 0:t.overlays[x].label))for(var O=0;O<P.length;O++){var R=(0,r.Z)(P[O],2),E=(0,r.Z)(R[0],2),T=E[0],_=E[1],D=(0,r.Z)(R[1],2),q=D[0],A=D[1];i.strokeStyle=(0,a.Lq)(null===t||void 0===t?void 0:t.overlays[x].label),i.lineWidth=3,i.beginPath(),i.moveTo(T*o,_*o),i.lineTo(q*o,_*o),i.lineTo(q*o,A*o),i.lineTo(T*o,A*o),i.closePath(),i.stroke()}}else null===t||void 0===t||t.overlays[x].type}f.hasOwnProperty("min")&&f.hasOwnProperty("max")&&I(f)}}),[A,m,S,M,G,F,w]),K=(0,l.useCallback)((function(e){var n=new Set(F);n.has(e)&&n.delete(e),L(n)}),[F]),$=(0,l.useCallback)((function(e){var n=new Set(F);n.has(e)||n.add(e),L(n)}),[F]),ee=(0,l.useMemo)((function(){return(null===A||void 0===A?void 0:A.labels)?Array.isArray(null===A||void 0===A?void 0:A.labels)?null===A||void 0===A?void 0:A.labels.sort():Object.keys(null===A||void 0===A?void 0:A.labels).sort():null}),[A]),ne=(0,l.useMemo)((function(){return(null===A||void 0===A?void 0:A.name)||(null===A||void 0===A?void 0:A.filename)||v}),[A,v]),te=(0,l.useMemo)((function(){if(!A)return null;if(!(null===A||void 0===A?void 0:A.overlays))return A;A.overlays;return(0,i.Z)(A,["overlays"])}),[A]);return(0,l.useEffect)((function(){if((null===A||void 0===A?void 0:A.overlays)&&_){var e=new Set(F),n=!0,t=!1,i=void 0;try{for(var r,s=(null===A||void 0===A?void 0:A.overlays)[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;(null===l||void 0===l?void 0:l.score)&&((null===l||void 0===l?void 0:l.score)<=_&&e.add(null===l||void 0===l?void 0:l.label),(null===l||void 0===l?void 0:l.score)>_&&e.has(null===l||void 0===l?void 0:l.label)&&e.delete(null===l||void 0===l?void 0:l.label))}}catch(a){t=!0,i=a}finally{try{n||null==s.return||s.return()}finally{if(t)throw i}}F.size===e.size&&(0,o.Z)(F).every((function(n){return e.has(n)}))||L(e)}}),[A,_]),(0,s.jsxs)("div",{className:"editor-container",children:[(0,s.jsxs)("div",{className:"left-column",children:[(0,s.jsxs)("div",{className:"image-controls",children:[(0,s.jsxs)("div",{className:"checkbox",children:[(0,s.jsx)("input",{type:"checkbox",className:"image-smoothing-checkbox",id:"image-smoothing",onChange:H}),(0,s.jsx)("label",{htmlFor:"image-smoothing",className:"checkbox-label",children:"Pixelated"})]}),(0,s.jsxs)("div",{className:"checkbox",children:[(0,s.jsx)("input",{type:"checkbox",className:"grayscale-checkbox",id:"grayscale",onChange:J}),(0,s.jsx)("label",{htmlFor:"grayscale",className:"checkbox-label",children:"Grayscale"})]}),(0,s.jsxs)("div",{className:"slider-container",children:[(0,s.jsx)("div",{className:"zoom-label",children:"Zoom:"}),(0,s.jsx)("input",{type:"range",min:"1",max:"5",defaultValue:"".concat(G),className:"zoom-slider",id:"zoom-slide",onChange:W,step:"0.01"})]})]}),te&&(0,s.jsx)("div",{className:"metadata-control",children:(0,s.jsx)(d,{label:"Metadata",children:(0,s.jsx)("pre",{children:(0,s.jsx)("code",{children:JSON.stringify(te,null,4)})})})}),(null===E||void 0===E?void 0:E.min)&&(null===E||void 0===E?void 0:E.max)&&(0,s.jsx)("div",{className:"score-control",children:(0,s.jsxs)("div",{className:"slider-container",children:[(0,s.jsx)("div",{className:"zoom-label",children:"Score:"}),(0,s.jsx)("input",{type:"range",min:"".concat(E.min||0),max:"".concat(E.max+.001||1),defaultValue:"0",className:"zoom-slider",id:"zoom-slide",step:"0.001",onChange:X})]})}),(0,s.jsx)("div",{className:"labels-container",children:!!ee&&ee.map((function(e){return(0,s.jsx)(u.default,{label:e,hidden:F.has(e),addLabel:K,removeLabel:$})}))})]}),(0,s.jsxs)("div",{className:"right-column",children:[(0,s.jsx)("h2",{className:"image-title",children:ne}),(0,s.jsx)(h,{url:n,drawImage:Q,metadata:A})]})]})}},5061:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(7294),o=t(1663);n.default=function(e){var n=e.label,t=e.hidden,s=e.addLabel,l=e.removeLabel,a=(0,r.useMemo)((function(){return t?"badge badge-label badge-disabled":"badge badge-label"}),[t]),c=(0,r.useMemo)((function(){return(0,o.Lq)(n)}),[n]),u=(0,r.useMemo)((function(){return(0,o.Qg)((0,o.Lq)(n))}),[n]),d=(0,r.useRef)(),h=(0,r.useCallback)((function(){s&&l&&(t?s(n):l(n))}),[t,n,s,l]);return(0,i.jsx)("div",{ref:d,className:a,style:{backgroundColor:c,color:u},onClick:h,children:"".concat(n)})}},7500:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(7294),o=(t(5152),t(5675)),s=t.n(o),l=(t(1918),t(3682)),a=(t(4717),t(7259),t(3531)),c=t(4980);n.default=function(e){var n=e.images,t=e.dgid,o=e.children,u=(0,r.useContext)(l.ConfigContext),d=(0,r.useState)({height:150,width:150}),h=d[0],v=(d[1],(0,r.useState)(20)),f=v[0],m=v[1],x=(0,r.useRef)(null),j=((0,r.useMemo)((function(){return Math.ceil(Math.max(n.values.length-f,0)/3)*h.height}),[n,h.height]),(0,r.useRef)()),p=(0,r.useRef)(),g=(0,r.useCallback)((function(e,n){e[0].isIntersecting&&m(f+100)}),[f,m]);return(0,r.useEffect)((function(){if(null===j||void 0===j?void 0:j.current){var e=new IntersectionObserver(g);return e.observe(j.current),function(){(null===j||void 0===j?void 0:j.current)&&e.unobserve(j.current)}}}),[g]),(0,i.jsxs)("div",{className:"asset-grid",ref:p,children:[o,f&&n.values.slice(0,f+1).map((function(e){return(0,i.jsx)(c.default,{toggleElement:(0,i.jsx)("div",{className:"image",style:{width:"110px",height:"55px",position:"relative"},children:(0,i.jsx)(s(),{src:"/api/image?url=".concat(encodeURIComponent("".concat(u.apiUrl,"download?assetId=").concat(e,"&dgid=").concat(t))),lazyRoot:x,layout:"fill",objectFit:"contain"})}),children:(0,i.jsx)(a.default,{url:"".concat(u.apiUrl,"download?assetId=").concat(e,"&dgid=").concat(t),metadata:"undefined"!==typeof row?row["".concat(col,"--metadata")]:null,dgid:t,assetId:e})})})),(0,i.jsx)("div",{style:{width:"100%"},ref:j})]})}},1918:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(7294);t(7625);n.default=function(e){var n=e.children,t=(0,r.useState)(),o=t[0],s=t[1],l=(0,r.useRef)(),a=((0,r.useRef)(),(0,r.useCallback)((function(e,n){var t;o||(null===(t=e[0])||void 0===t?void 0:t.isIntersecting)&&s(!0)}),[o]));return(0,r.useEffect)((function(){if(null===l||void 0===l?void 0:l.current){var e=new IntersectionObserver(a);return e.observe(l.current),function(){(null===l||void 0===l?void 0:l.current)&&e.unobserve(l.current)}}}),[]),o?(0,i.jsx)("div",{children:n}):(0,i.jsx)("div",{ref:l,children:(0,i.jsx)("span",{children:"Not Rendering"})})}},4980:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(7294),o=t(8262);n.default=function(e){var n=e.toggleElement,t=e.children,s=(0,r.useState)(!1),l=s[0],a=s[1],c=(0,r.useCallback)((function(){return a(!l)}),[l]),u=(0,r.useCallback)((function(){l||a(!0)}),[l]);return n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{onClick:u,children:n}),(0,i.jsx)(o.Z,{open:l,fullscreen:"true",onClose:c,children:t})]}):(0,i.jsx)("div",{onClick:u,style:{height:"100%",width:"100%",opacity:"0",cursor:"pointer"},children:(0,i.jsx)(o.Z,{open:l,fullscreen:"true",onClose:c,children:t})})}},4717:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(7294),o=t(7625);n.default=function(e){var n=e.callback,t=e.scrollRoot,s=e.scrollBoundary,l=e.children;(0,o.unstable_useRefreshRoot)(),(0,r.useRef)(),(0,r.useRef)();return(0,r.useEffect)((function(){var e=new IntersectionObserver(n,{root:t.current});return s.current&&e.observe(s.current),function(){}}),[scroll]),(0,i.jsx)("div",{ref:t,style:{position:"relative",overflowY:"scroll"},children:l})}},1437:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var i=t(1799),r=t(9396),o=t(9534),s=t(5893),l=t(7294),a=t(7625),c=t(7298),u=t(828),d=t(9815),h=t(3792),v=t(887),f=t(2339),m=t(5587),x=t(4285),j=function(e){var n=(0,r.Z)((0,i.Z)({},e.innerProps),{onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}}),t=(0,m.nB)({id:e.data.id}),o=t.attributes,l=t.listeners,a=t.setNodeRef,c=t.transform,u=t.transition,d={transform:x.ux.Transform.toString(c),transition:u};return(0,s.jsx)("div",(0,r.Z)((0,i.Z)({style:d,ref:a},o,l),{children:(0,s.jsx)(h.c.MultiValue,(0,r.Z)((0,i.Z)({},e),{innerProps:n}))}))},p=function(e){var n=(0,v.Zj)({id:"droppable"}),t=n.isOver,r=n.setNodeRef,o={color:t?"green":void 0};return(0,s.jsx)("div",{style:o,ref:r,children:(0,s.jsx)(h.c.MultiValueContainer,(0,i.Z)({},e))})},g=function(e){return(0,s.jsx)(h.c.MultiValueRemove,(0,r.Z)((0,i.Z)({},e),{innerProps:(0,i.Z)({onPointerDown:function(e){return e.stopPropagation()}},e.innerProps)}))},b=function(e){return(0,s.jsx)(h.c.Menu,(0,i.Z)({className:"react-select-list"},e))},y=function(e){var n=e.options,t=e.update,o=e.defaults,a=(0,u.Z)(l.useState(n),2),h=a[0],x=a[1],y=(0,l.useCallback)((function(){return t(h)}),[h]),N={valueContainer:function(e,n){return(0,r.Z)((0,i.Z)({},e),{height:"200px",overflow:"auto"})}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.LB,{modifiers:[f.F4],onDragEnd:function(e){var n=e.active,t=e.over;n&&t&&x((function(e){var i=e.findIndex((function(e){return e.id===n.id})),r=e.findIndex((function(e){return e.id===t.id}));return(0,m.Rp)(e,i,r)}))},children:(0,s.jsx)(m.Fo,{items:h,strategy:m.PG,children:(0,s.jsx)(c.ZP,{styles:N,distance:4,isMulti:!0,options:o,value:h,onChange:function(e){return x((0,d.Z)(e))},components:{MultiValue:j,MultiValueContainer:p,MultiValueRemove:g,Menu:b},closeMenuOnSelect:!1})})}),(0,s.jsx)("button",{onClick:y,children:"Save Changes"})]})},N=t(4199),w=function(e){var n=e.columns,t=e.query,u=e.defaultOptions,d=e.subtree,h=void 0===d?"":d,v=e.isMulti,f=void 0!==v&&v,m=e.subtrees,x=void 0===m?[]:m,j=(0,a.unstable_useRefreshRoot)(),p=(0,l.useState)(!1),g=(p[0],p[1],(0,l.useState)(null)),b=(g[0],g[1],(0,l.useState)(!1)),w=(b[0],b[1],(0,l.useMemo)((function(){return n.map((function(e,n){return{id:n+1,label:e,value:e}}))}),[n])),C=(0,l.useMemo)((function(){return null===u||void 0===u?void 0:u.map((function(e,n){return{id:n+1,label:e,value:e}}))}),[u]),k=(0,l.useMemo)((function(){var e=t[h]||t[x[0]];return w.find((function(n){return n.value===e}))||null}),[w,t]),S=(0,l.useCallback)((function(e){var n=e.map((function(e){return e.value}));j({query:(0,N.Z)(t,"",{select:n})})}),[t]),Z=(0,l.useCallback)((function(e){var n=e.value;if(x.length){var s=(0,i.Z)({},t),l=!0,a=!1,c=void 0;try{for(var u,d=x[Symbol.iterator]();!(l=(u=d.next()).done);l=!0){var v=u.value;s=(0,N.Z)(s,v,n)}}catch(p){a=!0,c=p}finally{try{l||null==d.return||d.return()}finally{if(a)throw c}}if(null===s||void 0===s?void 0:s.groupBy){s.limit,s.offset;var f=(0,o.Z)(s,["limit","offset"]);s=(0,r.Z)((0,i.Z)({},f),{limit:4})}else{s.limit,s.offset;var m=(0,o.Z)(s,["limit","offset"]);s=(0,r.Z)((0,i.Z)({},m),{limit:10})}j({query:s})}else j({query:(0,N.Z)(t,h,n)})}),[x,h,t]),P=(0,l.useCallback)((function(){var e=(0,i.Z)({},t);if("groupBy"===h||"groupBy"==x[0]){e.groupBy,e.sortBy;var n=(0,o.Z)(e,["groupBy","sortBy"]);e=(0,r.Z)((0,i.Z)({},n),{limit:10})}else if("sortBy"===h||"sortBy"==x[0]){e.sortBy;e=(0,o.Z)(e,["sortBy"])}j({query:e})}),[t,h,x]);return f?(0,s.jsxs)("div",{style:{minHeight:"320px",minWidth:"300px"},children:[(0,s.jsx)("div",{className:"alert",children:"You can drag and drop columns to sort them in the DataGrid"}),(0,s.jsx)(y,{options:w,update:S,defaults:C})]}):(0,s.jsxs)("div",{style:{minHeight:"320px",minWidth:"300px"},children:[(0,s.jsxs)("div",{className:"select-modal-title",children:[(0,s.jsx)("span",{children:"Select a column"}),(0,s.jsx)("span",{className:"reset-button ".concat(k?"enabled":"disabled"),onClick:P,children:"Reset to default"})]}),(0,s.jsx)("div",{className:"select-modal-body",children:(0,s.jsx)(c.ZP,{options:w,value:k,onChange:Z})})]})}},1830:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return v}});var i=t(1799),r=t(9396),o=t(5893),s=t(7625),l=t(1217),a=t(7294),c=t(4980),u=function(){return(0,o.jsxs)("div",{className:"markdown-body",children:[(0,o.jsxs)("p",{dir:"auto",children:[(0,o.jsx)("b",{children:"DataGrid filter expressions"})," use Python syntax for selecting matching rows. To use the value of a column in the expression, enclosing the column name like ",(0,o.jsx)("code",{children:'{"Column Name"}'}),". Some examples:"]}),(0,o.jsx)("p",{dir:"auto",children:'To select all of the rows that have a fitness score less than 0.1, given that you have a column named "Fitness":'}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"fitness"} < 0.1'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("p",{dir:"auto",children:'Note that the column name is case-insensitive (i.e., you can use any case of letters inside quotes). Column values can be used any where in the filter expression. For example, if you wanted to select all of the rows where column "Score 1" was greater than or equal to "Score 2", you would write:'}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"score 1"} >= {"score 2"}'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("p",{dir:"auto",children:"You can use any of Python's operators, including:"}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"<"})," - less than"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"<="})," - less than or equal"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:">"})," - greater than"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:">="})," - greater than or equal"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"=="})," - equal to"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"!="})," - not equal to"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"is"})," - is the same (e.g., ",(0,o.jsx)("code",{children:"is None"}),")"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"is not"})," - is not the same (e.g. ",(0,o.jsx)("code",{children:"is not None"}),")"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"+"})," - addition"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"-"})," - subtraction"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"*"})," - multiplication"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"/"})," - division"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"//"})," - integer division"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"**"})," - raise to a power"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"not"})," - flip the boolean value"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"in"})," - is value in a list of values"]})]}),(0,o.jsxs)("p",{dir:"auto",children:["Use ",(0,o.jsx)("code",{children:"is None"})," and ",(0,o.jsx)("code",{children:"is not None"})," for selecting rows that have null values. Otherwise, null values are ignored in most other uses."]}),(0,o.jsxs)("p",{dir:"auto",children:["You can combine comparisons using Python's ",(0,o.jsx)("code",{children:"and"})," and ",(0,o.jsx)("code",{children:"or"})," (use parentheses to force evaluation order different from Python's defaults):"]}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'(({"loss"} - {"base line"}) < 0.5) or ({"loss"} > 0.95)'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("h3",{dir:"auto",children:"JSON attribute access"}),(0,o.jsx)("p",{dir:"auto",children:"For JSON and metdata columns, you can use the dot operator to access values:"}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"Image"}.extension == "jpg"'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("p",{dir:"auto",children:"or nested values:"}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"Image"}.overlay.labels.contains("dog")'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsxs)("p",{dir:"auto",children:["See below for more information on ",(0,o.jsx)("code",{children:"contains()"})," and other string and JSON methods."]}),(0,o.jsx)("p",{dir:"auto",children:"Note that any mention of a column that contains an asset type (e.g., an image) will automatically reference its metadata."}),(0,o.jsx)("h3",{dir:"auto",children:"Python String and JSON methods"}),(0,o.jsx)("p",{dir:"auto",children:"These are mostly used with column values:"}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.contains(STRING)'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.endswith(STRING)'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.startswith(STRING)'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.strip()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.lstrip()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.rstrip()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.upper()'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'{"Column Name"}.lower()'})})]}),(0,o.jsx)("h3",{dir:"auto",children:"Python if/else expression"}),(0,o.jsx)("p",{dir:"auto",children:"You can use Python's if/else expression to return one value or another."}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'("low" if {"loss"} < 0.5 else "high") == "low"'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("h3",{dir:"auto",children:"Python Builtin Functions"}),(0,o.jsx)("p",{dir:"auto",children:"You can use any of these Python builtin functions:"}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"abs()"})," - absolute value"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"round()"})," - rounds to int"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"max(v1, v2, ...)"})," or ",(0,o.jsx)("code",{children:"max([v1, v2, ...])"})," - maximum of list of values"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"min(v1, v2, ...)"})," or ",(0,o.jsx)("code",{children:"min([v1, v2, ...])"})," - minimum of list of values"]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("code",{children:"len()"})," - length of item"]})]}),(0,o.jsx)("h3",{dir:"auto",children:"Aggregate Functions"}),(0,o.jsx)("p",{dir:"auto",children:"You can use the following aggregate functions. Note that these are more expensive to compute, as they require computing on all rows."}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'AVG({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'MAX({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'MIN({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'SUM({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'TOTAL({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'COUNT({"Column Name"})'})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:'STDEV({"Column Name"})'})})]}),(0,o.jsx)("p",{dir:"auto",children:"Examples:"}),(0,o.jsx)("p",{dir:"auto",children:"Find all rows that have a loss value less than the average:"}),(0,o.jsxs)("div",{className:"snippet-clipboard-content notranslate position-relative overflow-auto",children:[(0,o.jsx)("pre",{className:"notranslate",children:(0,o.jsx)("code",{children:'{"loss"} < AVG({"loss"})'})}),(0,o.jsx)("div",{className:"zeroclipboard-container position-absolute right-0 top-0"})]}),(0,o.jsx)("h3",{dir:"auto",children:"Python Library Functions and Values"}),(0,o.jsxs)("p",{dir:"auto",children:["Functions from Python's ",(0,o.jsx)("code",{children:"random"})," library:"]}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"random.random()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"random.randint()"})})]}),(0,o.jsx)("p",{dir:"auto",children:"Note that random values are regenerated on each call, and thus only have limited use. That means that every time the DataGrid is accessed, the values will change. This would result in bizarre results if you grouped or sorted by a random value."}),(0,o.jsxs)("p",{dir:"auto",children:["Functions and values from Python's ",(0,o.jsx)("code",{children:"math"})," library:"]}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.pi"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.sqrt()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.acos()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.acosh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.asin()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.asinh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.atan()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.atan2()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.atanh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.ceil()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.cos()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.cosh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.degrees()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.exp()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.floor()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.log()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.log10()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.log2()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.radians()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.sin()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.sinh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.tan()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.tanh()"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"math.trunc()"})})]}),(0,o.jsxs)("p",{dir:"auto",children:["Functions and values from Python's ",(0,o.jsx)("code",{children:"datetime"})," library:"]}),(0,o.jsxs)("ul",{dir:"auto",children:[(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"datetime.date(YEAR, MONTH, DAY)"})}),(0,o.jsx)("li",{children:(0,o.jsx)("code",{children:"datetime.datetime(YEAR, MONTH, DAY[, HOUR, MINUTE, SECOND])"})})]})]})},d=function(e){var n=e.callback;return(0,o.jsxs)("div",{className:"button-outline",onClick:n,children:[(0,o.jsx)("img",{src:"/filter_placeholder.png"})," ",(0,o.jsx)("span",{children:"Filter"})]})},h=function(){return(0,o.jsx)("div",{className:"button-outline",children:(0,o.jsx)("span",{children:"?"})})},v=function(e){var n=e.query,t=(0,s.unstable_useRefreshRoot)(),v=(0,a.useCallback)((function(e){var o=document.getElementById("filter");t({query:(0,r.Z)((0,i.Z)({},n),{whereExpr:null===o||void 0===o?void 0:o.value,offset:0})})}),[n]);return(0,a.useEffect)((function(){document.getElementById("filter").value=(null===n||void 0===n?void 0:n.whereExpr)||""}),[n]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,{placeholder:"Use {}<>/ to filter",id:"filter",InputProps:{endAdornment:(0,o.jsx)(d,{callback:v})}}),(0,o.jsx)(c.default,{toggleElement:(0,o.jsx)(h,{}),children:(0,o.jsx)(u,{})})]})}},6295:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(7625),o=t(4199);n.default=function(e){var n=e.query,t=e.children,s=(0,r.unstable_useRefreshRoot)();return(0,i.jsx)("select",{name:"Group",id:"group",onChange:function(e){s({query:(0,o.Z)(n,"",{groupBy:e.target.value,sortBy:e.target.value,limit:1e9,offset:0})})},children:t})}},9933:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(5152),o=t.n(r)()((function(){return Promise.all([t.e(960),t.e(660)]).then(t.bind(t,8660))}),{loadableGenerated:{webpack:function(){return[8660]}},ssr:!1});n.default=function(){return(0,i.jsx)("div",{style:{display:"none"},children:(0,i.jsx)(o,{data:[{x:[1,2,3],y:[2,6,3],type:"scatter",mode:"lines+markers",marker:{color:"red"}},{type:"bar",x:[1,2,3],y:[2,5,3]}],layout:{width:320,height:240,title:"A Fancy Plot"}})})}},5029:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return c}});var i=t(1799),r=t(9396),o=t(5893),s=t(7625),l=(t(7294),t(7298)),a={dgid:null,limit:10,offset:0},c=function(e){var n=e.query,t=e.options,c=(0,s.unstable_useRefreshRoot)(),u={menuPortal:function(e){return(0,r.Z)((0,i.Z)({},e),{zIndex:9999})},menu:function(e){return(0,r.Z)((0,i.Z)({},e),{zIndex:9999})}};return(0,o.jsx)(l.ZP,{defaultValue:t.find((function(e){return e.value.endsWith(null===n||void 0===n?void 0:n.dgid)}))||"",options:t,styles:u,onChange:function(e){c({query:(0,r.Z)((0,i.Z)({},a),{dgid:e.value})})}})}},9025:function(e,n,t){"use strict";t.r(n);var i=t(1799),r=t(9396),o=t(5893),s=t(1838),l=t(7625),a=t(7294);n.default=function(e){var n,t=e.query,c=e.pagination,u=e.total,d=(0,l.unstable_useRefreshRoot)(),h=(0,a.useCallback)((function(e){var n=(e-1)*(null===t||void 0===t?void 0:t.limit);n<0||n===(null===t||void 0===t?void 0:t.offset)||e-1>=u/(null===t||void 0===t?void 0:t.limit)||d({query:(0,r.Z)((0,i.Z)({},t),{offset:n})})}),[t]),v=(0,a.useMemo)((function(){return(null===t||void 0===t?void 0:t.offset)?Math.ceil((null===t||void 0===t?void 0:t.offset)/(null===t||void 0===t?void 0:t.limit))+1:1}),[t]),f=(0,a.useCallback)((function(){h(v+1)}),[v,h]),m=(0,a.useCallback)((function(){h(v-1)}),[v,h]),x=u.toLocaleString(s.Z.locale);if(0==u)n="No matching rows";else if(1==u)n="Showing 1 matching row";else if(c.length>1){var j=(((null===t||void 0===t?void 0:t.offset)||0)+1).toLocaleString(s.Z.locale),p=Math.min(((null===t||void 0===t?void 0:t.offset)||0)+(null===t||void 0===t?void 0:t.limit),u).toLocaleString(s.Z.locale);n=(0,o.jsxs)(o.Fragment,{children:["Showing ",(0,o.jsx)("span",{style:{fontWeight:"500"},children:"".concat(j," - ").concat(p)})," rows of ",x," \xa0\xa0|\xa0\xa0 "]})}else n="Showing all ".concat(x," matching rows");return(0,o.jsxs)("div",{className:"pages",children:[n,c.length>1&&(0,o.jsxs)(o.Fragment,{children:["Page: \xa0",(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return h(1)},children:"|<"})," \xa0",(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:m,children:"<"}),(0,o.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value||1)},value:v,style:{width:"50px",margin:"0 8px",textAlign:"center",fontSize:"12px",fontWeight:"500"}}),(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:f,children:">"})," \xa0",(0,o.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return h(Math.ceil(u/(null===t||void 0===t?void 0:t.limit)))},children:">|"})]})]})}},1629:function(e,n,t){"use strict";t.r(n);var i=t(5893),r=t(7294),o=t(9638);n.default=function(e){var n=e.toggleElement,t=e.children,s=(0,r.useState)(!1),l=s[0],a=s[1],c=(0,r.useRef)(null),u=(0,r.useCallback)((function(){c.current&&c.current.setAttribute("class","".concat(n.class," ").concat(l?"":"active")),a(!l)}),[l]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{onClick:u,ref:c,children:n}),(0,i.jsx)(o.ZP,{open:l,onClose:u,anchorEl:c.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:t})]})}},4958:function(e,n,t){"use strict";t.r(n);var i=t(1799),r=t(9396),o=t(5893),s=t(7625);n.default=function(e){var n=e.query,t=e.children,l=(0,s.unstable_useRefreshRoot)();return(0,o.jsx)("select",{name:"Sort",id:"sort",onChange:function(e){l({query:(0,r.Z)((0,i.Z)({},n),{sortBy:e.target.value,offset:0})})},children:t})}},3340:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return r}});var i=t(5893);t(7294);function r(e){var n=e.children;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"main",children:(0,i.jsx)("div",{className:"page",children:n})})})}},1838:function(e,n,t){"use strict";var i=t(3454),r={apiUrl:"http://".concat(i.env.DATAGRID_HOST,":").concat(i.env.DATAGRID_BACKEND_PORT,"/datagrid/"),defaultDecimalPrecision:5,locale:"en-US"};console.log(r.apiUrl),n.Z=r},1763:function(e,n,t){"use strict";var i=t(1438),r=t(2951),o=t(2825);function s(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0";return String(e).padStart(n,t)}var l=function(){function e(n){(0,i.Z)(this,e),this.obj=new Date(1e3*n),this.year=s(this.obj.getFullYear(),4),this.month=s(this.obj.getDate(),2),this.day=s(this.obj.getDate(),2),this.hour=s(this.obj.getHours(),2),this.minute=s(this.obj.getMinutes(),2),this.second=s(this.obj.getSeconds(),2)}return(0,r.Z)(e,[{key:"format",value:function(e){return"00"===this.hour&&"00"===this.minute&&"00"===this.second?"".concat(this.year,"-").concat(this.month,"-").concat(this.day):"".concat(this.year,"-").concat(this.month,"-").concat(this.day," ").concat(this.hour,":").concat(this.minute,":").concat(this.second)}}]),e}();n.Z=function(e,n){if(null===e)return"None";var t=e;return"DATETIME"===n?t=new l(e).format("YYYY-MM-DD HH:mm:ss"):"FLOAT"===n?t=(0,o.Z)(e).toString():"string"!==typeof e&&(t=e.toString()),t}},1663:function(e,n,t){"use strict";t.d(n,{Lq:function(){return o},Qg:function(){return s}});var i=t(9815),r=function(e){for(var n=[0,0,0],t=e,i=0;i<24;i++)n[i%3]<<=1,n[i%3]|=1&t,t>>=1;return"#".concat(n.reduce((function(e,n){return(n>15?n.toString(16):"0".concat(n.toString(16)))+e}),""))},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";if("1"===e)return"#228b22";if("0"===e)return"#ff3131";var n=(0,i.Z)(e).reduce((function(e,n){return n.charCodeAt(0)+((e<<5)-e)}),0);return r(n%1024)},s=function(e){var n=function(e){var n=e.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/);return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}(e),t=n[0],i=n[1],r=n[2];return Math.round((299*t+587*i+114*r)/1e3)>125?"black":"white"}},4199:function(e,n,t){"use strict";var i=t(1799);n.Z=function(e,n,t){return function(e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").trim();if(!t.length)return(0,i.Z)({},e,n);var r=t.match(/([^[.\]])+/g);return r.reduce((function(e,t,i){return void 0===e[t]&&(e[t]={}),i===r.length-1&&(e[t]=n),e[t]}),e),e}((0,i.Z)({},e),n,t)}},2825:function(e,n,t){"use strict";var i=t(828),r=t(1838);n.Z=function(e,n){var t=null!==n&&void 0!==n?n:r.Z.defaultDecimalPrecision;if(null===t)return e;var o=Number(e);if(isNaN(o))return e;if(Number.isInteger(o)||function(e){if(Math.floor(e)===e)return 0;var n=(0,i.Z)(e.toString().split("."),2)[1];return(void 0===n?"":n).length}(o)<=t)return o;var s=Math.pow(10,t);return Math.floor(o*s)/s}}},function(e){e.O(0,[774,961],(function(){return n=7011,e(e.s=n);var n}));var n=e.O();_N_E=n}]);