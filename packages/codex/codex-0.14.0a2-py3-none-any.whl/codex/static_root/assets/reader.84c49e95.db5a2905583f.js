import{_ as X,S as j,a as R,b as D,c as L,e as I,d as z,g as b,f as w,V as Z}from"./button.b4863304.js";import{O as J,T as Q,_ as S,a as C,b as $,U as ee,W as te,X as oe,Y as se,d as p,s as ne,Z as ae,$ as re,a0 as ie,a1 as le}from"./submit-footer.8cc090e5.js";import{m as F,h as ce,T as ue,f as _,a2 as n,b as l,a3 as d,Z as de,u as E,r as u,q as _e,n as a,g as f,d as G,R as pe,s as me,_ as he}from"./main.5420b138.js";import{_ as r,C as ge,B as fe}from"./index.3483e550.js";import{S as h,p as ve,R as ke}from"./index.e8047975.js";import{V as c,b as be,c as we}from"./VInput.3d834aae.js";import{B as N}from"./VItemGroup.767bf148.js";import{f as Se,c as m}from"./confirm-footer.7e19fa4d.js";import{_ as Ce}from"./VCheckbox.c6854646.js";import{_ as A,a as W}from"./metadata-dialog.7de022d6.js";import{_ as V,a as O}from"./VWindowItem.12733f5d.js";import"./change-password-dialog.c7914e45.js";import"./VSubheader.c2ee9e36.js";import"./VSimpleTable.cf7e6a60.js";import"./datetime.5fb8de45.js";const $e=F(N,c),x=$e.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...c.options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},c.options.methods.genDefaultSlot.call(this))},genInputSlot(){const t=c.options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel(){const t=c.options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:N.options.methods.onClick},render(t){const e=c.options.render.call(this,t);return this._b(e.data,"div",this.attrs$),e}});const xe=F(fe,ge,ke,Se("radioGroup"),ue),g=xe.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){if(!this.isDisabled)return h.options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return c.options.computed.computedId.call(this)},hasLabel:c.options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||`radio-${this.radioGroup._uid}`},rippleState(){return h.options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(t){return h.options.methods.genInput.call(this,"radio",t)},genLabel(){return this.hasLabel?this.$createElement(be,{on:{click:ve},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},ce(this,"label")||this.label):null},genRadio(){const{title:t,...e}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(r,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...e}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(t){this.isFocused=!0,this.$emit("focus",t)},onBlur(t){this.isFocused=!1,this.$emit("blur",t)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(t){const e={staticClass:"v-radio",class:this.classes,on:we({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return t("div",e,[this.genRadio(),this.genLabel()])}}),ye={name:"DownloadPanel",data(){return{mdiDownload:J,mdiFileImage:Q}},computed:{..._(n,["title"]),...l(E,{downloadFileName:t=>t.title+".cbz",timestamp:t=>t.timestamp,pageSrc:function(t){return d(this.$route.params,t.timestamp)},pageName:function(t){const e=this.$route.params.page;return`${t.title} - page ${e}.jpg`},downloadURL:function(t){return de(this.$route.params.pk,t.timestamp)}})},methods:{...u(_e,["downloadIOSPWAFix"]),downloadPage(){this.downloadIOSPWAFix(this.pageSrc,this.pageName)},downloadBook(){this.downloadIOSPWAFix(this.downloadURL,this.downloadFileName)}}};var Pe=function(){var e=this,o=e._self._c;return o(X,[o(S,{attrs:{ripple:""},on:{click:e.downloadPage}},[o(C,[o($,[o(r,[e._v(e._s(e.mdiFileImage))]),e._v(" Download Page "+e._s(e.$route.params.page)+" ")],1)],1)],1),o(S,{attrs:{ripple:""},on:{click:e.downloadBook}},[o(C,[o($,[o(r,[e._v(e._s(e.mdiDownload))]),e._v(" Download Book ")],1)],1)],1)],1)},Te=[],Be=a(ye,Pe,Te,!1,null,null,null,null);const K=Be.exports;const Re=["fitTo","twoPages"],De={name:"ReaderSettingsPanel",data(){return{isGlobalScope:!1}},computed:{...l(n,{fitToChoices:t=>t.choices.fitTo,settingsScope:function(t){const e=this.isGlobalScope?"globl":"local";return t.settings[e]},nullValues:t=>t.nullValues,isClearSettingsButtonDisabled:function(t){if(this.isGlobalScope)return!0;for(const e of Re)if(!t.nullValues.has(t.settings.local[e]))return!1;return!0}})},mounted(){window.addEventListener("keyup",this._keyListener)},unmounted:function(){window.removeEventListener("keyup",this._keyListener)},methods:{...u(n,["clearSettingsLocal","setSettingsGlobal","setSettingsLocal"]),settingsDialogChanged:function(t){this.isGlobalScope?this.setSettingsGlobal(t):this.setSettingsLocal(t)},_keyListener:function(t){switch(t.stopPropagation(),t.key){case"w":this.setSettingsLocal({fitTo:"WIDTH"});break;case"h":this.setSettingsLocal({fitTo:"HEIGHT"});break;case"s":this.setSettingsLocal({fitTo:"SCREEN"});break;case"o":this.setSettingsLocal({fitTo:"ORIG"});break;case"2":this.setSettingsLocal({twoPages:!this.settingsScope.twoPages});break}}}};var Le=function(){var e=this,o=e._self._c;return o("div",{attrs:{id:"readerSettings"}},[o("h3",[e._v("Reader Settings")]),o(x,{attrs:{label:"Scope"},model:{value:e.isGlobalScope,callback:function(s){e.isGlobalScope=s},expression:"isGlobalScope"}},[o(g,{attrs:{label:"Only this comic",value:!1}}),o(g,{attrs:{label:"Default for all comics",value:!0}})],1),o(x,{staticClass:"displayRadioGroup",attrs:{label:"Display",value:e.settingsScope.fitTo},on:{change:function(s){return e.settingsDialogChanged({fitTo:s})}}},e._l(e.fitToChoices,function(s){return o(g,{key:s.value,attrs:{label:s.text,value:s.value}})}),1),o(Ce,{staticClass:"displayTwoPages",attrs:{label:"Two pages","input-value":e.settingsScope.twoPages,indeterminate:e.settingsScope.twoPages===null||e.settingsScope.twoPages===void 0,ripple:""},on:{change:function(s){return e.settingsDialogChanged({twoPages:s===!0})}}}),o(m,{class:{invisible:e.isGlobalScope},attrs:{id:"clearSettingsButton",disabled:e.isClearSettingsButtonDisabled,title:"Use the default settings for all comics for this comic"},on:{click:e.clearSettingsLocal}},[e._v(" Clear Comic Settings ")])],1)},Ie=[],Fe=a(De,Le,Ie,!1,null,"c2df8f6f",null,null);const M=Fe.exports;const Ee={data(){return{mdiMenuLeft:ee,mdiMenuRight:te,mdiKeyboardSpace:oe,mdiAppleKeyboardShift:se}},methods:{isMobile:function(){return typeof window.orientation<"u"||navigator.userAgent.includes("IEMobile")}}};var Ge=function(){var e=this,o=e._self._c;return e.isMobile()?e._e():o("div",{attrs:{id:"readerKeyboardShortcutsDialog"}},[o("h3",[e._v("Keyboard Shortcuts")]),o("table",{staticClass:"highlight-table",attrs:{id:"readerKeyboardShortcutsTable"}},[o("tbody",[o("tr",[o("td",[o(r,{staticClass:"keyIcon"},[e._v(" "+e._s(e.mdiMenuLeft)+" ")]),e._v(", j, "),o("div",[o(r,{staticClass:"keyIcon",attrs:{dense:""}},[e._v(" "+e._s(e.mdiAppleKeyboardShift)+" ")]),o(r,{staticClass:"keyIcon",attrs:{dense:""}},[e._v(" "+e._s(e.mdiKeyboardSpace)+" ")])],1)],1),o("td",[e._v("Previous page")])]),o("tr",[o("td",[o(r,{staticClass:"keyIcon"},[e._v(" "+e._s(e.mdiMenuRight)+" ")]),e._v(", k, "),o(r,{staticClass:"keyIcon",attrs:{dense:""}},[e._v(" "+e._s(e.mdiKeyboardSpace)+" ")])],1),o("td",[e._v("Next page")])]),e._m(0),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6)])])])},Ne=[function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("h")]),e("td",[t._v("Fit page to screen height")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("w")]),e("td",[t._v("Fit page to screen width")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("s")]),e("td",[t._v("Fit page to screen")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("o")]),e("td",[t._v("Show page at original size")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("2")]),e("td",[t._v("Toggle two page view")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("m")]),e("td",[t._v("Show comic's metadata")])])},function(){var t=this,e=t._self._c;return e("tr",[e("td",[t._v("esc")]),e("td",[t._v("Close book")])])}],Ae=a(Ee,Ge,Ne,!1,null,"f37f94e1",null,null);const We=Ae.exports,Ve={name:"ReaderSettingsPanel",components:{ReaderKeyboardShortcutsPanel:We,ReaderSettingsPanel:M,SettingsCommonPanel:j,DownloadPanel:K,SettingsFooter:R,VersionFooter:D},computed:{..._(f,["isCodexViewable"]),...G(n,["isSettingsDrawerOpen"])}};var Oe=function(){var e=this,o=e._self._c;return o(L,{staticClass:"settingsDrawer",attrs:{id:"readerSettingsDrawer",app:"",right:"",temporary:"",touchless:""},scopedSlots:e._u([{key:"append",fn:function(){return[o(D)]},proxy:!0}]),model:{value:e.isSettingsDrawerOpen,callback:function(s){e.isSettingsDrawerOpen=s},expression:"isSettingsDrawerOpen"}},[e.isCodexViewable?o("div",{staticClass:"settingsDrawerContainer"},[o("div",{attrs:{id:"topBlock"}},[o(M),o(p),o("ReaderKeyboardShortcutsPanel"),o(p),o(K),o(p),o("SettingsCommonPanel"),o(p)],1),o(R)],1):e._e()])},Ke=[],Me=a(Ve,Oe,Ke,!1,null,null,null,null);const H=Me.exports,He={name:"ReaderNavButton",props:{value:{type:Number,required:!0}},computed:{toRoute:function(){const t={...this.$route.params};return t.page=this.value,{name:this.$route.name,params:t}},disabled:function(){return this.$route.params.page===this.value}}};var Ue=function(){var e=this,o=e._self._c;return o(m,{staticClass:"readerNavButton",attrs:{disabled:e.disabled,to:e.toRoute,ripple:"",large:""}},[e._v(" "+e._s(e.value)+" ")])},Ye=[],qe=a(He,Ue,Ye,!1,null,null,null,null);const v=qe.exports;const Xe={name:"ReaderNavToolbar",components:{PaginationSlider:A,ReaderNavButton:v},computed:{...l(n,{maxPage:t=>t.comic?t.comic.maxPage:0,comicLoaded:t=>t.comicLoaded})},methods:{...u(n,["routeToPage"])}};var je=function(){var e=this,o=e._self._c;return e.maxPage?o(I,{staticClass:"readerNavToolbar codexToolbar",attrs:{dense:"",transform:"center bottom"}},[o(v,{attrs:{value:0}}),o(A,{key:e.comicLoaded,attrs:{value:+e.$route.params.page,min:0,max:e.maxPage},on:{change:function(s){return e.routeToPage(s)}}}),o(v,{attrs:{value:e.maxPage}})],1):e._e()},ze=[],Ze=a(Xe,je,ze,!1,null,"4486fd87",null,null);const U=Ze.exports;const y="prev",P="next",Je={name:"ReaderTitleToolbar",components:{MetadataDialog:W,SettingsDrawerButton:z},data(){return{mdiClose:ne}},head(){const t=this.$route.params.page,e=`read ${this.title} page ${t}`;return{meta:[{hid:"description",name:"description",content:e}]}},computed:{..._(n,["computedSettings","title"]),...l(n,{routes:t=>t.routes,timestamp:t=>t.timestamp,seriesPosition:function(t){const e=t.routes;if(e.seriesCount>1)return`${e.seriesIndex}/${e.seriesCount}`}}),...l(E,{lastRoute:t=>t.page.routes.last}),...G(n,["isSettingsDrawerOpen"]),closeBookRoute:function(){const t={name:"browser",params:this.lastRoute};return t.params?t.hash=`#card-${this.$route.params.pk}`:t.params=window.CODEX.LAST_ROUTE||pe.browser.route,t}},mounted(){window.addEventListener("keyup",this._keyListener)},unmounted:function(){window.removeEventListener("keyup",this._keyListener)},methods:{...u(n,["routeToDirection"]),openMetadata:function(){this.$refs.metadataDialog.dialog=!0},_keyListener:function(t){switch(t.stopPropagation(),t.key){case" ":!t.shiftKey&&window.innerHeight+window.scrollY>=document.body.scrollHeight&&this.routes.next?this.routeToDirection(P):!!t.shiftKey&&window.scrollY===0&&this.routes.prev&&this.routeToDirection(y);break;case"j":case"ArrowRight":this.routeToDirection(P);break;case"k":case"ArrowLeft":this.routeToDirection(y);break;case"Escape":this.$refs.closeBook.$el.click();break;case"m":this.openMetadata();break}}}};var Qe=function(){var e=this,o=e._self._c;return o(I,{staticClass:"codexToolbar",attrs:{id:"readerTopToolbar",dense:""}},[o(b,[o(m,{ref:"closeBook",attrs:{id:"closeBook",to:e.closeBookRoute,large:"",ripple:""}},[e.$vuetify.breakpoint.mobile?o(r,{attrs:{title:"Close Book"}},[e._v(" "+e._s(e.mdiClose)+" ")]):o("span",[e._v("close book")])],1)],1),o(w),o(Z,{attrs:{id:"toolbarTitle"}},[e._v(" "+e._s(e.title)+" ")]),o(w),e.seriesPosition?o("span",{attrs:{id:"seriesPosition",title:"Series Position"}},[e._v(e._s(e.seriesPosition))]):e._e(),o(b,[o(m,{attrs:{id:"tagButton"},on:{click:function(s){return s.stopPropagation(),e.openMetadata.apply(null,arguments)}}},[o(W,{ref:"metadataDialog",attrs:{group:"c",pk:Number(e.$route.params.pk)}})],1),o("SettingsDrawerButton",{attrs:{id:"settingsButton"},on:{click:function(s){s.stopPropagation(),e.isSettingsDrawerOpen=!0}}})],1)],1)},et=[],tt=a(Je,Qe,et,!1,null,"dbddf492",null,null);const Y=tt.exports;const ot={name:"ChangeBookDrawer",props:{direction:{type:String,required:!0}},data(){return{icon:this.direction==="next"?ae:re,classes:{[this.direction]:!0}}},computed:{...l(n,{routes:t=>t.routes,isDrawerOpen(t){return t.bookChange===this.direction}}),display(){return!this.routes[this.direction]&&this.routes[this.direction+"Book"]},route(){const t=this.direction+"Book",e=this.routes[t];return e?{params:e}:!1},label(){return(this.direction==="prev"?"Previous":"Next")+" Book"}}};var st=function(){var e=this,o=e._self._c;return e.display?o(L,{staticClass:"changeBookDrawer",class:e.classes,attrs:{absolute:"",left:e.direction==="prev",right:e.direction==="next",temporarary:"",value:e.isDrawerOpen,width:"33%"}},[o("router-link",{staticClass:"navLink",attrs:{to:e.route,"aria-label":e.label,title:e.label}},[o(r,{staticClass:"bookChangeIcon"},[e._v(" "+e._s(e.icon)+" ")])],1)],1):e._e()},nt=[],at=a(ot,st,nt,!1,null,"330de6cc",null,null);const k=at.exports;const rt=()=>me(()=>import("./pdf.f14ba89d.js"),["assets/pdf.f14ba89d.js","assets/pdf.7c0f9ff2.css","assets/submit-footer.8cc090e5.js","assets/submit-footer.339fc0bc.css","assets/main.5420b138.js","assets/main.8be8cc93.css","assets/index.3483e550.js","assets/index.e21e5da2.css","assets/confirm-footer.7e19fa4d.js","assets/confirm-footer.c0d1779e.css","assets/VInput.3d834aae.js","assets/VInput.ad5269aa.css","assets/placeholder-loading.c65575bf.js"]),T={rel:"prefetch",as:"image"},it={name:"PagesWindow",components:{PDFPage:rt},props:{pk:{type:Number,required:!0},initialPage:{type:Number,default:0}},data(){return{activePage:this.initialPage}},head(){const t=[];if(this.nextSrc&&t.push({...T,href:this.nextSrc}),this.prevSrc&&t.push({...T,href:this.prevSrc}),t.length>0)return{link:t}},computed:{..._(n,["computedSettings","fitToClass"]),...l(n,{numWindowItems:t=>t.comic?(t.comic.maxPage||0)+1:0,maxPage:t=>t.comic.maxPage,isPDF:t=>t.comic?t.comic.fileFormat==="pdf":!1,routes:t=>t.routes,timestamp:t=>t.timestamp,secondPage(t){return t.computedSettings.twoPages&&+this.activePage+1<=t.comic.maxPage},nextSrc(t){const e=t.routes;return e.next?d(e.next,t.timestamp):void 0},prevSrc(t){const e=t.routes;return e.prev?d(e.prev,t.timestamp):void 0},comicLoaded:t=>t.comicLoaded})},watch:{$route(t){+t.params.pk===this.pk&&(this.setRoutesAndBookmarkPage(),this.setActivePage(+t.params.page))},comicLoaded(t){t&&this.setActivePage()}},mounted(){this.$refs.pagesWindow.$el.children[0].addEventListener("click",this.click)},unmounted(){this.$refs.pagesWindow.$el.children[0].removeEventListener("click",this.click)},methods:{...u(n,["loadBook","routeToDirection","routeToPage","setBookChangeFlag","setRoutesAndBookmarkPage"]),getSrc(t){const e={pk:this.pk,page:t};return d(e,this.timestamp)},setActivePage(t){if(!(!this.comicLoaded||this.pk!==+this.$route.params.pk)){if(t===void 0&&(t=+this.$route.params.page||0),t<0)return this.routeToPage(0);if(t>this.maxPage)return this.routeToPage(this.maxPage);this.activePage=t,window.scrollTo(0,0)}},pageChange(t){this.routeToDirection(t)},bookChange(t){this.routes[t+"Book"]&&this.setBookChangeFlag(t)},changeSrcToError(t){t.target.src=window.CODEX.MISSING_PAGE}}};var lt=function(){var e=this,o=e._self._c;return o(V,{ref:"pagesWindow",attrs:{id:"pagesWindow","show-arrows":"",value:e.activePage},scopedSlots:e._u([{key:"prev",fn:function(){return[o("div",{staticClass:"pageChangeColumn",attrs:{"aria-label":"previous page"},on:{click:function(s){return s.stopPropagation(),e.pageChange("prev")}}})]},proxy:!0},{key:"next",fn:function(){return[o("div",{staticClass:"pageChangeColumn",attrs:{"aria-label":"next page"},on:{click:function(s){return s.stopPropagation(),e.pageChange("next")}}})]},proxy:!0}])},[o("div",{staticClass:"bookChangeColumn",class:{upArrow:e.routes.prevBook},attrs:{id:"bookChangePrev"},on:{click:function(s){return s.stopPropagation(),e.bookChange("prev")}}}),o("div",{staticClass:"bookChangeColumn",class:{downArrow:e.routes.nextBook},attrs:{id:"bookChangeNext"},on:{click:function(s){return s.stopPropagation(),e.bookChange("next")}}}),e._l(e.numWindowItems,function(s,i){return o(O,{key:`c/${e.pk}/${i}`,staticClass:"windowItem",attrs:{disabled:"",eager:i>=e.activePage-1&&i<=e.activePage+2}},[e.isPDF?o("PDFPage",{attrs:{source:e.getSrc(i)}}):o("img",{staticClass:"page",class:e.fitToClass,attrs:{src:e.getSrc(i),alt:`Page ${i}`},on:{error:e.changeSrcToError}}),e.secondPage&&e.isPDF?o("PDFPage",{attrs:{source:e.getSrc(i+1),classes:e.fitToClass}}):e.secondPage?o("img",{staticClass:"page",class:e.fitToClass,attrs:{src:e.getSrc(i+1),alt:`Page ${i+1}`},on:{error:e.changeSrcToError}}):e._e()],1)})],2)},ct=[],ut=a(it,lt,ct,!1,null,"72bcfbc4",null,null);const q=ut.exports;const B={rel:"prefetch",as:"image"},dt={name:"BooksWindow",components:{ChangeBookDrawer:k},emits:["click"],data(){return{windowBook:+this.$route.params.pk}},head(){const t=[];if(this.nextSrc&&t.push({...B,href:this.nextSrc}),this.prevSrc&&t.push({...B,href:this.prevSrc}),t.length>0)return{link:t}},computed:{...l(n,{books:function(t){const e=[],o=t.routes;return!o.prev&&o.prevBook&&e.push(+o.prevBook.pk),e.includes(+this.$route.params.pk)||e.push(+this.$route.params.pk),!o.next&&o.nextBook&&!e.includes(+o.nextBook.pk)&&e.push(+o.nextBook.pk),e},routes:t=>t.routes,bookChange:t=>t.bookChange,nextSrc(t){const e=t.routes;if(!e.next&&e.nextBook)return d(e.nextBook,t.timestamp)},prevSrc(t){const e=t.routes;if(!e.prev&&e.prevBook)return d(e.prevBook,t.timestamp)},comicLoaded:t=>t.comicLoaded})},watch:{$route(t,e){(!e||!e.params||+t.params.pk!=+e.params.pk)&&(this.loadBook(),this.windowBook=+t.params.pk)}},mounted(){this.$refs.booksWindow.$el.children[0].addEventListener("click",this.click)},unmounted(){this.$refs.booksWindow.$el.children[0].removeEventListener("click",this.click)},methods:{...u(n,["routeToDirection","setBookChangeFlag","loadBook"]),click(){this.setBookChangeFlag(),this.$emit("click")},eager(t){return this.bookChange==="next "&&this.routes.nextBook.pk===t||this.bookChange==="prev "&&this.routes.prevBook.pk===t}}};var _t=function(){var e=this,o=e._self._c;return o(V,{ref:"booksWindow",attrs:{id:"booksWindow",value:e.windowBook,vertical:"",touchless:""}},[o(k,{attrs:{direction:"prev"}}),e._l(e.books,function(s){return o(O,{key:`c/${s}`,staticClass:"windowItem",attrs:{disabled:"",eager:e.routes.prevBook&&e.routes.prevBook.pk===s&&e.bookChange==="prev"||e.routes.nextBook&&e.routes.nextBook===s&&e.bookChange==="next",value:s}},[o(q,{attrs:{pk:s,"initial-page":e.routes.prevBook&&s===e.routes.prevBook.pk?e.routes.prevBook.page:0}})],1)}),o(k,{attrs:{direction:"next"}})],2)},pt=[],mt=a(dt,_t,pt,!1,null,"4556e3cd",null,null);const ht=mt.exports;const gt={name:"MainReader",components:{BooksWindow:q,ReaderNavToolbar:U,ReaderTitleToolbar:Y,ReaderSettingsDrawer:H},data(){return{showToolbars:!1}},computed:{..._(f,["isCodexViewable"]),...l(f,{user:t=>t.user})},watch:{user:function(){this.loadReaderSettings()},isCodexViewable:function(){this.loadReaderSettings()}},created(){this.loadReaderSettings(),this.loadBook()},methods:{...u(n,["loadReaderSettings","loadBook"]),toggleToolbars:function(){this.showToolbars=!this.showToolbars}}};var ft=function(){var e=this,o=e._self._c;return o("div",[o(he,{attrs:{id:"readerWrapper"}},[e.isCodexViewable?o("div",{attrs:{id:"readerContainer"}},[o(ht,{on:{click:e.toggleToolbars}}),o(ie,[o(Y,{directives:[{name:"show",rawName:"v-show",value:e.showToolbars,expression:"showToolbars"}]})],1),o(le,[o(U,{directives:[{name:"show",rawName:"v-show",value:e.showToolbars,expression:"showToolbars"}]})],1)],1):o("div",{attrs:{id:"announcement"}},[o("h1",[o("router-link",{attrs:{to:{name:"home"}}},[e._v(" Log in ")]),e._v(" to read comics ")],1)])]),o(H)],1)},vt=[],kt=a(gt,ft,vt,!1,null,"7564d54d",null,null);const Et=kt.exports;export{Et as default};
