syntax = "proto3";

package lte.proto;

message Request {
  uint64 id = 1;
  oneof payload {
    Init init = 2;
    Shutdown shutdown = 3;
    Step step = 4;
  }
}

message Reply {
  uint64 id = 1;
  oneof payload {
    Init init = 2;
    Shutdown shutdown = 3;
    Space action = 4;
  }
}

message Init {  // allways a request
  string action_space_code = 1;
  string observation_space_code = 2;
  string reward_space_code = 3;
}

message Shutdown { // can be request or reply
}

message Step {
  Space observation = 1;
  Space reward = 2;
}

message Space {
  oneof value {
    Box box = 1;
    Dict dict = 2;
    Discrete discrete = 3;
    MultiBinary multi_binary = 4;
    MultiDiscrete multi_discrete = 5;
    Tuple tuple = 6;
  }
}

message Box {
  repeated double values = 1;
}

message Dict {
  message Item {
    string key = 1;
    Space value = 2;
  }

  repeated Item values = 1;
}

message Discrete {
  uint64 value = 1;
}

message MultiBinary {
  repeated bool values = 1;
}

message MultiDiscrete {
  repeated uint64 values = 1;
}

message Tuple {
  repeated Space values = 1;
}
